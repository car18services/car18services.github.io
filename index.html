<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <title>
      Car18 - Doorstep Car Wash & Detailing in Lucknow | Glistenride Services
      Private Limited
    </title>
    <meta
      name="description"
      content="Car18 offers Showroom Finish at Your Home, detailing, and car care services in Lucknow and beyond. Trusted by 10,000+ car owners. Rated 4.9 stars on Google. Powered by Glistenride Services Private Limited."
    />
    <link rel="canonical" href="https://car18.in/" />
    <meta
      property="og:title"
      content="Car18 - Doorstep Car Wash & Detailing in Lucknow"
    />
    <meta
      property="og:description"
      content="Premium doorstep car wash, detailing, and car care services in Lucknow. Trusted by thousands. Powered by Glistenride Services Private Limited."
    />
    <meta property="og:image" content="https://car18.in/logo.png" />
    <meta property="og:url" content="https://car18.in/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Car18" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@car18_official" />
    <meta
      name="twitter:title"
      content="Car18 - Doorstep Car Wash & Detailing in Lucknow"
    />

    <!-- PWA Manifest and Meta Tags -->
    <link rel="manifest" href="./manifest.json" />
    <meta name="theme-color" content="#0066ff" />
    <meta name="application-name" content="Car18 Lite" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Car18 Lite" />
    <link rel="apple-touch-icon" href="./logo.webp" />
    <link rel="icon" type="image/png" sizes="192x192" href="./logo.webp" />
    <link rel="icon" type="image/png" sizes="512x512" href="./logo.webp" />
    <meta name="msapplication-TileImage" content="./logo.webp" />
    <meta name="msapplication-TileColor" content="#0066ff" />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Car18",
        "image": "https://car18.in/logo.png",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Lucknow",
          "addressCountry": "IN"
        },
        "url": "https://car18.in/",
        "telephone": "+91-8005003533"
      }
    </script>

    <!-- DNS Prefetch and Preconnect for critical domains -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
    <link rel="dns-prefetch" href="https://i.ibb.co" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link rel="preconnect" href="https://i.ibb.co" crossorigin />

    <!-- Critical CSS Inline - Only what's needed for above-the-fold content -->
    <style>
      /* Critical CSS for above-the-fold content */
      :root {
        --primary: #0066ff;
        --primary-dark: #0052cc;
        --secondary: #ff6b00;
        --dark: #1a1a1a;
        --light: #f8f9fa;
        --gray: #6c757d;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: sans-serif; /* System font fallback */
        background-color: #ffffff;
        color: var(--dark);
        line-height: 1.6;
        overflow-x: hidden;
      }
      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
      }
      .logo {
        display: flex;
        align-items: center;
        text-decoration: none;
      }
      .logo-text {
        font-family: sans-serif;
        font-size: 1.8rem;
        font-weight: 800;
        color: white;
      }
      .nav-links {
        display: flex;
        list-style: none;
      }
      .nav-links li {
        margin-left: 30px;
      }
      .nav-links a {
        text-decoration: none;
        color: white;
        font-weight: 500;
      }
      .hero {
        height: 40vh;
        min-height: 350px;
        display: flex;
        align-items: center;
        color: white;
        text-align: center;
        position: relative;
        overflow: hidden;
      }
      .hero-fallback {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
      }
      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.92);
        z-index: 1;
        pointer-events: none;
      }
      .hero-content {
        max-width: 800px;
        margin: 0 auto;
        position: relative;
        z-index: 4;
        opacity: 1 !important;
        visibility: visible !important;
      }
      .hero-title {
        font-size: 3.5rem;
        margin-bottom: 20px;
      }
      .hero-trust-indicators {
        margin: 15px 0;
        text-align: center;
      }
      .trust-text {
        font-size: 1rem;
        color: #666;
        margin: 5px 0;
      }
      .rating-badge {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin: 8px 0;
      }
      .stars {
        display: flex;
        gap: 2px;
      }
      .stars i {
        color: #ff9900;
        font-size: 16px;
      }
      .rating-text {
        font-size: 0.9rem;
        color: #666;
        font-weight: 500;
      }
      .hero-subtitle {
        font-size: 1.3rem;
        margin-bottom: 30px;
      }
      .btn {
        display: inline-block;
        padding: 12px 30px;
        border-radius: 50px;
        font-weight: 600;
        text-decoration: none;
        text-align: center;
        cursor: pointer;
      }
      .btn-primary {
        background-color: var(--primary);
        color: white;
      }
      .btn-secondary {
        background-color: #0066ff;
        color: white;
      }

      /* Device-specific download button styles */
      .btn-primary i + i {
        margin-left: 5px;
      }

      .btn-primary .fab {
        margin-right: 5px;
        font-size: 1.2em;
      }

      /* Make icons bigger in confirmation screen too */
      .confirmation-actions .otp-btn .fab {
        font-size: 1.2em;
        margin-right: 5px;
      }

      /* App section button icons */
      .app-btn .fab {
        font-size: 1.3em;
      }
    </style>

    <!-- Modal Styles -->
    <style>
      /* Modal/Popup Styles */
      .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
      }

      .popup-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        max-width: 400px;
        width: 90%;
        text-align: center;
        position: relative;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .popup-content h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: var(--dark);
      }

      .popup-content p {
        font-size: 1rem;
        color: var(--gray);
        margin-bottom: 20px;
      }

      .close-popup {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        font-size: 1.2rem;
        color: var(--gray);
        cursor: pointer;
        transition: color 0.3s ease;
      }

      .close-popup:hover {
        color: var(--primary);
      }

      .app-notify-form {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .notify-input {
        padding: 12px;
        border: 1px solid var(--light-gray);
        border-radius: 8px;
        font-size: 1rem;
        width: 100%;
      }

      /* Talk to Expert Modal */
      .expert-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 3000;
        animation: fadeIn 0.3s ease;
      }

      .expert-modal {
        background: white;
        padding: 40px 30px;
        border-radius: 20px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        position: relative;
        border: none;
        outline: none;
        overflow: hidden;
        animation: slideIn 0.4s ease;
      }

      .expert-modal-header {
        margin-bottom: 25px;
        border: none;
        outline: none;
      }

      .expert-modal-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        color: white;
        font-size: 2rem;
      }

      .expert-modal-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--dark);
        margin-bottom: 10px;
      }

      .expert-modal-subtitle {
        color: var(--gray);
        font-size: 1rem;
        line-height: 1.5;
      }

      .expert-modal-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-top: 25px;
      }

      .phone-input-container {
        position: relative;
        display: flex;
        align-items: center;
        border: 2px solid var(--light-gray);
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        background: white;
      }

      .phone-input-container:focus-within {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        transform: translateY(-1px);
      }

      .phone-input-container.valid {
        border-color: var(--success);
        box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
      }

      .phone-input-container.invalid {
        border-color: var(--danger);
        box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
      }

      .phone-prefix {
        background: var(--light);
        padding: 15px 12px;
        font-weight: 600;
        color: var(--dark);
        border-right: 1px solid var(--light-gray);
        font-size: 1rem;
      }

      .phone-input {
        flex: 1;
        padding: 15px 12px;
        border: none;
        font-size: 1rem;
        background: transparent;
      }

      .phone-input:focus {
        outline: none;
      }

      .phone-input::placeholder {
        color: var(--gray);
      }

      .input-status {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .input-status.show {
        opacity: 1;
      }

      .expert-btn {
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        color: white;
        padding: 16px 30px;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        min-height: 54px;
      }

      .expert-btn:not(:disabled):hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
        background: linear-gradient(
          135deg,
          var(--primary-dark),
          var(--primary)
        );
      }

      .expert-btn:disabled {
        background: var(--gray);
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
      }

      .expert-btn:active:not(:disabled) {
        transform: translateY(0);
      }

      .btn-icon {
        font-size: 1.1rem;
        transition: transform 0.3s ease;
      }

      .expert-btn:hover .btn-icon {
        transform: scale(1.1);
      }

      .expert-btn.loading .btn-text,
      .expert-btn.loading .btn-icon {
        opacity: 0;
      }

      .expert-btn.loading .btn-loader {
        display: block;
      }

      .btn-text {
        transition: opacity 0.3s ease;
      }

      .btn-loader {
        width: 20px;
        height: 20px;
        border: 2px solid transparent;
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .btn-loader.show {
        display: block;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .trust-indicators {
        display: flex;
        justify-content: space-between;
        margin: 20px 0;
        padding: 15px;
        background: rgba(0, 102, 255, 0.05);
        border-radius: 10px;
        gap: 10px;
      }

      .trust-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1;
        text-align: center;
      }

      .trust-icon {
        font-size: 1.3rem;
        margin-bottom: 5px;
      }

      .trust-item span:last-child {
        font-size: 0.8rem;
        color: var(--gray);
        font-weight: 500;
      }

      .callback-promise {
        font-size: 0.85rem;
        color: var(--gray);
        line-height: 1.4;
        text-align: center;
        padding: 12px 16px;
        background: var(--light);
        border-radius: 8px;
        margin-top: 10px;
      }

      .callback-promise strong {
        color: var(--primary);
      }

      /* Mobile Responsive for Expert Modal */
      @media (max-width: 768px) {
        .expert-modal-overlay {
          padding: 20px;
          align-items: center;
        }

        .expert-modal {
          max-width: 100%;
          width: 90%;
          max-height: 80vh;
          margin: 0;
          padding: 25px 20px;
          border-radius: 20px;
          position: relative;
          transform: none;
          animation: slideIn 0.4s ease;
          overflow-y: auto;
        }

        .expert-modal-header {
          margin-bottom: 20px;
        }

        .expert-modal-icon {
          width: 50px;
          height: 50px;
          font-size: 1.8rem;
          margin: 0 auto 15px;
        }

        .expert-modal-title {
          font-size: 1.3rem;
          margin-bottom: 8px;
        }

        .expert-modal-subtitle {
          font-size: 0.9rem;
          margin-bottom: 20px;
        }

        .phone-input-container {
          margin-bottom: 15px;
        }

        .expert-input {
          padding: 12px 15px;
          font-size: 14px;
        }

        .expert-btn {
          padding: 12px 20px;
          font-size: 0.9rem;
        }

        .trust-indicators {
          display: none;
        }

        .callback-promise {
          display: none;
        }

        .expert-close-btn {
          top: 15px;
          right: 15px;
          width: 30px;
          height: 30px;
          font-size: 14px;
        }

        .success-content {
          padding: 30px 20px;
        }

        .success-icon {
          width: 80px;
          height: 80px;
          font-size: 2.5rem;
          margin-bottom: 20px;
        }

        .success-title {
          font-size: 1.4rem;
          margin-bottom: 10px;
        }

        .success-message {
          font-size: 0.95rem;
          margin-bottom: 20px;
        }

        .success-close-btn {
          padding: 10px 25px;
          font-size: 0.9rem;
        }
      }

      @media (max-width: 480px) {
        .expert-modal {
          padding: 20px 15px;
          max-height: 85vh;
          width: 95%;
          margin: 0 auto;
        }

        .expert-modal-title {
          font-size: 1.2rem;
          line-height: 1.3;
        }

        .expert-modal-subtitle {
          font-size: 0.85rem;
          line-height: 1.4;
          margin-bottom: 15px;
        }

        .callback-promise {
          font-size: 0.8rem !important;
          line-height: 1.3 !important;
          margin: 15px 0 !important;
          padding: 0 5px;
          word-wrap: break-word;
        }

        .trust-indicators {
          gap: 8px;
          margin: 15px 0;
        }

        .trust-item span:last-child {
          font-size: 0.7rem;
        }
      }

      /* Extra small mobile devices */
      @media (max-width: 360px) {
        .expert-modal {
          width: 98%;
          padding: 15px 12px;
          max-height: 90vh;
        }

        .expert-modal-title {
          font-size: 1.1rem;
          line-height: 1.2;
        }

        .expert-modal-subtitle {
          font-size: 0.8rem;
          line-height: 1.3;
          margin-bottom: 12px;
        }

        .callback-promise {
          font-size: 0.7rem !important;
          line-height: 1.2 !important;
          padding: 8px 10px !important;
          margin: 10px 0 !important;
          word-break: break-word;
          overflow-wrap: break-word;
        }

        .trust-item span:last-child {
          font-size: 0.65rem;
        }

        .expert-btn {
          padding: 12px 16px;
          font-size: 0.9rem;
        }
      }

      /* Success State Styles */
      .expert-modal-overlay.success-state .expert-modal-header,
      .expert-modal-overlay.success-state .expert-modal-form,
      .expert-modal-overlay.success-state .trust-indicators,
      .expert-modal-overlay.success-state .callback-promise,
      .expert-modal-overlay.success-state .success-details,
      .expert-modal-overlay.success-state .expert-modal-subtitle,
      .expert-modal-overlay.success-state .expert-close-btn {
        display: none;
      }

      .success-content {
        display: none;
        text-align: center;
        padding: 40px 20px;
      }

      .expert-modal-overlay.success-state .success-content {
        display: block;
      }

      .success-icon {
        width: 120px;
        height: 120px;
        background: var(--success);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 30px;
        color: white;
        font-size: 4rem;
        animation: successPop 0.6s ease-out;
        box-shadow: 0 10px 40px rgba(40, 167, 69, 0.3);
      }

      .success-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--success);
        margin-bottom: 15px;
        animation: fadeInUp 0.8s ease-out 0.2s both;
      }

      .success-message {
        font-size: 1.1rem;
        color: var(--gray);
        line-height: 1.6;
        margin-bottom: 30px;
        animation: fadeInUp 0.8s ease-out 0.4s both;
      }

      .success-details {
        background: rgba(40, 167, 69, 0.1);
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 30px;
        animation: fadeInUp 0.8s ease-out 0.6s both;
      }

      .success-details p {
        color: var(--success);
        font-weight: 600;
        margin: 0;
        font-size: 0.95rem;
      }

      .success-close-btn {
        background: var(--success);
        color: white;
        padding: 15px 40px;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        animation: fadeInUp 0.8s ease-out 0.8s both;
        box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
      }

      .success-close-btn:hover {
        background: #218838;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
      }

      @keyframes successPop {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        80% {
          transform: scale(1.1);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Mobile responsive for success state */
      @media (max-width: 768px) {
        .success-icon {
          width: 100px;
          height: 100px;
          font-size: 3rem;
          margin-bottom: 25px;
        }

        .success-title {
          font-size: 1.6rem;
          margin-bottom: 12px;
        }

        .success-message {
          font-size: 1rem;
          margin-bottom: 25px;
        }

        .success-details {
          padding: 15px;
          margin-bottom: 25px;
        }

        .success-close-btn {
          padding: 12px 30px;
          font-size: 0.9rem;
        }
      }

      @media (max-width: 480px) {
        .success-content {
          padding: 30px 15px;
        }

        .success-icon {
          width: 80px;
          height: 80px;
          font-size: 2.5rem;
          margin-bottom: 20px;
        }

        .success-title {
          font-size: 1.4rem;
        }

        .success-message {
          font-size: 0.9rem;
        }
      }

      /* Success State */
      .expert-modal.success-state .expert-modal-header,
      .expert-modal.success-state .expert-modal-form,
      .expert-modal.success-state .trust-indicators,
      .expert-modal.success-state .callback-promise {
        display: none;
      }

      .expert-modal-success {
        display: none;
        text-align: center;
        animation: slideInUp 0.5s ease;
      }

      .expert-modal.success-state .expert-modal-success {
        display: block;
      }

      .success-icon {
        width: 100px;
        height: 100px;
        background: linear-gradient(135deg, var(--success), #28a745);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 25px;
        color: white;
        font-size: 3rem;
        box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
        animation: bounceIn 0.6s ease;
      }

      .success-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--success);
        margin-bottom: 15px;
      }

      .success-message {
        color: var(--gray);
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .success-details {
        background: rgba(40, 167, 69, 0.1);
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
        border-left: 4px solid var(--success);
      }

      .success-details p {
        margin: 8px 0;
        font-size: 0.9rem;
        color: var(--gray);
      }

      .success-details strong {
        color: var(--dark);
        font-weight: 600;
      }

      .success-close-btn {
        background: var(--success);
        color: white;
        padding: 12px 30px;
        border: none;
        border-radius: 10px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 10px;
        min-width: 140px;
      }

      .success-close-btn:hover {
        background: #218838;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
      }

      .success-close-btn:active {
        transform: translateY(0);
      }

      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes bounceIn {
        0% {
          opacity: 0;
          transform: scale(0.3);
        }
        50% {
          opacity: 1;
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* Mobile responsive for success state */
      @media (max-width: 768px) {
        .success-icon {
          width: 80px;
          height: 80px;
          font-size: 2.2rem;
          margin-bottom: 20px;
        }

        .success-title {
          font-size: 1.5rem;
        }

        .success-message {
          font-size: 0.9rem;
        }

        .success-details {
          padding: 12px;
        }

        .success-close-btn {
          padding: 10px 25px;
          font-size: 0.9rem;
        }
      }

      @media (max-width: 480px) {
        .success-icon {
          width: 70px;
          height: 70px;
          font-size: 2rem;
          margin-bottom: 15px;
        }

        .success-title {
          font-size: 1.3rem;
        }

        .success-message {
          font-size: 0.85rem;
        }

        .success-close-btn {
          padding: 8px 20px;
          font-size: 0.85rem;
        }
      }

      .expert-close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        outline: none;
        font-size: 1.5rem;
        color: var(--gray);
        cursor: pointer;
        transition: all 0.3s ease;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
      }

      .expert-close-btn:hover {
        color: var(--primary);
        background: rgba(0, 102, 255, 0.1);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-50px) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      /* Mobile Responsiveness */
      @media (max-width: 768px) {
        .expert-modal {
          padding: 30px 20px;
          margin: 20px;
          width: calc(100% - 40px);
        }

        .expert-modal-icon {
          width: 60px;
          height: 60px;
          font-size: 1.5rem;
          margin-bottom: 15px;
        }

        .expert-modal-title {
          font-size: 1.5rem;
          margin-bottom: 8px;
        }

        .expert-modal-subtitle {
          font-size: 0.9rem;
        }

        .phone-input-container {
          flex-direction: row;
        }

        .phone-prefix {
          padding: 12px 10px;
          font-size: 0.9rem;
        }

        .phone-input {
          padding: 12px 10px;
          font-size: 0.9rem;
        }

        .expert-btn {
          padding: 14px 25px;
          font-size: 0.9rem;
          min-height: 50px;
        }

        .trust-indicators {
          flex-direction: row;
          gap: 8px;
          padding: 12px;
        }

        .trust-item span:last-child {
          font-size: 0.75rem;
        }

        .callback-promise {
          font-size: 0.8rem;
          padding: 10px 12px;
        }
      }

      @media (max-width: 480px) {
        .expert-modal {
          padding: 25px 15px;
          border-radius: 15px;
        }

        .expert-modal-title {
          font-size: 1.3rem;
        }

        .phone-prefix {
          padding: 10px 8px;
          font-size: 0.85rem;
        }

        .phone-input {
          padding: 10px 8px;
          font-size: 0.85rem;
        }

        .expert-btn {
          padding: 12px 20px;
          font-size: 0.85rem;
          min-height: 46px;
        }

        .btn-icon {
          font-size: 1rem;
        }

        .trust-indicators {
          flex-direction: column;
          gap: 8px;
          padding: 10px;
        }

        .trust-item {
          flex-direction: row;
          text-align: left;
          justify-content: flex-start;
          gap: 8px;
        }

        .trust-icon {
          margin-bottom: 0;
          font-size: 1.1rem;
        }
      }
    </style>

    <!-- App Section Styles -->
    <style>
      /* App Buttons */
      .app-btn {
        display: flex;
        align-items: center;
        background: white;
        color: var(--dark);
        padding: 10px 15px;
        border-radius: 8px;
        border: none;
        text-decoration: none;
        font-weight: 600;
        transition: transform 0.3s ease;
        min-height: 50px;
        flex: 1;
        justify-content: center;
        cursor: pointer;
      }

      .app-btn:hover {
        transform: translateY(-3px);
      }

      .app-btn i {
        font-size: 1.5rem;
        margin-right: 8px;
        color: var(--primary);
      }

      .app-btn div {
        display: flex;
        flex-direction: column;
        font-size: 0.9rem;
      }

      .app-btn small {
        font-size: 0.7rem;
        opacity: 0.8;
      }

      /* App Section */
      .app-section {
        background: linear-gradient(135deg, var(--primary), #0047b3);
        color: white;
        padding: 60px 0;
      }

      .app-container {
        display: flex;
        align-items: center;
        gap: 30px;
      }

      .app-image {
        flex: 1;
        animation: float 3s ease-in-out infinite;
        text-align: center;
      }

      .app-image img {
        max-width: 80%;
        width: 100%;
        height: auto;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        transform: scale(1.7);
      }

      .app-content {
        flex: 1;
        padding: 0 10px;
      }

      .app-title {
        font-size: 2rem;
        margin-bottom: 15px;
        line-height: 1.3;
        text-align: center;
      }

      .app-content p {
        font-size: 1rem;
        margin-bottom: 20px;
      }

      .app-features {
        margin: 20px 0;
      }

      .app-feature {
        display: flex;
        align-items: flex-start;
        margin-bottom: 15px;
      }

      .app-feature i {
        font-size: 1.2rem;
        color: var(--secondary);
        margin-right: 10px;
        margin-top: 3px;
        flex-shrink: 0;
      }

      .app-feature h4 {
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .app-feature p {
        font-size: 0.9rem;
      }

      .app-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .app-btn {
        display: flex;
        align-items: center;
        background: white;
        color: var(--dark);
        padding: 10px 15px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        transition: transform 0.3s ease;
        min-height: 50px;
        flex: 1;
        justify-content: center;
      }

      .app-btn:hover {
        transform: translateY(-3px);
      }

      .app-btn i {
        font-size: 1.5rem;
        margin-right: 8px;
        color: var(--primary);
      }

      .app-btn div {
        display: flex;
        flex-direction: column;
        font-size: 0.9rem;
      }

      .app-btn small {
        font-size: 0.7rem;
        opacity: 0.8;
      }

      @media (max-width: 992px) {
        .app-container {
          flex-direction: column;
        }

        .app-image {
          margin-bottom: 20px;
        }
      }

      @media (max-width: 768px) {
        .app-section {
          padding: 40px 0;
        }

        .app-container {
          gap: 20px;
        }

        .app-image img {
          max-width: 65%;
          margin: 0 auto;
        }

        .app-title {
          font-size: 1.8rem;
        }

        .app-content p {
          font-size: 0.95rem;
        }

        .app-feature i {
          font-size: 1rem;
          margin-right: 8px;
        }

        .app-feature h4 {
          font-size: 1rem;
        }

        .app-feature p {
          font-size: 0.85rem;
        }

        .app-btn {
          padding: 10px 15px;
          min-height: 50px;
        }

        .app-btn i {
          font-size: 1.3rem;
          margin-right: 6px;
        }

        .app-btn div {
          font-size: 0.85rem;
        }

        .app-btn small {
          font-size: 0.65rem;
        }
      }

      @media (max-width: 576px) {
        .app-section {
          padding: 30px 0;
        }

        .app-image img {
          max-width: 50%;
          transform: scale(2.7);
          margin-bottom: 70px;
          margin-top: 70px;
        }

        .app-title {
          font-size: 1.5rem;
          line-height: 1.4;
        }

        .app-content p {
          font-size: 0.85rem;
          line-height: 1.5;
        }

        .app-features {
          margin: 15px 0;
        }

        .app-feature {
          margin-bottom: 12px;
        }

        .app-feature i {
          font-size: 1rem;
          margin-right: 8px;
        }

        .app-feature h4 {
          font-size: 0.9rem;
        }

        .app-feature p {
          font-size: 0.8rem;
        }

        .app-buttons {
          flex-direction: column;
        }

        .app-btn {
          width: 100%;
          max-width: 300px;
          margin: 0 auto;
          padding: 10px 15px;
          min-height: 50px;
        }

        .app-btn i {
          font-size: 1.2rem;
        }

        .app-btn div {
          font-size: 0.8rem;
        }

        .app-btn small {
          font-size: 0.6rem;
        }
      }
    </style>

    <!-- Preload hero image with high priority -->
    <link
      rel="preload"
      href="https://i.ibb.co/gZ6tJxFM/cover-photo.webp"
      as="image"
      fetchpriority="high"
      media="(min-width: 769px)"
    />
    <link
      rel="preload"
      href="https://i.ibb.co/sJ5ZmrfS/cover-photo-mobile.jpg"
      as="image"
      fetchpriority="high"
      media="(max-width: 768px)"
    />

    <!-- Defer non-critical JavaScript -->
    <script type="text/javascript">
      // Inline analytics initialization
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "AW-16908208413");

      // Load non-critical scripts after page load
      window.addEventListener("load", function () {
        // Google Analytics
        var gaScript = document.createElement("script");
        gaScript.async = true;
        gaScript.src =
          "https://www.googletagmanager.com/gtag/js?id=AW-16908208413";
        document.head.appendChild(gaScript);
      });
    </script>

    <meta name="robots" content="index, follow" />
    <meta
      name="description"
      content="Experience the convenience of professional doorstep car wash services in Lucknow with Car18. Book now or download our app for premium car care at your location."
    />
    <meta
      name="keywords"
      content="car wash Lucknow, doorstep car wash Lucknow, mobile car wash, car cleaning service Lucknow, professional car wash, car detailing Lucknow"
    />
    <meta name="author" content="Car18® – Doorstep Car Wash in Lucknow" />
    <meta property="og:site_name" content="Car18" />
    <meta name="application-name" content="Car18" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />

    <!-- Preload critical resources -->
    <link
      rel="preload"
      href="https://i.ibb.co/gZ6tJxFM/cover-photo.webp"
      as="image"
      fetchpriority="high"
      media="(min-width: 769px)"
    />
    <link
      rel="preload"
      href="https://i.ibb.co/sJ5ZmrfS/cover-photo-mobile.jpg"
      as="image"
      fetchpriority="high"
      media="(max-width: 768px)"
    />

    <!-- Font Awesome - optimized loading -->
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      />
    </noscript>

    <!-- Google Fonts - optimized loading -->
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript>
      <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800&display=swap"
        rel="stylesheet"
      />
    </noscript>

    <!-- Glide.js Carousel CSS - loaded only when needed -->
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/css/glide.core.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/css/glide.theme.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/css/glide.core.min.css"
      />
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/css/glide.theme.min.css"
      />
    </noscript>

    <!-- YouTube Lite Embed CSS -->
    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/npm/lite-youtube-embed/src/lite-yt-embed.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/lite-youtube-embed/src/lite-yt-embed.css"
      />
    </noscript>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Car18",
        "legalName": "Car18",
        "alternateName": "Car18 Lucknow",
        "url": "https://car18.in",
        "logo": "https://car18.in/logo.svg",
        "sameAs": [
          "https://www.facebook.com/profile.php?id=61575191421458",
          "https://www.instagram.com/car18_official/"
        ],
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "356/340/1146, Ashok Vihar, Alamnagar",
          "addressLocality": "Lucknow",
          "addressRegion": "Uttar Pradesh",
          "postalCode": "226017",
          "addressCountry": "India"
        },
        "contactPoint": {
          "@type": "ContactPoint",
          "telephone": "+91-8005003533",
          "contactType": "customer service",
          "areaServed": "Lucknow",
          "availableLanguage": ["English", "Hindi"]
        }
      }
    </script>

    <!-- LocalBusiness Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Car18",
        "image": "https://car18.in/logo.svg",
        "@id": "https://car18.in#organization",
        "url": "https://car18.in",
        "telephone": "+91-8005003533",
        "priceRange": "₹₹",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "356/340/1146, Ashok Vihar",
          "addressLocality": "Alamnagar, Lucknow",
          "postalCode": "226017",
          "addressCountry": "IN"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": "26.8467",
          "longitude": "80.9462"
        },
        "openingHoursSpecification": {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": [
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday"
          ],
          "opens": "07:00",
          "closes": "21:00"
        },
        "sameAs": [
          "https://www.facebook.com/profile.php?id=61575191421458",
          "https://www.instagram.com/car18_official/"
        ]
      }
    </script>

    <style>
      :root {
        --primary: #0066ff;
        --primary-dark: #0052cc;
        --secondary: #ff6b00;
        --dark: #1a1a1a;
        --light: #f8f9fa;
        --gray: #6c757d;
        --light-gray: #e9ecef;
        --success: #28a745;
        --danger: #dc3545;
        --warning: #ffc107;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
        overflow-x: hidden;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: #ffffff;
        color: var(--dark);
        line-height: 1.6;
        overflow-x: hidden;
        min-width: 100vw;
      }

      h1,
      h2,
      h3,
      h4 {
        font-family: "Montserrat", sans-serif;
        font-weight: 700;
        line-height: 1.2;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      section {
        padding: 80px 0;
      }

      .btn {
        display: inline-block;
        padding: 12px 30px;
        border-radius: 50px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        text-align: center;
        cursor: pointer;
      }

      .btn-primary {
        background-color: var(--primary);
        color: white;
        box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
      }

      .btn-primary:hover {
        background-color: var(--primary-dark);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
      }

      .btn-book-now {
        background: linear-gradient(to bottom, #f7dfa5, #f0c14b);
        color: #111;
        border: 1px solid #a88734;
        box-shadow: 0 2px 5px rgba(213, 217, 217, 0.5);
        font-weight: 600;
        transition: all 0.15s ease;
      }

      .btn-book-now:hover {
        background: linear-gradient(to bottom, #f5d78e, #eeb933);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(213, 217, 217, 0.8);
        border-color: #9c7e31;
      }

      .btn-book-now:active {
        background: linear-gradient(to bottom, #e6cc7f, #d9a441);
        transform: translateY(0);
        box-shadow: 0 2px 3px rgba(213, 217, 217, 0.5);
      }

      .btn-secondary {
        background-color: #0066ff;
        color: white;
        box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
      }

      .btn-secondary:hover {
        background-color: #0052cc;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
      }

      .text-center {
        text-align: center;
      }

      .section-title {
        font-size: 2.5rem;
        margin-top: 1rem;
        margin-bottom: 3rem;
        position: relative;
        text-align: center;
      }

      .section-title:after {
        content: "";
        position: absolute;
        width: 60px;
        height: 4px;
        background: linear-gradient(to right, var(--primary), var(--secondary));
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 2px;
      }

      .section-subtitle {
        color: var(--gray);
        font-size: 1.1rem;
        max-width: 700px;
        margin: 0 auto 50px;
        text-align: center;
      }

      /* Hero styles */
      .hero {
        position: relative;
        height: 100vh;
        overflow: hidden;
      }

      .hero-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 1;
      }

      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.75);
        z-index: 2;
        pointer-events: none;
      }

      .hero-content {
        position: relative;
        z-index: 3;
        color: white;
        padding: 2rem;
      }

      /* Header Styles */
      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
        background-color: transparent;
        transition: all 0.3s ease;
      }

      header.scrolled {
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
      }

      .logo {
        display: flex;
        align-items: center;
        text-decoration: none;
      }

      .logo-text {
        font-family: "helvetica", sans-serif;
        font-size: 1.8rem;
        font-weight: 800;
        color: white;
        transition: color 0.3s ease;
      }

      .logo-text span:first-child {
        color: white;
        transition: color 0.3s ease;
      }

      .logo-text span:last-child {
        color: white;
        transition: color 0.3s ease;
      }

      /* Dark styles when header is scrolled */
      header.scrolled .logo-text,
      header.scrolled .logo-text span:first-child,
      header.scrolled .logo-text span:last-child {
        color: #333;
      }

      .nav-links {
        display: flex;
        list-style: none;
      }

      .nav-links li {
        margin-left: 30px;
      }

      .nav-links a {
        text-decoration: none;
        color: white;
        font-weight: 500;
        transition: color 0.3s ease;
        position: relative;
      }

      .nav-links a:hover {
        color: white;
        opacity: 0.8;
      }

      .nav-links a:after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        background: white;
        bottom: -5px;
        left: 0;
        transition: width 0.3s ease, background 0.3s ease;
      }

      /* Dark styles when header is scrolled */
      header.scrolled .nav-links a {
        color: #333;
      }

      header.scrolled .nav-links a:hover {
        color: #0066ff;
        opacity: 1;
      }

      header.scrolled .nav-links a:after {
        background: #0066ff;
      }

      .nav-links a:hover:after {
        width: 100%;
      }

      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: white;
        cursor: pointer;
        transition: color 0.3s ease;
      }

      /* Phone Number Styles */
      .phone-nav {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        color: white;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .phone-nav:hover {
        color: white;
        opacity: 0.8;
      }

      /* Dark styles when header is scrolled */
      header.scrolled .mobile-menu-btn {
        color: #333;
      }

      header.scrolled .phone-nav {
        color: #333;
      }

      header.scrolled .phone-nav:hover {
        color: #0066ff;
        opacity: 1;
      }

      .phone-nav i {
        font-size: 1.2rem;
      }

      .phone-nav span {
        font-size: 1rem;
        font-family: "Poppins", sans-serif;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      /* Hero Section - Updated */
      .hero {
        height: 100vh;
        min-height: 700px;
        display: flex;
        align-items: center;
        color: white;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      /* Fallback image - shown immediately */
      .hero-fallback {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
      }

      .hero-content {
        max-width: 800px;
        margin: 0 auto;
        position: relative;
        z-index: 4;
        opacity: 1 !important;
        visibility: visible !important;
      }

      /* Video styles */
      .hero video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 2;
        opacity: 1;
      }

      .hero video.active {
        opacity: 1;
        display: block;
      }

      .hero-content {
        max-width: 800px;
        margin: 0 auto;
        position: relative;
        z-index: 4;
        opacity: 0;
        transition: opacity 1s ease-in-out;
      }

      .hero-content.loaded {
        opacity: 1;
      }

      .hero-title {
        font-size: 3.5rem;
        margin-bottom: 20px;
        animation: fadeInDown 1s ease;
      }

      .hero-subtitle {
        font-size: 1.3rem;
        margin-bottom: 30px;
        animation: fadeInUp 1s ease 0.3s both;
      }

      .hero-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        animation: fadeInUp 1s ease 0.6s both;
        flex-wrap: wrap;
      }

      .hero-buttons .btn {
        min-width: 160px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 10px 20px;
        font-size: 0.9rem;
        font-weight: 600;
      }

      .hero-buttons .app-btn {
        min-width: 140px;
        max-width: 160px;
        flex: none;
      }

      /* Location Badge */
      .location-badge {
        background-color: var(--secondary);
        color: white;
        padding: 8px 20px;
        border-radius: 50px;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 15px;
        animation: fadeIn 1s ease 0.2s both;
      }

      /* Services Section */
      .services {
        background-color: var(--light);
        scroll-margin-top: 50px; /* Extra space for services section */
      }

      .services-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 40px;
        margin-top: 60px;
        padding: 0 20px;
      }

      @media (max-width: 992px) {
        .services-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 30px;
        }
      }

      @media (max-width: 768px) {
        .services-grid {
          grid-template-columns: 1fr;
          gap: 25px;
        }
      }

      .service-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
      }

      .service-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .service-img {
        height: 250px;
        overflow: hidden;
        position: relative;
      }

      .service-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .service-card:hover .service-img img {
        transform: scale(1.1);
      }

      /* YouTube Embed Container */
      .video-container {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
        height: 0;
        overflow: hidden;
        margin-bottom: 20px;
      }

      .video-container iframe,
      .video-container lite-youtube {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
      }

      .service-content {
        padding: 35px;
      }

      .service-title {
        font-size: 2rem;
        margin-bottom: 18px;
        color: var(--dark);
        font-weight: 600;
        line-height: 1.3;
      }

      .service-description {
        color: var(--gray);
        margin-bottom: 24px;
        font-size: 1.1rem;
        line-height: 1.6;
      }

      .service-price {
        font-weight: 700;
        color: var(--primary);
        font-size: 1.5rem;
        margin-bottom: 15px;
      }

      .original-price {
        text-decoration: line-through;
        color: var(--gray);
        font-size: 1.2rem;
        margin-right: 10px;
      }

      .discount-badge {
        background-color: var(--danger);
        color: white;
        padding: 3px 10px;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
        margin-left: 10px;
      }

      .popular-tag {
        position: absolute;
        top: 15px;
        right: 15px;
        background-color: var(--success);
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        z-index: 2;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .popular-tag1 {
        position: absolute;
        top: 15px;
        right: 15px;
        background-color: var(--gray);
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        z-index: 2;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .popular-tag2 {
        position: absolute;
        top: 15px;
        right: 15px;
        background-color: var(--secondary);
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        z-index: 2;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .service-features {
        margin: 20px 0;
      }

      .service-feature {
        display: flex;
        align-items: center;
        margin-bottom: 14px;
        font-size: 1rem;
        line-height: 1.5;
      }

      .service-feature i {
        color: var(--primary);
        margin-right: 12px;
        font-size: 1.1rem;
      }

      .service-includes {
        background-color: var(--light-gray);
        padding: 15px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .service-includes h4 {
        font-size: 1rem;
        margin-bottom: 10px;
        color: var(--dark);
      }

      .service-includes ul {
        list-style-type: none;
      }

      .service-includes li {
        margin-bottom: 5px;
        font-size: 0.85rem;
        color: var(--gray);
        position: relative;
        padding-left: 20px;
      }

      .service-includes li:before {
        content: "✓";
        color: var(--success);
        position: absolute;
        left: 0;
      }

      .gst-badge {
        font-size: 0.9rem;
        color: var(--gray);
        margin-top: 14px;
        display: block;
        line-height: 1.4;
      }

      .service-meta {
        display: flex;
        justify-content: space-between;
        margin-bottom: 18px;
        font-size: 1rem;
        color: var(--gray);
      }

      .service-duration,
      .service-frequency {
        display: flex;
        align-items: center;
      }

      .service-meta i {
        margin-right: 5px;
        color: var(--primary);
      }

      /* Know More Button for Mobile */
      .know-more-btn {
        display: none;
        background: none;
        border: none;
        color: var(--primary);
        font-weight: 600;
        font-size: 0.9rem;
        margin: 15px 0;
        cursor: pointer;
        text-align: left;
        width: 100%;
        padding: 0;
        -webkit-tap-highlight-color: transparent;
      }

      .know-more-btn i {
        margin-left: 5px;
        transition: transform 0.3s ease;
      }

      .know-more-btn.active i {
        transform: rotate(180deg);
      }

      /* Demo Video Button */
      .demo-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        background: rgba(0, 102, 255, 0.1);
        color: var(--primary);
        padding: 10px 20px;
        border-radius: 50px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        margin: 10px 0;
        border: 1px solid rgba(0, 102, 255, 0.2);
        width: 100%;
      }

      .demo-btn:hover {
        background: rgba(0, 102, 255, 0.2);
        transform: translateY(-2px);
      }

      .demo-btn i {
        font-size: 1.2rem;
      }

      /* Before/After Gallery Section */
      .before-after-section {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 100px 0;
        position: relative;
      }

      .before-after-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          var(--primary),
          transparent
        );
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 40px;
        margin-top: 60px;
      }

      .before-after-item {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        position: relative;
      }

      .before-after-item:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .comparison-container {
        position: relative;
        width: 100%;
        height: 250px;
        overflow: hidden;
      }

      .comparison-image {
        position: relative;
        width: 100%;
        height: 100%;
        cursor: col-resize;
      }

      .before-image,
      .after-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: all 0.3s ease;
      }

      .after-image {
        clip-path: polygon(90% 0%, 100% 0%, 100% 100%, 90% 100%);
      }

      .comparison-slider {
        position: absolute;
        top: 0;
        left: 90%;
        transform: translateX(-50%);
        width: 4px;
        height: 100%;
        background: var(--primary);
        cursor: col-resize;
        z-index: 10;
      }

      .slider-handle {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        background: var(--primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 16px;
        box-shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
        transition: all 0.3s ease;
      }

      .slider-handle:hover {
        transform: translate(-50%, -50%) scale(1.1);
        box-shadow: 0 6px 16px rgba(0, 102, 255, 0.4);
      }

      .comparison-labels {
        position: absolute;
        top: 20px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: space-between;
        padding: 0 20px;
        z-index: 5;
      }

      .before-label,
      .after-label {
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
        backdrop-filter: blur(10px);
      }

      .transformation-info {
        padding: 25px;
        text-align: center;
      }

      .transformation-info h3 {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--dark);
        margin-bottom: 8px;
      }

      .transformation-info p {
        color: var(--gray);
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .gallery-cta {
        text-align: center;
        margin-top: 60px;
        padding: 40px;
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .cta-text {
        font-size: 1.2rem;
        color: var(--dark);
        margin-bottom: 20px;
        font-weight: 600;
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .before-after-section {
          padding: 60px 0;
        }

        .gallery-grid {
          display: none !important;
        }

        .gallery-carousel {
          display: block !important;
        }

        .before-after-item {
          margin: 0 10px;
        }

        .comparison-container {
          height: 200px;
        }

        .transformation-info {
          padding: 20px;
        }

        .transformation-info h3 {
          font-size: 1.1rem;
        }

        .transformation-info p {
          font-size: 0.9rem;
        }

        .gallery-cta {
          margin: 40px 10px 0;
          padding: 30px 20px;
        }

        .cta-text {
          font-size: 1.1rem;
        }

        .slider-handle {
          width: 35px;
          height: 35px;
          font-size: 14px;
        }

        .before-label,
        .after-label {
          padding: 6px 12px;
          font-size: 12px;
        }

        .comparison-labels {
          padding: 0 15px;
          top: 15px;
        }
      }

      @media (max-width: 480px) {
        .gallery-grid {
          display: none !important;
        }

        .gallery-carousel {
          display: block !important;
        }

        .comparison-container {
          height: 180px;
        }

        .transformation-info {
          padding: 15px;
        }

        .gallery-cta {
          padding: 25px 15px;
        }
      }

      /* Gallery Carousel */
      .gallery-carousel {
        display: none;
        position: relative;
        margin-top: 50px;
      }

      .gallery-carousel .before-after-item {
        margin: 0 20px;
        max-width: 350px;
      }

      .gallery-carousel .glide__slide {
        display: flex;
        justify-content: center;
      }

      /* Show carousel on all mobile devices */
      @media (max-width: 991px) {
        .gallery-grid {
          display: none !important;
        }

        .gallery-carousel {
          display: block !important;
        }
      }

      /* YouTube Videos Section */
      .videos-section {
        background: white;
        padding: 80px 0;
      }

      .videos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 50px;
      }

      .video-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
      }

      .video-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .video-thumbnail {
        position: relative;
        width: 100%;
        aspect-ratio: 16/9; /* Maintain YouTube video aspect ratio */
        overflow: hidden;
        cursor: pointer;
        border-radius: 10px;
      }

      .video-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: contain; /* Show full image without cropping */
        background-color: #000; /* Black background for letterboxing if needed */
        transition: transform 0.5s ease;
      }

      .video-card:hover .video-thumbnail img {
        transform: scale(1.1);
      }

      .play-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 60px;
        height: 60px;
        background: rgba(0, 102, 255, 0.9);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        transition: all 0.3s ease;
      }

      .play-button:hover {
        background: var(--primary);
        transform: translate(-50%, -50%) scale(1.1);
      }

      .video-info {
        padding: 20px;
      }

      .video-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--dark);
        line-height: 1.4;
      }

      .video-description {
        color: var(--gray);
        font-size: 0.9rem;
        line-height: 1.5;
      }

      /* YouTube Videos Carousel for Mobile */
      .videos-carousel {
        display: none;
        position: relative;
        margin-top: 50px;
      }

      .video-slide {
        padding: 0 10px;
      }

      /* Brands Section */
      .brands-section {
        background: white;
        overflow: hidden;
      }

      .brands-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 40px;
        margin-top: 50px;
      }

      .brand-item {
        width: 150px;
        height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .brand-item:hover {
        transform: scale(1.1);
      }

      .brand-item img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
      }

      /* Brands Carousel */
      .brands-carousel {
        display: none;
        position: relative;
      }

      /* Testimonials Section */
      .testimonials {
        background-color: var(--light);
      }

      .testimonial-grid {
        display: none;
      }

      .testimonial-card {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        position: relative;
        transition: transform 0.3s ease;
      }

      .testimonial-card:hover {
        transform: translateY(-5px);
      }

      .testimonial-card:before {
        content: '"';
        position: absolute;
        top: 10px;
        left: 20px;
        font-size: 5rem;
        color: rgba(0, 102, 255, 0.1);
        font-family: serif;
        line-height: 1;
      }

      .testimonial-content {
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
      }

      .testimonial-author {
        display: flex;
        align-items: center;
      }

      .author-img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        overflow: hidden;
        margin-right: 15px;
      }

      .author-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .author-info h4 {
        margin-bottom: 5px;
      }

      .author-info p {
        color: var(--gray);
        font-size: 0.9rem;
      }

      .rating {
        color: #ffc107;
        margin-top: 5px;
      }

      /* Testimonials Carousel */
      .testimonials-carousel {
        display: block;
        position: relative;
        margin-top: 50px;
      }

      /* Carousel Arrows */
      .glide__arrows {
        position: absolute;
        width: 100%;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        justify-content: space-between;
        padding: 0 5px;
      }

      .glide__arrow {
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        color: var(--primary);
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .glide__arrow:hover {
        background: var(--primary);
        color: white;
      }

      .glide__arrow--left {
        left: 0;
      }

      .glide__arrow--right {
        right: 0;
      }

      .glide__slide {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0 10px;
      }

      .glide__bullets {
        display: none;
      }

      /* Proudly Indian Section */
      .proudly-indian-section {
        padding: 60px 0;
        background: linear-gradient(135deg, #ff9933, #ffffff, #138808);
        position: relative;
        overflow: hidden;
      }

      .proudly-indian-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.9);
        z-index: 1;
      }

      .proudly-indian-section .container {
        position: relative;
        z-index: 2;
      }

      .proudly-indian-section .section-title {
        color: #ff6600;
        margin-bottom: 1rem;
        font-weight: 700;
        text-align: center;
        position: relative;
      }

      .proudly-indian-section .section-title::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, #ff9933, #138808);
      }

      .proudly-indian-section .section-subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 3rem;
        font-size: 1.1rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .indian-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
      }

      .indian-item {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1.5rem;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        min-height: 120px;
        border: 2px solid transparent;
      }

      .indian-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(255, 102, 0, 0.2);
        border-color: #ff6600;
      }

      .indian-item img {
        max-width: 100%;
        max-height: 80px;
        object-fit: contain;
        filter: brightness(1);
        transition: all 0.3s ease;
      }

      .indian-item:hover img {
        filter: brightness(1.1) saturate(1.2);
      }

      .indian-carousel {
        display: none;
      }

      @media (max-width: 768px) {
        .indian-grid {
          display: none;
        }

        .indian-carousel {
          display: block;
        }

        .proudly-indian-section {
          padding: 40px 0;
        }
      }

      /* App Section */
      .app-section {
        background: linear-gradient(135deg, var(--primary), #0047b3);
        color: white;
        padding: 60px 0;
      }

      .app-container {
        display: flex;
        align-items: center;
        gap: 30px;
      }

      .app-image {
        flex: 1;
        animation: float 3s ease-in-out infinite;
        text-align: center;
      }

      .app-image img {
        max-width: 80%;
        width: 100%;
        height: auto;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        transform: scale(1.7);
      }

      .app-content {
        flex: 1;
        padding: 0 10px;
      }

      .app-title {
        font-size: 2rem;
        margin-bottom: 15px;
        line-height: 1.3;
        text-align: center;
      }

      .app-content p {
        font-size: 1rem;
        margin-bottom: 20px;
      }

      .app-features {
        margin: 20px 0;
      }

      .app-feature {
        display: flex;
        align-items: flex-start;
        margin-bottom: 15px;
      }

      .app-feature i {
        font-size: 1.2rem;
        color: var(--secondary);
        margin-right: 10px;
        margin-top: 3px;
        flex-shrink: 0;
      }

      .app-feature h4 {
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .app-feature p {
        font-size: 0.9rem;
      }

      .app-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .app-btn {
        display: flex;
        align-items: center;
        background: white;
        color: var(--dark);
        padding: 10px 15px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        transition: transform 0.3s ease;
        min-height: 50px;
        flex: 1;
        justify-content: center;
      }

      .app-btn:hover {
        transform: translateY(-3px);
      }

      .app-btn i {
        font-size: 1.5rem;
        margin-right: 8px;
        color: var(--primary);
      }

      .app-btn div {
        display: flex;
        flex-direction: column;
        font-size: 0.9rem;
      }

      .app-btn small {
        font-size: 0.7rem;
        opacity: 0.8;
      }

      /* Contact Section */
      .contact-section {
        background: white;
      }

      .contact-container {
        display: block;
        max-width: 600px;
        margin: 0 auto;
      }

      .contact-info {
        width: 100%;
      }

      .contact-card {
        background: var(--light);
        padding: 30px;
        border-radius: 15px;
        margin-bottom: 30px;
      }

      .contact-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 20px;
      }

      .contact-item i {
        font-size: 1.2rem;
        color: var(--primary);
        margin-right: 15px;
        margin-top: 3px;
      }

      /* FAQ Section */
      .faq-section {
        background-color: var(--light);
      }

      .faq-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .faq-item {
        background: white;
        border-radius: 10px;
        margin-bottom: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .faq-question {
        padding: 20px;
        font-weight: 600;
        font-size: 1.1rem;
        color: var(--dark);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: all 0.3s ease;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }

      .faq-question:hover {
        color: var(--primary);
      }

      .faq-question:active {
        background-color: rgba(0, 102, 255, 0.05);
      }

      .faq-question i {
        transition: transform 0.3s ease;
      }

      .faq-item.active .faq-question i {
        transform: rotate(180deg);
      }

      .faq-answer {
        padding: 0 20px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        will-change: max-height, padding;
      }

      .faq-item.active .faq-answer {
        padding: 0 20px 20px;
        max-height: 500px;
      }

      .faq-answer p {
        color: var(--gray);
        margin-bottom: 10px;
      }

      .faq-answer ul {
        list-style-type: none;
        margin: 10px 0;
        padding-left: 20px;
      }

      .faq-answer li {
        margin-bottom: 8px;
        position: relative;
        padding-left: 25px;
      }

      .faq-answer li:before {
        content: "•";
        color: var(--primary);
        font-size: 1.5rem;
        position: absolute;
        left: 0;
        top: -5px;
      }

      /* Partner Section */
      .partner-section {
        background: var(--light);
      }

      .partner-container {
        max-width: 800px;
        margin: 0 auto;
        text-align: center;
      }

      .partner-content {
        background: white;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      }

      .partner-content p {
        color: var(--gray);
        font-size: 1.1rem;
        margin-bottom: 30px;
      }

      .partner-content .btn-primary {
        min-width: 200px;
      }

      /* Footer */
      footer {
        background: var(--dark);
        color: white;
        padding: 80px 0 30px;
      }

      .footer-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
        margin-bottom: 50px;
      }

      .footer-logo {
        font-family: "Montserrat", sans-serif;
        font-size: 1.8rem;
        font-weight: 800;
        margin-bottom: 20px;
        display: inline-block;
        text-decoration: none;
      }

      .footer-logo span:first-child {
        color: var(--light);
      }

      .footer-logo span:last-child {
        color: var(--light);
      }

      .footer-about p {
        margin-bottom: 20px;
        opacity: 0.8;
      }

      .social-links {
        display: flex;
        gap: 15px;
      }

      .social-link {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        color: white;
        transition: all 0.3s ease;
      }

      .social-link:hover {
        background: var(--primary);
        transform: translateY(-3px);
      }

      .footer-links h3 {
        font-size: 1.3rem;
        margin-bottom: 20px;
        position: relative;
        padding-bottom: 10px;
      }

      .footer-links h3:after {
        content: "";
        position: absolute;
        width: 40px;
        height: 3px;
        background: var(--primary);
        bottom: 0;
        left: 0;
      }

      .footer-links ul {
        list-style: none;
      }

      .footer-links li {
        margin-bottom: 10px;
      }

      .footer-links a {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-links a:hover {
        color: var(--primary);
      }

      .footer-bottom {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 30px;
        text-align: center;
      }

      .footer-bottom p {
        opacity: 0.7;
        font-size: 0.9rem;
      }

      /* Popup Styles */
      .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
      }

      .popup-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        max-width: 800px;
        width: 90%;
        text-align: center;
        position: relative;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .popup-content h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: var(--dark);
      }

      .popup-content p {
        font-size: 1rem;
        color: var(--gray);
        margin-bottom: 20px;
      }

      .popup-content .btn {
        width: 100%;
        margin-top: 10px;
      }

      .close-popup {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--gray);
        cursor: pointer;
        transition: color 0.3s ease;
        z-index: 10;
      }

      .close-popup:hover {
        color: var(--primary);
      }

      /* Demo Video Popup Styles */
      .demo-video-popup {
        width: 100%;
        max-width: 800px;
        position: relative;
      }

      .demo-video-container {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
        height: 0;
        overflow: hidden;
        border-radius: 10px;
      }

      .demo-video-container iframe,
      .demo-video-container lite-youtube {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
      }

      /* Animations */
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .slot-alert {
        background-color: var(--warning);
        color: var(--dark);
        padding: 8px 15px;
        border-radius: 4px;
        font-size: 0.9rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        animation-name: pulse;
        animation-duration: 2s;
        animation-iteration-count: infinite;
      }

      .slot-alert i {
        margin-right: 8px;
      }

      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(255, 193, 7, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(255, 193, 7, 0);
        }
      }

      .app-image {
        margin-bottom: 20px;
      }

      @media (max-width: 768px) {
        .section-title {
          font-size: 2rem;
          margin-top: 0.5rem;
          margin-bottom: 2.5rem;
        }

        .hero-title {
          font-size: 2.5rem;
        }

        .hero-trust-indicators {
          margin: 10px 0;
        }

        .trust-text {
          font-size: 0.9rem;
        }

        .rating-badge {
          gap: 6px;
        }

        .stars i {
          font-size: 14px;
        }

        .rating-text {
          font-size: 0.8rem;
        }

        .hero-subtitle {
          font-size: 1.1rem;
        }

        .hero-buttons {
          flex-direction: column;
          align-items: center;
        }

        .header-container {
          padding: 15px 15px;
          justify-content: space-between;
          align-items: center;
        }

        .logo {
          margin-left: 10px;
        }

        .mobile-menu-btn {
          display: block;
          margin-right: 10px;
        }

        .nav-links {
          position: fixed;
          top: 80px;
          left: -100vw;
          width: 100vw;
          height: calc(100vh - 80px);
          background: white;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          transition: left 0.3s ease;
        }

        .nav-links.active {
          left: 0;
        }

        .nav-links li {
          margin: 15px 0;
        }

        .nav-links a {
          color: var(--dark);
          font-size: 1.2rem;
          font-weight: 600;
        }

        .nav-links a:hover {
          color: var(--primary);
          opacity: 1;
        }

        .nav-links a:after {
          background: var(--primary);
        }

        .app-section {
          padding: 40px 0;
        }

        .app-container {
          gap: 20px;
        }

        .app-image img {
          max-width: 65%;
          margin: 0 auto;
        }

        .app-title {
          font-size: 1.8rem;
        }

        .app-content p {
          font-size: 0.95rem;
        }

        .app-feature i {
          font-size: 1rem;
          margin-right: 8px;
        }

        .app-feature h4 {
          font-size: 1rem;
        }

        .app-feature p {
          font-size: 0.85rem;
        }

        .app-btn {
          padding: 10px 15px;
          min-height: 50px;
        }

        .app-btn i {
          font-size: 1.3rem;
          margin-right: 6px;
        }

        .app-btn div {
          font-size: 0.85rem;
        }

        .app-btn small {
          font-size: 0.65rem;
        }

        .brands-grid {
          display: none;
        }

        .brands-carousel {
          display: block;
          margin-top: 50px;
        }

        .videos-grid {
          display: none;
        }

        .videos-carousel {
          display: block;
        }

        .testimonials-carousel {
          display: block;
        }

        .glide__arrow--left {
          left: 5px;
        }

        .glide__arrow--right {
          right: 5px;
        }

        .brand-item {
          width: 100px;
          height: 70px;
        }

        .glide__slide {
          padding: 0 15px;
        }

        /* Show know more button on mobile */
        .know-more-btn {
          display: block;
          font-size: 0.8rem;
          margin: 8px 0;
          padding: 0;
        }

        /* Hide includes section by default on mobile */
        .service-includes {
          display: none;
          padding: 10px;
          margin: 10px 0;
          font-size: 0.8rem;
        }

        .service-includes h4 {
          font-size: 0.9rem;
          margin-bottom: 8px;
        }

        .service-includes li {
          font-size: 0.75rem;
          margin-bottom: 3px;
        }

        /* Show includes when know more is active */
        .service-includes.active {
          display: block;
        }

        /* Mobile responsive services grid */
        .services-grid {
          grid-template-columns: 1fr;
          gap: 20px;
          padding: 0 15px;
          margin-top: 40px;
        }

        /* Compact service cards for mobile */
        .service-card {
          margin-bottom: 20px;
          border-radius: 12px;
        }

        .service-img {
          height: 140px;
        }

        .service-content {
          padding: 15px;
        }

        .service-title {
          font-size: 1.2rem;
          margin-bottom: 8px;
        }

        .service-description {
          font-size: 0.85rem;
          margin-bottom: 12px;
          line-height: 1.4;
        }

        .service-meta {
          gap: 10px;
          margin-bottom: 10px;
          font-size: 0.8rem;
        }

        .service-price {
          font-size: 1.3rem;
          margin-bottom: 8px;
        }

        .original-price {
          font-size: 1rem;
        }

        .discount-badge {
          font-size: 0.7rem;
          padding: 2px 8px;
        }

        .service-features {
          margin: 12px 0;
        }

        .service-feature {
          font-size: 0.8rem;
          margin-bottom: 6px;
        }

        .demo-btn {
          padding: 6px 12px;
          font-size: 0.8rem;
          margin: 8px 0;
        }

        .gst-badge {
          font-size: 0.7rem;
          margin-top: 5px;
        }

        /* Popular tags - smaller on mobile */
        .popular-tag,
        .popular-tag1,
        .popular-tag2 {
          font-size: 0.7rem;
          padding: 3px 8px;
          top: 8px;
          right: 8px;
        }

        /* Demo Video Popup */
        .popup-content {
          padding: 20px;
          max-width: 95%;
        }

        .demo-video-container {
          padding-bottom: 75%; /* Adjust aspect ratio for mobile */
        }

        /* Hide footer links sections on mobile */
        .footer-links {
          display: none;
        }
      }

      @media (max-width: 576px) {
        section {
          padding: 25px 0; /* Very compact for small screens */
        }

        .container {
          padding: 0 15px;
        }

        .section-title {
          font-size: 1.6rem;
          margin-top: 0.25rem;
          margin-bottom: 1.5rem;
        }

        .section-subtitle {
          font-size: 0.85rem;
          margin-bottom: 20px;
        }

        /* Ultra-compact service cards */
        .service-card {
          margin-bottom: 15px;
          border-radius: 10px;
        }

        .service-img {
          height: 120px; /* Even smaller images */
        }

        .service-content {
          padding: 12px;
        }

        .service-title {
          font-size: 1.1rem;
          margin-bottom: 6px;
        }

        .service-description {
          font-size: 0.8rem;
          margin-bottom: 10px;
          line-height: 1.3;
        }

        .service-price {
          font-size: 1.2rem;
          margin-bottom: 6px;
        }

        .original-price {
          font-size: 0.9rem;
        }

        .service-features {
          margin: 8px 0;
        }

        .service-feature {
          font-size: 0.75rem;
          margin-bottom: 4px;
        }

        .demo-btn {
          padding: 4px 8px;
          font-size: 0.75rem;
          margin: 6px 0;
        }

        .btn {
          padding: 8px 16px;
          font-size: 0.85rem;
          margin-top: 8px;
        }

        /* Even smaller popular tags */
        .popular-tag,
        .popular-tag1,
        .popular-tag2 {
          font-size: 0.65rem;
          padding: 2px 6px;
          top: 6px;
          right: 6px;
        }

        /* Services section specific */
        .services {
          padding-top: 70px;
          padding-bottom: 25px;
        }

        .hero-title {
          font-size: 1.8rem;
        }

        .app-section {
          padding: 30px 0;
        }

        .app-image img {
          max-width: 50%;
          transform: scale(2.7);
          margin-bottom: 70px;
          margin-top: 70px;
        }

        .app-title {
          font-size: 1.5rem;
          line-height: 1.4;
        }

        .app-content p {
          font-size: 0.85rem;
          line-height: 1.5;
        }

        .app-features {
          margin: 15px 0;
        }

        .app-feature {
          margin-bottom: 12px;
        }

        .app-feature i {
          font-size: 1rem;
          margin-right: 8px;
        }

        .app-feature h4 {
          font-size: 0.9rem;
        }

        .app-feature p {
          font-size: 0.8rem;
        }

        .app-buttons {
          flex-direction: column;
        }

        .app-btn {
          width: 100%;
          max-width: 300px;
          margin: 0 auto;
          padding: 10px 15px;
          min-height: 50px;
        }

        .app-btn i {
          font-size: 1.2rem;
        }

        .app-btn div {
          font-size: 0.8rem;
        }

        .app-btn small {
          font-size: 0.6rem;
        }

        .header-container {
          padding: 10px 10px;
        }

        .logo {
          margin-left: 5px;
        }

        .mobile-menu-btn {
          margin-right: 5px;
        }

        .logo-text {
          font-size: 1.5rem;
        }

        .phone-nav {
          padding: 5px 9px;
          border-radius: 20px;
          border: 1px solid white;
          color: white;
        }

        .glide__arrow--left {
          left: 2px;
        }

        .glide__arrow--right {
          right: 2px;
        }

        .brand-item {
          width: 120px;
          height: 100px;
        }

        .glide__slide {
          padding: 0 10px;
        }

        .partner-content {
          padding: 20px;
        }

        .partner-content p {
          font-size: 1rem;
        }

        .popup-content {
          padding: 15px;
        }

        .popup-content h3 {
          font-size: 1.3rem;
        }

        .popup-content p {
          font-size: 0.9rem;
        }

        .demo-video-container {
          padding-bottom: 100%; /* More square aspect ratio for very small devices */
        }
      }
    </style>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-PXVXJ57P");
    </script>
    <!-- End Google Tag Manager -->

    <style>
      /* WhatsApp Float Button */
      .whatsapp-float {
        position: fixed;
        bottom: 25px;
        right: 25px;
        z-index: 2500;
        width: 60px;
        height: 60px;
        background: #25d366;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
        cursor: pointer;
        transition: all 0.3s ease;
        animation: pulse-whatsapp 2s infinite;
        text-decoration: none;
        color: white;
      }

      .whatsapp-float:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
        color: white;
        text-decoration: none;
      }

      .whatsapp-float:active {
        transform: scale(0.95);
      }

      .whatsapp-float i {
        font-size: 1.8rem;
        color: white;
      }

      .whatsapp-tooltip {
        position: absolute;
        right: 70px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--dark);
        color: white;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 0.9rem;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        pointer-events: none;
        font-weight: 500;
      }

      .whatsapp-tooltip::after {
        content: "";
        position: absolute;
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        border: 6px solid transparent;
        border-left-color: var(--dark);
      }

      .whatsapp-float:hover .whatsapp-tooltip {
        opacity: 1;
        visibility: visible;
        right: 75px;
      }

      @keyframes pulse-whatsapp {
        0% {
          box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
        }
        50% {
          box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4),
            0 0 0 10px rgba(37, 211, 102, 0.1);
        }
        100% {
          box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4),
            0 0 0 20px rgba(37, 211, 102, 0);
        }
      }

      /* Mobile responsive */
      @media (max-width: 768px) {
        .whatsapp-float {
          width: 55px;
          height: 55px;
          bottom: 20px;
          right: 20px;
        }

        .whatsapp-float i {
          font-size: 1.6rem;
        }

        .whatsapp-tooltip {
          display: none;
        }
      }

      @media (max-width: 480px) {
        .whatsapp-float {
          width: 50px;
          height: 50px;
          bottom: 15px;
          right: 15px;
        }

        .whatsapp-float i {
          font-size: 1.4rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-PXVXJ57P"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Header -->
    <header id="header">
      <div class="container header-container">
        <a
          href="#"
          class="logo"
          aria-label="Car18 - Professional Car Wash Services"
        >
          <span class="logo-text">Car18</span>
        </a>

        <div class="header-right">
          <a href="tel:8005003533" class="phone-nav">
            <i class="fas fa-phone-alt fa-rotate-90"></i>
            <span>800 500 3533</span>
          </a>
          <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
          </button>
        </div>

        <ul class="nav-links" id="navLinks">
          <li><a href="./services.html">Services</a></li>
          <li><a href="#brands">Brands</a></li>
          <li><a href="#testimonials">Reviews</a></li>
          <li><a href="#app">App</a></li>
          <li><a href="/blogs/index.html">Blogs</a></li>
          <li id="myBookingsNav" style="display: none">
            <a href="#" onclick="showMyBookings(); return false;"
              >My Bookings</a
            >
          </li>
          <li><a href="./partner.html">Partner</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </header>

    <!-- Hero Section - Updated -->
    <section class="hero" id="home">
      <!-- Fallback image - shown immediately -->
      <picture>
        <source
          media="(min-width: 769px)"
          srcset="https://i.ibb.co/gZ6tJxFM/cover-photo.webp"
        />
        <source
          media="(max-width: 768px)"
          srcset="https://i.ibb.co/sJ5ZmrfS/cover-photo-mobile.jpg"
        />
        <img
          class="hero-fallback"
          src="https://i.ibb.co/gZ6tJxFM/cover-photo.webp"
          alt="Car Wash Service"
          loading="eager"
        />
      </picture>
      <video
        id="heroVideo"
        class="hero-video"
        autoplay
        loop
        muted
        playsinline
        poster="https://car18.in/cover-photo.webp"
        width="1920"
        height="1080"
      >
        <source src="https://car18.in/hero1.webm" type="video/webm" />
        <source
          src="https://ik.imagekit.io/cikajullo/Untitled%20video%20-%20Made%20with%20Clipchamp%20(2)%20(2).mp4"
          type="video/mp4"
        />
        Your browser does not support the video tag.
      </video>
      <div class="hero-overlay"></div>

      <div
        class="hero-content"
        id="heroContent"
        style="opacity: 1 !important; visibility: visible !important"
      >
        <h1 class="hero-title">Showroom Finish at Your Door</h1>
        <div class="hero-trust-indicators">
          <p class="trust-text">Trusted by 10,000+ car owners</p>
          <div class="rating-badge">
            <span class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </span>
            <span class="rating-text">Rated 5 star on Google</span>
          </div>
        </div>
        <p class="hero-subtitle">
          Experience the convenience of professional doorstep car wash
        </p>
        <div class="hero-buttons">
          <a
            href="https://play.google.com/store/apps/details?id=com.car18.snack753985e771e84fa9aac46646cf34d465"
            class="app-btn play-store-btn"
            aria-label="Download Car18 App on Google Play"
            target="_blank"
            rel="noopener noreferrer"
          >
            <i class="fab fa-android"></i>
            <div>
              <small>Install on</small>
              <div>Android</div>
            </div>
          </a>

          <a
            class="app-btn ios-app-btn"
            aria-label="Install Car18 PWA App"
            href="#"
            onclick="event.preventDefault(); installPWA();"
          >
            <i class="fab fa-apple"></i>
            <div>
              <small>Install on</small>
              <div>iOS/iPhone</div>
            </div>
          </a>

          <a href="#services" class="btn btn-secondary">
            <i class="fas fa-car"></i> Our Services
          </a>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
      <div class="container">
        <h2 class="section-title">Our Services</h2>
        <p class="section-subtitle">
          We provide professional car care services at your location to keep
          your vehicle looking its best.
        </p>

        <div class="services-grid">
          <!-- Smart Wash -->
          <div class="service-card">
            <div class="popular-tag">Most Popular</div>
            <div class="service-img">
              <img
                src="https://i.ibb.co/gbqhwP2G/4c5a6e58-e3b1-4e3b-a3b4-8a3b8028a026.webp"
                alt="Smart Wash"
                loading="lazy"
              />
            </div>
            <div class="service-content">
              <h3 class="service-title">Smart Wash</h3>
              <p class="service-description">
                Perfect for your routine clean-up. Includes foam wash, clear
                windows, interior dusting, vacuuming, tire shine, and door frame
                wipe.
              </p>

              <!-- Demo Video Link -->
              <a
                href="#"
                class="demo-btn"
                onclick="showDemoPopup('k9IJUFrYg8M'); return false;"
              >
                <i class="fas fa-play-circle"></i> Watch Service Demo
              </a>

              <div class="service-meta">
                <span class="service-duration">
                  <i class="fas fa-clock"></i>2 hours
                </span>
                <span class="service-frequency">
                  <i class="fas fa-sync-alt"></i>Monthly
                </span>
              </div>

              <div class="service-price">
                <span class="original-price">₹550</span> ₹495
                <span class="discount-badge">10% OFF</span>
              </div>
              <p class="gst-badge">GST included | No hidden charges</p>

              <div class="service-features">
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <span>Valid for all car types</span>
                </div>
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <span>Limited time promotional offer</span>
                </div>
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <strong
                    >Complementary Tissue Box, Air Freshener, or Glass Cleaner
                    with every car wash</strong
                  >
                </div>
              </div>

              <button class="know-more-btn">
                Know More <i class="fas fa-chevron-down"></i>
              </button>

              <div class="service-includes">
                <h4>Includes:</h4>
                <ul>
                  <li>Thick foam pre-wash for dirt breakdown</li>
                  <li>pH-neutral shampoo for gentle exterior cleaning</li>
                  <li>Premium tire dressing for shine & UV protection</li>
                  <li>Crystal-clear glass cleaning (inside & out)</li>
                  <li>Deep interior vacuuming (including trunk)</li>
                  <li>Dashboard & door panel polishing for a refreshed look</li>
                  <li>Degreasing of door jambs & hinges</li>
                </ul>
              </div>

              <button
                onclick="openOTPModal(1)"
                class="btn btn-book-now"
                style="margin-top: 20px; width: 100%"
              >
                Book Now
              </button>
            </div>
          </div>

          <!-- Deep Clean -->
          <div class="service-card">
            <div class="popular-tag1">Editor's Choice</div>
            <div class="service-img">
              <img
                src="https://i.ibb.co/YFB0r87P/vecteezy_close-up-hand-interior-car-cleaning-35034131.webp"
                alt="Deep Clean"
                loading="lazy"
              />
            </div>
            <div class="service-content">
              <h3 class="service-title">Deep Clean</h3>
              <p class="service-description">
                Complete detailing with specialized tools to deep-clean roof,
                mats, seats, console, and wheels — restoring a factory-like
                finish inside and out.
              </p>

              <!-- Demo Video Link -->
              <a
                href="#"
                class="demo-btn"
                onclick="showDemoPopup('vxPuivTAHlY'); return false;"
              >
                <i class="fas fa-play-circle"></i> Watch Service Demo
              </a>

              <div class="service-meta">
                <span class="service-duration">
                  <i class="fas fa-clock"></i>4 hours
                </span>
                <span class="service-frequency">
                  <i class="fas fa-sync-alt"></i>Quarterly
                </span>
              </div>

              <div class="service-price">
                <span class="original-price">₹1800</span> ₹1549
                <span class="discount-badge">15% OFF</span>
              </div>
              <p class="gst-badge">GST included | No hidden charges</p>

              <div class="service-features">
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <span>Valid for all car types</span>
                </div>
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <span>Limited time promotional offer</span>
                </div>
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <strong
                    ><span
                      >Complementary Tissue Box, Air Freshener, or Glass Cleaner
                      with every car wash</span
                    ></strong
                  >
                </div>
              </div>

              <button class="know-more-btn">
                Know More <i class="fas fa-chevron-down"></i>
              </button>

              <div class="service-includes">
                <h4>Includes:</h4>
                <ul>
                  <li>All features of Smart Wash</li>
                  <li>Foam wash for roof panels</li>
                  <li>Deep cleaning of seats, dashboard, console, and vents</li>
                  <li>
                    High-pressure cleaning & disinfection of mats and floors
                  </li>
                  <li>Detailed door panel and hinge cleaning</li>
                  <li>Sanitization of touchpoints (handles, knobs)</li>
                  <li>Wheel, rim, and tire degreasing & detailing</li>
                </ul>
              </div>
              <button
                onclick="openOTPModal(2)"
                class="btn btn-book-now"
                style="margin-top: 20px; width: 100%"
              >
                Book Now
              </button>
            </div>
          </div>

          <!-- Power Wash -->
          <div class="service-card">
            <div class="service-img">
              <img
                src="https://i.ibb.co/cK1T4S3d/Untitled-design-16.webp"
                alt="Power Wash"
                loading="lazy"
              />
            </div>
            <div class="service-content">
              <h3 class="service-title">Power Wash</h3>
              <p class="service-description">
                Step up to a superior clean with wax, polish, clay bar, and
                full-surface detailing for a smooth, glossy, showroom finish.
              </p>

              <div class="service-meta">
                <span class="service-duration">
                  <i class="fas fa-clock"></i>5 hours
                </span>
                <span class="service-frequency">
                  <i class="fas fa-sync-alt"></i>Yearly
                </span>
              </div>

              <div class="service-price">
                <span class="original-price">₹2400</span> ₹2049
                <span class="discount-badge">15% OFF</span>
              </div>
              <p class="gst-badge">GST included | No hidden charges</p>

              <div class="service-features">
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <span>Valid for all car types</span>
                </div>
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <span>Limited time promotional offer</span>
                </div>
                <div class="service-feature">
                  <i class="fas fa-check"></i>
                  <strong
                    ><span
                      >Complementary Tissue Box, Air Freshener, or Glass Cleaner
                      with every car wash</span
                    ></strong
                  >
                </div>
              </div>

              <button class="know-more-btn">
                Know More <i class="fas fa-chevron-down"></i>
              </button>

              <div class="service-includes">
                <h4>Includes:</h4>
                <ul>
                  <li>All features of Deep Clean</li>
                  <li>Clay bar decontamination treatment</li>
                  <li>Machine wax and polish application</li>
                  <li>
                    Intensive cleaning of seats, mats, dashboard, and center
                    console
                  </li>
                  <li>Precision cleaning of door panels and frames</li>
                  <li>Wheel and rim detailing</li>
                  <li>Leather surface conditioning (if applicable)</li>
                </ul>
              </div>

              <button
                onclick="openOTPModal(3)"
                class="btn btn-book-now"
                style="margin-top: 20px; width: 100%"
              >
                Book Now
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Before/After Gallery Section -->
    <section class="before-after-section" id="gallery">
      <div class="container">
        <h2 class="section-title">Transformation Gallery</h2>
        <p class="section-subtitle">
          See the incredible difference our professional car care services make.
          Swipe or click to reveal the amazing transformations we deliver.
        </p>

        <div class="gallery-grid">
          <!-- Before/After Item 1 - Car Exterior Detailing -->
          <div class="before-after-item">
            <div class="comparison-container">
              <div class="comparison-image">
                <img
                  src="https://i.ibb.co/xKyLGqb7/e91f9dcb-e622-4e02-adc7-46f785e1cc94.jpg"
                  alt="Car before washing - dirty exterior"
                  class="before-image"
                  loading="lazy"
                />
                <img
                  src="https://i.ibb.co/dJHLxGkn/28611c18-96fd-4c40-ba4e-0b432a34e9cb.jpg"
                  alt="Car after washing - sparkling clean"
                  class="after-image"
                  loading="lazy"
                />
                <div class="comparison-slider">
                  <div class="slider-handle">
                    <i class="fas fa-arrows-alt-h"></i>
                  </div>
                </div>
                <div class="comparison-labels">
                  <span class="before-label">Before</span>
                  <span class="after-label">After</span>
                </div>
              </div>
            </div>
            <div class="transformation-info">
              <h3>Seat Cleaning</h3>
              <p>
                Professional cleaning and detailing service for all seat types
              </p>
            </div>
          </div>

          <!-- Before/After Item 2 - Wheel Restoration -->
          <div class="before-after-item">
            <div class="comparison-container">
              <div class="comparison-image">
                <img
                  src="https://i.ibb.co/03bZZ31/582640118-122245827218309413-2733605260985686005-n.jpg"
                  alt="Wheels before restoration - damaged and worn"
                  class="before-image"
                  loading="lazy"
                />
                <img
                  src="https://i.ibb.co/Nn7BLmzm/581429770-122245827242309413-549906702555553765-n.jpg"
                  alt="Wheels after restoration - like new condition"
                  class="after-image"
                  loading="lazy"
                />
                <div class="comparison-slider">
                  <div class="slider-handle">
                    <i class="fas fa-arrows-alt-h"></i>
                  </div>
                </div>
                <div class="comparison-labels">
                  <span class="before-label">Before</span>
                  <span class="after-label">After</span>
                </div>
              </div>
            </div>
            <div class="transformation-info">
              <h3>Wheel Restoration</h3>
              <p>Professional wheel refurbishment and restoration service</p>
            </div>
          </div>

          <!-- Before/After Item 3 - Dash & Trim Care -->
          <div class="before-after-item">
            <div class="comparison-container">
              <div class="comparison-image">
                <img
                  src="https://i.ibb.co/mFFRYnWD/587506100-17952054684045802-543196423802351165-n.jpg"
                  alt="Car paint before treatment - dull and faded"
                  class="before-image"
                  loading="lazy"
                />
                <img
                  src="https://i.ibb.co/67yNKKCS/587580585-17952054675045802-3503692290797116203-n.jpg"
                  alt="Car paint after treatment - glossy and protected"
                  class="after-image"
                  loading="lazy"
                />
                <div class="comparison-slider">
                  <div class="slider-handle">
                    <i class="fas fa-arrows-alt-h"></i>
                  </div>
                </div>
                <div class="comparison-labels">
                  <span class="before-label">Before</span>
                  <span class="after-label">After</span>
                </div>
              </div>
            </div>
            <div class="transformation-info">
              <h3>Dash & Trim Care</h3>
              <p>
                Focused cleaning & conditioning for dashboards, door trims &
                panels.
              </p>
            </div>
          </div>

          <!-- Before/After Item 4 - Headlight Restoration -->
          <div class="before-after-item">
            <div class="comparison-container">
              <div class="comparison-image">
                <img
                  src="https://i.ibb.co/LzpGsn5H/592966188-10113536909277209-6777147269351143072-n.jpg"
                  alt="Headlights before restoration - cloudy and dim"
                  class="before-image"
                  loading="lazy"
                />
                <img
                  src="https://i.ibb.co/3mK8Zwg9/594528236-10113536909322119-236101760522613586-n.jpg"
                  alt="Headlights after restoration - crystal clear"
                  class="after-image"
                  loading="lazy"
                />
                <div class="comparison-slider">
                  <div class="slider-handle">
                    <i class="fas fa-arrows-alt-h"></i>
                  </div>
                </div>
                <div class="comparison-labels">
                  <span class="before-label">Before</span>
                  <span class="after-label">After</span>
                </div>
              </div>
            </div>
            <div class="transformation-info">
              <h3>Headlight Restoration</h3>
              <p>
                Crystal-clear headlight restoration for improved visibility and
                safety
              </p>
            </div>
          </div>

          <!-- Before/After Item 5 - Alloy Wheel Cleaning -->
          <div class="before-after-item">
            <div class="comparison-container">
              <div class="comparison-image">
                <img
                  src="https://i.ibb.co/99dbDtQH/477228831-18161025499337218-2545752429877903235-n.jpg"
                  alt="Alloy wheels before cleaning - brake dust and grime"
                  class="before-image"
                  loading="lazy"
                />
                <img
                  src="https://i.ibb.co/ym0fzrvk/477475817-18161025514337218-6321356544841367928-n.jpg"
                  alt="Alloy wheels after cleaning - spotless shine"
                  class="after-image"
                  loading="lazy"
                />
                <div class="comparison-slider">
                  <div class="slider-handle">
                    <i class="fas fa-arrows-alt-h"></i>
                  </div>
                </div>
                <div class="comparison-labels">
                  <span class="before-label">Before</span>
                  <span class="after-label">After</span>
                </div>
              </div>
            </div>
            <div class="transformation-info">
              <h3>Leather Treatment</h3>
              <p>Professional care to enhance look & durability</p>
            </div>
          </div>

          <!-- Before/After Item 6 - Engine Bay Cleaning -->
          <div class="before-after-item">
            <div class="comparison-container">
              <div class="comparison-image">
                <img
                  src="https://i.ibb.co/Y7zgsp9k/588637609-17952054756045802-4571575780687268280-n.jpg"
                  alt="Engine bay before cleaning - greasy and dusty"
                  class="before-image"
                  loading="lazy"
                />
                <img
                  src="https://i.ibb.co/LXm4MzgJ/587616701-17952054759045802-6678605875382411674-n.jpg"
                  alt="Engine bay after cleaning - spotless and detailed"
                  class="after-image"
                  loading="lazy"
                />
                <div class="comparison-slider">
                  <div class="slider-handle">
                    <i class="fas fa-arrows-alt-h"></i>
                  </div>
                </div>
                <div class="comparison-labels">
                  <span class="before-label">Before</span>
                  <span class="after-label">After</span>
                </div>
              </div>
            </div>
            <div class="transformation-info">
              <h3>Engine Cleaning</h3>
              <p>
                Professional engine bay detailing for a spotless and
                well-maintained look
              </p>
            </div>
          </div>
        </div>

        <!-- Mobile Carousel View -->
        <div class="gallery-carousel">
          <div class="glide" id="galleryGlide">
            <div class="glide__track" data-glide-el="track">
              <ul class="glide__slides">
                <li class="glide__slide">
                  <div class="before-after-item">
                    <div class="comparison-container">
                      <div class="comparison-image">
                        <img
                          src="https://i.ibb.co/xKyLGqb7/e91f9dcb-e622-4e02-adc7-46f785e1cc94.jpg"
                          alt="Car before washing - dirty exterior"
                          class="before-image"
                          loading="lazy"
                        />
                        <img
                          src="https://i.ibb.co/dJHLxGkn/28611c18-96fd-4c40-ba4e-0b432a34e9cb.jpg"
                          alt="Car after washing - sparkling clean"
                          class="after-image"
                          loading="lazy"
                        />
                        <div class="comparison-slider">
                          <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                          </div>
                        </div>
                        <div class="comparison-labels">
                          <span class="before-label">Before</span>
                          <span class="after-label">After</span>
                        </div>
                      </div>
                    </div>
                    <div class="transformation-info">
                      <h3>Seat Cleaning</h3>
                      <p>
                        Professional cleaning and detailing service for all seat
                        types
                      </p>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="before-after-item">
                    <div class="comparison-container">
                      <div class="comparison-image">
                        <img
                          src="https://i.ibb.co/03bZZ31/582640118-122245827218309413-2733605260985686005-n.jpg"
                          alt="Wheels before restoration - damaged and worn"
                          class="before-image"
                          loading="lazy"
                        />
                        <img
                          src="https://i.ibb.co/Nn7BLmzm/581429770-122245827242309413-549906702555553765-n.jpg"
                          alt="Wheels after restoration - like new condition"
                          class="after-image"
                          loading="lazy"
                        />
                        <div class="comparison-slider">
                          <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                          </div>
                        </div>
                        <div class="comparison-labels">
                          <span class="before-label">Before</span>
                          <span class="after-label">After</span>
                        </div>
                      </div>
                    </div>
                    <div class="transformation-info">
                      <h3>Wheel Restoration</h3>
                      <p>
                        Professional wheel refurbishment and restoration service
                      </p>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="before-after-item">
                    <div class="comparison-container">
                      <div class="comparison-image">
                        <img
                          src="https://i.ibb.co/mFFRYnWD/587506100-17952054684045802-543196423802351165-n.jpg"
                          alt="Car paint before treatment - dull and faded"
                          class="before-image"
                          loading="lazy"
                        />
                        <img
                          src="https://i.ibb.co/67yNKKCS/587580585-17952054675045802-3503692290797116203-n.jpg"
                          alt="Car paint after treatment - glossy and protected"
                          class="after-image"
                          loading="lazy"
                        />
                        <div class="comparison-slider">
                          <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                          </div>
                        </div>
                        <div class="comparison-labels">
                          <span class="before-label">Before</span>
                          <span class="after-label">After</span>
                        </div>
                      </div>
                    </div>
                    <div class="transformation-info">
                      <h3>Dash & Trim Care</h3>
                      <p>
                        Focused cleaning & conditioning for dashboards, door
                        trims & panels.
                      </p>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="before-after-item">
                    <div class="comparison-container">
                      <div class="comparison-image">
                        <img
                          src="https://i.ibb.co/LzpGsn5H/592966188-10113536909277209-6777147269351143072-n.jpg"
                          alt="Headlights before restoration - cloudy and dim"
                          class="before-image"
                          loading="lazy"
                        />
                        <img
                          src="https://i.ibb.co/3mK8Zwg9/594528236-10113536909322119-236101760522613586-n.jpg"
                          alt="Headlights after restoration - crystal clear"
                          class="after-image"
                          loading="lazy"
                        />
                        <div class="comparison-slider">
                          <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                          </div>
                        </div>
                        <div class="comparison-labels">
                          <span class="before-label">Before</span>
                          <span class="after-label">After</span>
                        </div>
                      </div>
                    </div>
                    <div class="transformation-info">
                      <h3>Headlight Restoration</h3>
                      <p>
                        Crystal-clear headlight restoration for improved
                        visibility and safety
                      </p>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="before-after-item">
                    <div class="comparison-container">
                      <div class="comparison-image">
                        <img
                          src="https://i.ibb.co/99dbDtQH/477228831-18161025499337218-2545752429877903235-n.jpg"
                          alt="Alloy wheels before cleaning - brake dust and grime"
                          class="before-image"
                          loading="lazy"
                        />
                        <img
                          src="https://i.ibb.co/ym0fzrvk/477475817-18161025514337218-6321356544841367928-n.jpg"
                          alt="Alloy wheels after cleaning - spotless shine"
                          class="after-image"
                          loading="lazy"
                        />
                        <div class="comparison-slider">
                          <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                          </div>
                        </div>
                        <div class="comparison-labels">
                          <span class="before-label">Before</span>
                          <span class="after-label">After</span>
                        </div>
                      </div>
                    </div>
                    <div class="transformation-info">
                      <h3>Leather Treatment</h3>
                      <p>Professional care to enhance look & durability</p>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="before-after-item">
                    <div class="comparison-container">
                      <div class="comparison-image">
                        <img
                          src="https://i.ibb.co/Y7zgsp9k/588637609-17952054756045802-4571575780687268280-n.jpg"
                          alt="Engine bay before cleaning - greasy and dusty"
                          class="before-image"
                          loading="lazy"
                        />
                        <img
                          src="https://i.ibb.co/LXm4MzgJ/587616701-17952054759045802-6678605875382411674-n.jpg"
                          alt="Engine bay after cleaning - spotless and detailed"
                          class="after-image"
                          loading="lazy"
                        />
                        <div class="comparison-slider">
                          <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                          </div>
                        </div>
                        <div class="comparison-labels">
                          <span class="before-label">Before</span>
                          <span class="after-label">After</span>
                        </div>
                      </div>
                    </div>
                    <div class="transformation-info">
                      <h3>Engine Cleaning</h3>
                      <p>
                        Professional engine bay detailing for a spotless and
                        well-maintained look
                      </p>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="glide__arrows" data-glide-el="controls">
              <button
                class="glide__arrow glide__arrow--left"
                data-glide-dir="<"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              <button
                class="glide__arrow glide__arrow--right"
                data-glide-dir=">"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="gallery-cta">
          <p class="cta-text">Want similar results for your car?</p>
          <a
            href="https://play.google.com/store/apps/details?id=com.car18.snack753985e771e84fa9aac46646cf34d465"
            class="btn btn-primary"
          >
            <i class="fas fa-calendar-check"></i>
            Book Your Service
          </a>
        </div>
      </div>
    </section>

    <!-- YouTube Videos Section -->
    <section class="videos-section" id="videos">
      <div class="container">
        <h2 class="section-title">Our Work in Action</h2>
        <p class="section-subtitle">
          Watch how we transform your car with our professional services and
          premium products.
        </p>

        <!-- Desktop Grid View -->
        <div class="videos-grid">
          <div class="video-card" onclick="showDemoPopup('lpCnCmEtgtY')">
            <div class="video-thumbnail">
              <img
                src="https://img.youtube.com/vi/lpCnCmEtgtY/maxresdefault.jpg"
                alt="Smart Wash Demo"
                loading="lazy"
              />
              <div class="play-button">
                <i class="fas fa-play"></i>
              </div>
            </div>
            <div class="video-info">
              <h3 class="video-title">Smart Wash</h3>
              <p class="video-description">
                See our advanced Smart Wash process for a spotless, eco-friendly
                clean.
              </p>
            </div>
          </div>

          <div class="video-card" onclick="showDemoPopup('4bKrR4XIUmc')">
            <div class="video-thumbnail">
              <img
                src="https://img.youtube.com/vi/4bKrR4XIUmc/maxresdefault.jpg"
                alt="Deep Clean and Roof Cleaning Demo"
                loading="lazy"
              />
              <div class="play-button">
                <i class="fas fa-play"></i>
              </div>
            </div>
            <div class="video-info">
              <h3 class="video-title">Deep Clean</h3>
              <p class="video-description">
                Watch our team perform a thorough deep clean and roof cleaning
                for maximum shine and protection.
              </p>
            </div>
          </div>

          <div class="video-card" onclick="showDemoPopup('uebBiBM3HEA')">
            <div class="video-thumbnail">
              <img
                src="https://img.youtube.com/vi/uebBiBM3HEA/maxresdefault.jpg"
                alt="Premium Detailing Demo"
                loading="lazy"
              />
              <div class="play-button">
                <i class="fas fa-play"></i>
              </div>
            </div>
            <div class="video-info">
              <h3 class="video-title">Roof Cleaning</h3>
              <p class="video-description">
                Experience our roof cleaning service for a showroom finish
                inside and out.
              </p>
            </div>
          </div>
        </div>

        <!-- Mobile Carousel View -->
        <div class="videos-carousel">
          <div class="glide" id="videosGlide">
            <div class="glide__track" data-glide-el="track">
              <ul class="glide__slides">
                <li class="glide__slide">
                  <div class="video-slide">
                    <div
                      class="video-card"
                      onclick="showDemoPopup('lpCnCmEtgtY')"
                    >
                      <div class="video-thumbnail">
                        <img
                          src="https://img.youtube.com/vi/lpCnCmEtgtY/maxresdefault.jpg"
                          alt="Smart Wash Demo"
                          loading="lazy"
                        />
                        <div class="play-button">
                          <i class="fas fa-play"></i>
                        </div>
                      </div>
                      <div class="video-info">
                        <h3 class="video-title">Smart Wash</h3>
                        <p class="video-description">
                          See our advanced Smart Wash process for a spotless,
                          eco-friendly clean.
                        </p>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="video-slide">
                    <div
                      class="video-card"
                      onclick="showDemoPopup('4bKrR4XIUmc')"
                    >
                      <div class="video-thumbnail">
                        <img
                          src="https://img.youtube.com/vi/4bKrR4XIUmc/maxresdefault.jpg"
                          alt="Deep Clean and Roof Cleaning Demo"
                          loading="lazy"
                        />
                        <div class="play-button">
                          <i class="fas fa-play"></i>
                        </div>
                      </div>
                      <div class="video-info">
                        <h3 class="video-title">Deep Clean & Roof Cleaning</h3>
                        <p class="video-description">
                          Watch our team perform a thorough deep clean and roof
                          cleaning for maximum shine and protection.
                        </p>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="video-slide">
                    <div
                      class="video-card"
                      onclick="showDemoPopup('uebBiBM3HEA')"
                    >
                      <div class="video-thumbnail">
                        <img
                          src="https://img.youtube.com/vi/uebBiBM3HEA/maxresdefault.jpg"
                          alt="Premium Detailing Demo"
                          loading="lazy"
                        />
                        <div class="play-button">
                          <i class="fas fa-play"></i>
                        </div>
                      </div>
                      <div class="video-info">
                        <h3 class="video-title">Premium Detailing</h3>
                        <p class="video-description">
                          Experience our premium detailing service for a
                          showroom finish inside and out.
                        </p>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="glide__arrows" data-glide-el="controls">
              <button
                class="glide__arrow glide__arrow--left"
                data-glide-dir="<"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              <button
                class="glide__arrow glide__arrow--right"
                data-glide-dir=">"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Brands Section -->
    <section class="brands-section" id="brands">
      <div class="container">
        <h2 class="section-title">Brands We Trust</h2>
        <p class="section-subtitle">
          We use only premium products from trusted, industry-leading brands to
          ensure top-quality care for every car.
        </p>

        <!-- Desktop Grid View -->
        <div class="brands-grid">
          <div class="brand-item">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/1/16/Bosch-logo.svg"
              alt="Bosch"
              width="120"
              height="80"
              loading="lazy"
            />
          </div>
          <div class="brand-item">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/1/15/3M_wordmark.svg"
              alt="3M"
              width="80"
              loading="lazy"
            />
          </div>
          <div class="brand-item">
            <img
              src="https://cdn.brandfetch.io/idBwWzY6bB/w/400/h/400/theme/dark/icon.jpeg?c=1bxid64Mup7aczewSAYMX&t=1737794116957"
              alt="WaveX"
              width="80"
              loading="lazy"
            />
          </div>
          <div class="brand-item">
            <img
              src="https://cdn.worldvectorlogo.com/logos/turtle-wax.svg"
              alt="Turtle Wax"
              loading="lazy"
            />
          </div>
          <div class="brand-item">
            <img
              src="https://www.chemicalguys.com/cdn/shop/files/LAB119.jpg?v=1713903141&width=1946"
              alt="Chemical Guys"
              loading="lazy"
            />
          </div>
          <div class="brand-item">
            <img
              src="https://i0.wp.com/www.detailingwiki.org/wp-content/uploads/2016/09/meguiars-logo.jpg?w=720&ssl=1"
              alt="Meguiar's"
              loading="lazy"
            />
          </div>
        </div>

        <!-- Mobile Carousel View -->
        <div class="brands-carousel">
          <div class="glide">
            <div class="glide__track" data-glide-el="track">
              <ul class="glide__slides">
                <li class="glide__slide">
                  <div class="brand-item">
                    <img
                      src="https://upload.wikimedia.org/wikipedia/commons/1/16/Bosch-logo.svg"
                      alt="Bosch"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="brand-item">
                    <img
                      src="https://upload.wikimedia.org/wikipedia/commons/1/15/3M_wordmark.svg"
                      alt="3M"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="brand-item">
                    <img
                      src="https://cdn.brandfetch.io/idBwWzY6bB/w/400/h/400/theme/dark/icon.jpeg?c=1bxid64Mup7aczewSAYMX&t=1737794116957"
                      alt="WaveX"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="brand-item">
                    <img
                      src="https://cdn.worldvectorlogo.com/logos/turtle-wax.svg"
                      alt="Turtle Wax"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="brand-item">
                    <img
                      src="https://www.chemicalguys.com/cdn/shop/files/LAB119.jpg?v=1713903141&width=1946"
                      alt="Chemical Guys"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="brand-item">
                    <img
                      src="https://i0.wp.com/www.detailingwiki.org/wp-content/uploads/2016/09/meguiars-logo.jpg?w=720&ssl=1"
                      alt="Meguiar's"
                      loading="lazy"
                    />
                  </div>
                </li>
              </ul>
            </div>
            <div class="glide__arrows" data-glide-el="controls">
              <button
                class="glide__arrow glide__arrow--left"
                data-glide-dir="<"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              <button
                class="glide__arrow glide__arrow--right"
                data-glide-dir=">"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- App Section -->
    <section class="app-section" id="app">
      <div class="container">
        <div class="app-container">
          <div class="app-image">
            <img src="./photo.png" alt="Car18 App" loading="lazy" />
          </div>
          <div class="app-content">
            <h2 class="app-title">Download Mobile App</h2>
            <p>
              Book your car wash anywhere in the city in just a few taps, track
              your service in real-time, and enjoy exclusive app-only discounts.
            </p>

            <div class="app-features">
              <div class="app-feature">
                <i class="fas fa-check-circle"></i>
                <div>
                  <h4>Easy Booking</h4>
                  <p>Schedule your wash at your location</p>
                </div>
              </div>

              <div class="app-feature">
                <i class="fas fa-map-marker-alt"></i>
                <div>
                  <h4>Real-time Tracking</h4>
                  <p>Track your service provider's arrival</p>
                </div>
              </div>

              <div class="app-feature">
                <i class="fas fa-tag"></i>
                <div>
                  <h4>Exclusive Offers</h4>
                  <p>Get app-only discounts</p>
                </div>
              </div>
            </div>

            <div class="app-buttons">
              <a
                href="https://play.google.com/store/apps/details?id=com.car18.snack753985e771e84fa9aac46646cf34d465"
                class="app-btn play-store-btn"
                aria-label="Download Car18 App on Google Play"
                target="_blank"
                rel="noopener noreferrer"
              >
                <i class="fab fa-android"></i>
                <div>
                  <small>Install on</small>
                  <div>Android</div>
                </div>
              </a>

              <a
                class="app-btn ios-app-btn"
                aria-label="Install Car18 PWA App"
                id="iosAppBtn"
                href="#"
                onclick="event.preventDefault(); installPWA();"
              >
                <i class="fab fa-apple"></i>
                <div>
                  <small>Install on</small>
                  <div>iOS/iPhone</div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Demo Video Popup -->
    <style>
      /* Demo Video Popup Specific Styles */
      #demoVideoPopup .popup-content {
        max-width: 95%;
        width: 100%;
        height: 90vh;
        padding: 20px;
        display: flex;
        flex-direction: column;
        background: transparent;
        box-shadow: none;
      }

      #demoVideoPopup .popup-content h3,
      #demoVideoPopup .popup-content p {
        display: none; /* Hide title and description for demo video */
      }

      #demoVideoPopup .demo-video-popup {
        flex: 1;
        min-height: 0;
        width: 100%;
        position: relative;
        margin: 0 auto;
      }

      #demoVideoPopup lite-youtube {
        width: 100%;
        height: 100%;
        min-height: 300px;
        border-radius: 8px;
        overflow: hidden;
      }

      #demoVideoPopup .close-popup {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 10;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        border: none;
      }

      #demoVideoPopup .close-popup:hover {
        background: rgba(0, 0, 0, 0.9);
        color: white;
      }

      /* OTP Modal Styles */
      .otp-modal {
        display: none;
        position: fixed;
        z-index: 10000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(5px);
        animation: fadeIn 0.3s ease-out;
      }

      .otp-modal.show {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .otp-modal-content {
        background-color: white;
        border-radius: 20px;
        width: 100%;
        max-width: 420px;
        max-height: 90vh;
        overflow-y: auto;
        animation: slideUp 0.3s ease-out;
        position: relative;
        border: none;
        outline: none;
      }

      .otp-modal-header {
        display: flex;
        justify-content: flex-end;
        padding: 0;
        margin: 0;
        border: none;
        border-bottom: none;
        outline: none;
        background: none;
        box-shadow: none;
        height: 0;
        overflow: visible;
      }

      .otp-modal-header::before,
      .otp-modal-header::after {
        display: none !important;
        content: none !important;
        border: none !important;
      }

      .otp-close {
        color: #aaa;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s ease;
        border: none;
        outline: none;
        background: none;
        box-shadow: none;
        position: absolute;
        top: 15px;
        right: 15px;
        z-index: 10;
      }

      .otp-close:hover {
        color: #000;
        background-color: #f0f0f0;
      }

      .otp-content {
        padding: 65px 30px 30px;
        border: none;
        border-top: none;
        outline: none;
        background: none;
        box-shadow: none;
      }

      .otp-content::before,
      .otp-content::after {
        display: none !important;
        content: none !important;
        border: none !important;
      }

      .otp-step {
        display: none;
        animation: fadeIn 0.3s ease-out;
      }

      .otp-step.active {
        display: block;
      }

      .otp-title {
        font-size: 28px;
        font-weight: bold;
        color: #333;
        text-align: center;
        margin-bottom: 10px;
        margin-top: 50px;
      }

      .otp-subtitle {
        font-size: 16px;
        color: #666;
        text-align: center;
        margin-bottom: 30px;
        line-height: 1.5;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: 5px;
        border: none;
        outline: none;
      }

      .mobile-text {
        font-weight: bold;
        color: var(--primary);
      }

      .edit-btn {
        background: none;
        border: none;
        padding: 8px;
        cursor: pointer;
        border-radius: 50%;
        transition: background-color 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .edit-btn:hover {
        background-color: #f0f0f0;
      }

      .otp-input-container {
        width: 100%;
      }

      .mobile-input-wrapper {
        display: flex;
        align-items: center;
        background: white;
        border: 2px solid #e1e5e9;
        border-radius: 12px;
        padding: 0 16px;
        margin-bottom: 8px;
        transition: border-color 0.2s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .mobile-input-wrapper:focus-within {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
      }

      .mobile-input-wrapper.error {
        border-color: #dc3545;
      }

      .input-icon {
        margin-right: 12px;
        flex-shrink: 0;
      }

      .mobile-input-wrapper input {
        flex: 1;
        border: none;
        outline: none;
        padding: 18px 0;
        font-size: 16px;
        color: #333;
        background: transparent;
      }

      .mobile-input-wrapper input::placeholder {
        color: #999;
      }

      .otp-code-input {
        width: 100%;
        background: white;
        border: 2px solid #e1e5e9;
        border-radius: 12px;
        padding: 18px;
        font-size: 32px;
        text-align: center;
        letter-spacing: 24px;
        margin-bottom: 20px;
        transition: border-color 0.2s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        font-weight: 600;
      }

      .otp-code-input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        outline: none;
      }

      .otp-code-input::placeholder {
        color: #ddd;
        letter-spacing: 24px;
      }

      /* SMS Listening Indicator Animation */
      @keyframes pulse {
        0% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.7;
          transform: scale(1.05);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      .error-text {
        color: #dc3545;
        font-size: 14px;
        margin-bottom: 16px;
        margin-left: 4px;
        display: none;
      }

      .error-text.show {
        display: block;
      }

      .otp-btn {
        width: 100%;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 12px;
        padding: 18px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
        position: relative;
        overflow: hidden;
        margin-bottom: 16px;
      }

      .otp-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-1px);
        box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
      }

      .otp-btn:active {
        transform: translateY(0);
      }

      .otp-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .btn-text {
        transition: opacity 0.2s ease;
      }

      .btn-loader {
        display: none;
        width: 20px;
        height: 20px;
        border: 2px solid transparent;
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .otp-btn.loading .btn-text {
        opacity: 0;
      }

      .otp-btn.loading .btn-loader {
        display: block;
      }

      .resend-container {
        text-align: center;
      }

      .timer-text {
        color: #666;
        font-size: 16px;
      }

      .resend-btn {
        background: none;
        border: none;
        color: var(--primary);
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        padding: 8px;
        transition: color 0.2s ease;
      }

      .resend-btn:hover {
        color: var(--primary-dark);
        text-decoration: underline;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes spin {
        0% {
          transform: translate(-50%, -50%) rotate(0deg);
        }
        100% {
          transform: translate(-50%, -50%) rotate(360deg);
        }
      }

      /* Mobile and Tablet Responsive */
      @media (max-width: 768px) {
        .otp-modal.show {
          padding: 0;
        }

        .otp-modal-content {
          margin: 0;
          max-width: none;
          width: 100vw;
          height: 100vh;
          max-height: 100vh;
          border-radius: 0;
          animation: slideUp 0.3s ease-out;
        }

        .otp-modal-header {
          position: sticky;
          top: 0;
          background: white;
          z-index: 10;
          border-bottom: 1px solid #eee;
        }

        .otp-content {
          height: calc(100vh - 60px);
          overflow-y: auto;
        }
      }

      /* Mobile Responsive */
      @media (max-width: 480px) {
        .otp-modal.show {
          padding: 0;
        }

        .otp-modal-content {
          margin: 0;
          max-width: none;
          width: 100vw;
          height: 100vh;
          max-height: 100vh;
          border-radius: 0;
          animation: slideUp 0.3s ease-out;
        }

        .otp-title {
          font-size: 24px;
        }

        .otp-content {
          padding: 0 20px 25px;
          height: calc(100vh - 60px);
          overflow-y: auto;
        }

        .otp-code-input {
          font-size: 28px;
          letter-spacing: 20px;
        }

        .otp-code-input::placeholder {
          letter-spacing: 20px;
        }

        .otp-modal-header {
          position: sticky;
          top: 0;
          background: white;
          z-index: 10;
          border-bottom: 1px solid #eee;
        }
      }

      /* Location Form Styles */
      .location-form-container {
        width: 100%;
      }

      .map-container {
        position: relative;
        height: 300px;
        background-color: #f5f5f5;
        border-radius: 12px;
        overflow: hidden;
        margin-bottom: 20px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .map-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #f8f9fa;
        color: #666;
        z-index: 1;
      }

      /* ========================================
         DEDICATED MAP LOADER SPINNER CSS
         ======================================== */

      .map-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: rgba(248, 249, 250, 0.95);
        color: #666;
        z-index: 1000;
        backdrop-filter: blur(2px);
      }

      .map-loader .loader-spinner {
        width: 40px;
        height: 40px;
        border: 3px solid #e3e3e3;
        border-top: 3px solid var(--primary);
        border-radius: 50%;
        animation: mapSpinnerRotate 1s linear infinite;
        margin: 0 auto 15px auto;
        display: block;
        position: relative;
      }

      .map-loader p {
        margin: 0;
        text-align: center;
        font-size: 14px;
        font-weight: 500;
      }

      @keyframes mapSpinnerRotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* End of Dedicated Map Loader CSS */

      .loader-spinner {
        width: 40px;
        height: 40px;
        border: 3px solid #e3e3e3;
        border-top: 3px solid var(--primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 15px;
      }

      .map-element {
        width: 100%;
        height: 100%;
      }

      .map-center-marker {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -100%);
        z-index: 1000;
        pointer-events: none;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translate(-50%, -100%);
        }
        40% {
          transform: translate(-50%, -110%);
        }
        60% {
          transform: translate(-50%, -105%);
        }
      }

      .current-location-btn {
        position: absolute;
        bottom: 15px;
        left: 15px;
        right: 15px;
        background: white;
        border: none;
        border-radius: 25px;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 14px;
        font-weight: 600;
        color: var(--primary);
        z-index: 1001;
      }

      .current-location-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
      }

      .current-location-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .current-location-btn svg {
        margin-right: 8px;
      }

      .address-display {
        background: #f8f9fa;
        border: 1px solid #e1e5e9;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
      }

      .address-label {
        font-size: 14px;
        font-weight: 600;
        color: #666;
        margin-bottom: 8px;
      }

      .address-text {
        font-size: 16px;
        color: #333;
        line-height: 1.4;
        min-height: 20px;
      }

      .location-input-group {
        margin-bottom: 20px;
      }

      .location-label {
        display: block;
        font-size: 16px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
      }

      .location-input {
        width: 100%;
        background: white;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        padding: 12px 16px;
        font-size: 16px;
        color: #333;
        transition: border-color 0.2s ease;
        box-sizing: border-box;
      }

      .location-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
      }

      .location-input.error {
        border-color: #dc3545;
      }

      .address-textarea {
        min-height: 80px;
        resize: vertical;
        font-family: inherit;
      }

      .location-error-text {
        color: #dc3545;
        font-size: 14px;
        margin-top: 6px;
        display: none;
      }

      .location-error-text.show {
        display: block;
      }

      /* Responsive adjustments for location form */
      @media (max-width: 480px) {
        .map-container {
          height: 250px;
        }

        .current-location-btn {
          font-size: 13px;
          padding: 10px 16px;
        }

        .location-label {
          font-size: 15px;
        }

        .location-input {
          font-size: 15px;
          padding: 10px 14px;
        }
      }

      /* Date & Time Form Styles */
      .datetime-form-container {
        padding: 0;
      }

      .datetime-input-group {
        margin-bottom: 24px;
      }

      .datetime-label {
        display: block;
        font-size: 16px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
      }

      .date-input-container {
        position: relative;
      }

      .datetime-input {
        width: 100%;
        padding: 16px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        font-size: 16px;
        color: #374151;
        background-color: #f9fafb;
        transition: all 0.3s ease;
        box-sizing: border-box;
      }

      .datetime-input:focus {
        outline: none;
        border-color: var(--primary);
        background-color: white;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .datetime-input.error {
        border-color: #ef4444;
      }

      .datetime-error-text {
        color: #ef4444;
        font-size: 14px;
        margin-top: 8px;
        opacity: 0;
        transform: translateY(-10px);
        transition: all 0.3s ease;
      }

      .datetime-error-text.show {
        opacity: 1;
        transform: translateY(0);
      }

      .time-slots-container {
        position: relative;
      }

      .slots-loader {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px;
        color: #666;
      }

      .slots-loader .loader-spinner {
        width: 32px;
        height: 32px;
        margin-bottom: 12px;
      }

      .time-slots {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        grid-gap: 10px;
        padding: 16px;
        background-color: #f8f9fa;
        border-radius: 12px;
        border: 1px solid #e9ecef;
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
      }

      .time-slot {
        padding: 10px 12px;
        text-align: center;
        background-color: #ffffff;
        border: 1.5px solid #dee2e6;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 13px;
        font-weight: 500;
        color: #495057;
        min-height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        white-space: nowrap;
        min-width: 80px;
      }

      .time-slot:hover:not(.disabled):not(.selected) {
        border-color: var(--primary);
        background-color: #e3f2fd;
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 102, 255, 0.2);
      }

      .time-slot.selected {
        background-color: var(--primary);
        border-color: var(--primary);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 102, 255, 0.3);
        font-weight: 600;
      }

      .time-slot.selected:hover {
        background-color: var(--primary);
        border-color: var(--primary);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 3px 10px rgba(0, 102, 255, 0.4);
      }

      .time-slot.disabled {
        background-color: #f8f9fa;
        border-color: #dee2e6;
        color: #adb5bd;
        cursor: not-allowed;
        text-decoration: line-through;
        opacity: 0.7;
      }

      .datetime-buttons {
        display: flex;
        gap: 12px;
        margin-top: 32px;
      }

      .otp-btn.secondary {
        background-color: #f3f4f6;
        color: #374151;
        border: 2px solid #e5e7eb;
      }

      .otp-btn.secondary:hover {
        background-color: #e5e7eb;
        border-color: #d1d5db;
      }

      .datetime-buttons .otp-btn {
        flex: 1;
      }

      /* Responsive adjustments for date/time form */
      @media (max-width: 480px) {
        .time-slots {
          grid-template-columns: 1fr 1fr;
          grid-gap: 8px;
          padding: 12px;
          max-width: 100%;
          margin: 0 auto;
        }

        .time-slot {
          padding: 8px 10px;
          font-size: 12px;
          min-height: 36px;
          border-radius: 18px;
          min-width: 70px;
        }

        .datetime-buttons {
          flex-direction: column;
        }

        .datetime-input {
          font-size: 16px; /* Prevent zoom on iOS */
        }
      }

      /* Confirmation Step Styles */
      .confirmation-container {
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .booking-summary {
        background: linear-gradient(145deg, #ffffff 0%, #f8fafb 100%);
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 16px;
        border: 1px solid #e1e8ed;
        box-shadow: 0 2px 12px rgba(0, 102, 255, 0.06);
      }

      .summary-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #f1f5f9;
        transition: all 0.2s ease;
      }

      .summary-item:hover {
        background-color: rgba(0, 102, 255, 0.02);
        margin: 0 -8px;
        padding-left: 8px;
        padding-right: 8px;
        border-radius: 6px;
      }

      .summary-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }

      .summary-label {
        font-weight: 600;
        color: #475569;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .summary-value {
        font-weight: 500;
        color: #1e293b;
        text-align: right;
        max-width: 60%;
        word-break: break-word;
        font-size: 14px;
      }

      /* New Confirmation Section Styles */
      .confirmation-section {
        background: linear-gradient(145deg, #ffffff 0%, #f8fafb 100%);
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 12px;
        border: 1px solid #e1e8ed;
        box-shadow: 0 2px 12px rgba(0, 102, 255, 0.06);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .confirmation-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
          90deg,
          var(--primary) 0%,
          var(--secondary) 100%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .confirmation-section:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 20px rgba(0, 102, 255, 0.12);
      }

      .confirmation-section:hover::before {
        opacity: 1;
      }

      .confirmation-section .section-title {
        font-size: 16px;
        font-weight: 700;
        color: #1e293b;
        margin: 0 0 12px 0;
        padding-bottom: 8px;
        border-bottom: 1px solid #f1f5f9;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .section-content {
        margin: 0;
      }

      .confirmation-section .summary-item {
        padding: 8px 0;
        border-bottom: 1px solid #f1f5f9;
      }

      .confirmation-section .summary-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }

      .confirmation-section .summary-item:hover {
        background-color: rgba(0, 102, 255, 0.03);
        margin: 0 -12px;
        padding-left: 12px;
        padding-right: 12px;
        border-radius: 8px;
      }

      .price-highlight {
        font-size: 18px;
        font-weight: 800;
        color: #000000 !important;
      }

      .confirmation-buttons {
        display: flex;
        gap: 12px;
        margin-top: 32px;
      }

      .confirmation-buttons .otp-btn {
        flex: 1;
      }

      .confirmation-buttons .otp-btn.secondary {
        background-color: #f3f4f6;
        color: #374151;
        border: 2px solid #e5e7eb;
      }

      .confirmation-buttons .otp-btn.secondary:hover {
        background-color: #e5e7eb;
        border-color: #d1d5db;
      }

      /* Desktop Modal Improvements */
      @media (min-width: 768px) {
        .otp-modal-content {
          max-height: 85vh;
        }

        .otp-content {
          padding: 20px 30px 30px;
        }

        .datetime-form-container {
          max-height: none;
        }

        .datetime-buttons {
          margin-top: 24px;
          position: sticky;
          bottom: 0;
        }

        .confirmation-container {
          max-height: none;
          gap: 8px;
        }

        .confirmation-section {
          padding: 14px;
          border-radius: 10px;
          margin-bottom: 8px;
        }

        .confirmation-section .section-title {
          font-size: 15px;
          margin-bottom: 10px;
          padding-bottom: 6px;
        }

        .summary-item {
          padding: 8px 0;
        }

        .summary-label {
          font-size: 13px;
        }

        .summary-value {
          font-size: 13px;
        }

        .price-highlight {
          font-size: 16px;
        }

        .confirmation-buttons {
          margin-top: 16px;
          gap: 10px;
        }

        .confirmation-buttons .otp-btn {
          min-height: 44px;
          font-size: 14px;
        }
      }

      /* Confirmation Modal Styles */
      .confirmation-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 10002;
      }

      .confirmation-modal-overlay {
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(2px);
      }

      .confirmation-modal-content {
        background-color: white;
        border-radius: 12px;
        padding: 24px;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        animation: modalSlideIn 0.3s ease-out;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-20px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .confirmation-title {
        font-size: 18px;
        font-weight: bold;
        color: #1f2937;
        margin: 0 0 12px 0;
      }

      .confirmation-message {
        font-size: 16px;
        color: #6b7280;
        margin: 0 0 24px 0;
        line-height: 1.5;
      }

      .confirmation-modal-buttons {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
      }

      .confirmation-btn {
        padding: 10px 20px;
        border-radius: 8px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 80px;
        justify-content: center;
        position: relative;
      }

      .confirm-btn {
        background-color: #ef4444;
        color: white;
      }

      .confirm-btn:hover {
        background-color: #dc2626;
      }

      .confirm-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .confirmation-btn.loading .btn-text {
        opacity: 0;
      }

      .confirmation-btn.loading .btn-loader {
        display: block;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      }

      /* Responsive adjustments for confirmation */
      @media (max-width: 480px) {
        .confirmation-modal-content {
          margin: 20px;
          width: calc(100% - 40px);
        }

        .confirmation-buttons {
          flex-direction: column;
        }

        .summary-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 4px;
        }

        .summary-value {
          max-width: 100%;
          text-align: left;
          font-size: 14px;
        }

        .confirmation-modal-buttons {
          flex-direction: column;
        }
      }

      /* My Bookings Section Styles */
      .my-bookings-section {
        min-height: 100vh;
        background: #f8f9fa;
        padding: 80px 0 40px;
      }

      .bookings-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding: 20px 0;
        border-bottom: 2px solid #e9ecef;
      }

      .back-btn,
      .refresh-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #fff;
        border: 2px solid #0066ff;
        color: #0066ff;
        padding: 12px 20px;
        border-radius: 8px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .back-btn:hover,
      .refresh-btn:hover {
        background: #0066ff;
        color: #fff;
        transform: translateY(-2px);
      }

      .bookings-title {
        font-size: 32px;
        font-weight: bold;
        color: #333;
        margin: 0;
        text-align: center;
        flex: 1;
      }

      .bookings-content {
        position: relative;
      }

      .bookings-loader {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 60px 20px;
        color: #666;
      }

      .loader-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid #0066ff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .no-bookings {
        text-align: center;
        padding: 80px 20px;
        color: #666;
      }

      .no-bookings-icon {
        font-size: 64px;
        color: #ccc;
        margin-bottom: 20px;
      }

      .no-bookings h3 {
        font-size: 24px;
        margin-bottom: 12px;
        color: #333;
      }

      .no-bookings p {
        font-size: 16px;
        margin-bottom: 30px;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
      }

      .bookings-list {
        display: grid;
        gap: 20px;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }

      .booking-card {
        background: #fff !important;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border: 1px solid #e2e8f0;
        position: relative;
        transition: all 0.3s ease;
      }

      .booking-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .booking-card.cancelled {
        background: #f8d7da;
        opacity: 0.9;
      }

      .booking-card.gold {
        background: #f7e2ad;
      }

      .booking-card.platinum {
        background: #e3e2e5;
      }

      .cancel-stamp {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(220, 53, 69, 0.1);
        border: 2px solid #dc3545;
        border-radius: 5px;
        padding: 5px 15px;
        transform: rotate(15deg);
        z-index: 1;
      }

      .cancel-stamp-text {
        font-size: 14px;
        font-weight: bold;
        color: #dc3545;
        text-transform: uppercase;
      }

      .booking-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .service-name {
        font-size: 20px;
        font-weight: bold;
        color: #333;
        margin: 0;
      }

      .booking-status {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .status-completed,
      .status-accepted,
      .status-active {
        background: rgba(40, 167, 69, 0.2);
        color: #28a745;
      }

      .status-cancelled,
      .status-expired {
        background: rgba(220, 53, 69, 0.2);
        color: #dc3545;
      }

      .status-pending {
        background: rgba(255, 193, 7, 0.2);
        color: #ffc107;
      }

      .status-in-progress {
        background: rgba(0, 102, 255, 0.2);
        color: #0066ff;
      }

      .booking-info {
        display: grid;
        gap: 12px;
        margin-bottom: 20px;
      }

      .info-row {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        color: #666;
      }

      .info-row.datetime {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
      }

      .info-row.datetime .date-time-item {
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 150px;
      }

      .info-icon {
        color: #0066ff;
        font-size: 16px;
        width: 20px;
        text-align: center;
      }

      .cancelled-text {
        text-decoration: line-through;
        color: #6c757d;
      }

      .booking-actions {
        display: flex;
        gap: 12px;
        margin-top: 16px;
      }

      .action-btn {
        flex: 1;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }

      .cancel-btn {
        background: #dc3545;
        color: white;
      }

      .cancel-btn:hover {
        background: #c82333;
        transform: translateY(-2px);
      }

      .download-btn {
        background: #0066ff;
        color: white;
      }

      .download-btn:hover {
        background: #0052cc;
        transform: translateY(-2px);
      }

      .call-btn {
        background: #28a745;
        color: white;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 12px;
        margin-left: 8px;
      }

      .call-btn:hover {
        background: #218838;
      }

      .loading-spinner {
        width: 16px;
        height: 16px;
        border: 2px solid transparent;
        border-top: 2px solid currentColor;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @media (max-width: 768px) {
        .my-bookings-section {
          padding: 60px 0 20px;
        }

        .bookings-header {
          flex-direction: column;
          gap: 20px;
          align-items: stretch;
        }

        .bookings-title {
          order: -1;
          margin-bottom: 10px;
        }

        .back-btn,
        .refresh-btn {
          justify-content: center;
        }

        .booking-card {
          padding: 16px;
        }

        .booking-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }

        .info-row.datetime {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }

        .info-row.datetime .date-time-item {
          min-width: auto;
        }

        .booking-actions {
          flex-direction: column;
        }
      }
    </style>

    <!-- MY BOOKINGS CSS - PROFESSIONAL STYLING -->
    <style>
      /* My Bookings Section - Clean Professional Design */
      .my-bookings-section {
        min-height: 100vh;
        background: #f8f9fa;
        padding: 80px 0 40px;
      }

      .bookings-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding: 20px 0;
        border-bottom: 2px solid #e9ecef;
      }

      .back-btn,
      .refresh-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #fff;
        border: 2px solid #0066ff;
        color: #0066ff;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .back-btn:hover,
      .refresh-btn:hover {
        background: #0066ff;
        color: white;
        transform: translateY(-2px);
      }

      .bookings-title {
        font-size: 32px;
        font-weight: 700;
        background: linear-gradient(135deg, #0066ff, #4f46e5);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin: 0;
      }

      .bookings-content {
        position: relative;
      }

      .bookings-loader {
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 16px;
        padding: 60px 20px;
        text-align: center;
      }

      .loader-spinner {
        width: 50px;
        height: 50px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid #0066ff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      .no-bookings {
        text-align: center;
        padding: 60px 20px;
        max-width: 500px;
        margin: 0 auto;
      }

      .no-bookings-icon {
        font-size: 72px;
        color: #e9ecef;
        margin-bottom: 24px;
      }

      .no-bookings h3 {
        font-size: 28px;
        font-weight: 700;
        color: #2d3748;
        margin-bottom: 16px;
      }

      .no-bookings p {
        font-size: 16px;
        margin-bottom: 30px;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
      }

      .bookings-list {
        display: grid;
        gap: 20px;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }

      .booking-card {
        background: #fff;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .booking-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      }

      .booking-card.cancelled {
        opacity: 0.7;
        background: #f8f9fa;
      }

      .booking-card.gold {
        border-left: 4px solid #ffd700;
      }

      .booking-card.platinum {
        border-left: 4px solid #e5e7eb;
      }

      /* Cancel Stamp Styles */
      .cancel-stamp {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(239, 68, 68, 0.1);
        border: 2px solid #ef4444;
        border-radius: 8px;
        padding: 4px 12px;
        transform: rotate(15deg);
        z-index: 2;
      }

      .cancel-stamp-text {
        color: #dc2626;
        font-size: 12px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .booking-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 20px;
      }

      .booking-info h4 {
        font-size: 20px;
        font-weight: 700;
        color: #2d3748;
        margin-bottom: 8px;
      }

      .booking-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        margin-bottom: 16px;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #64748b;
        font-size: 14px;
      }

      .meta-item i {
        color: #0066ff;
        width: 16px;
      }

      .booking-address {
        color: #64748b;
        font-size: 14px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .booking-address i {
        color: #0066ff;
        width: 16px;
      }

      .booking-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 20px;
        border-top: 1px solid #e2e8f0;
      }

      .booking-status {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .status-completed {
        background: #d1fae5;
        color: #059669;
      }

      .status-pending {
        background: #fef3c7;
        color: #d97706;
      }

      .status-cancelled {
        background: #fee2e2;
        color: #dc2626;
      }

      .status-in-progress {
        background: #dbeafe;
        color: #2563eb;
      }

      .booking-actions {
        display: flex;
        gap: 12px;
      }

      .action-btn {
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        cursor: pointer;
        border: none;
      }

      .call-btn {
        background: #10b981;
        color: white;
      }

      .call-btn:hover {
        background: #059669;
        transform: translateY(-1px);
      }

      .cancel-btn {
        background: #ef4444;
        color: white;
      }

      .cancel-btn:hover {
        background: #dc2626;
        transform: translateY(-1px);
      }

      .download-btn {
        background: #6366f1;
        color: white;
      }

      .download-btn:hover {
        background: #4f46e5;
        transform: translateY(-1px);
      }

      .price-tag {
        position: absolute;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #0066ff, #4f46e5);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: 700;
        font-size: 16px;
        box-shadow: 0 2px 10px rgba(0, 102, 255, 0.3);
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .bookings-header {
          flex-direction: column;
          gap: 16px;
          text-align: center;
        }

        .booking-card {
          padding: 20px;
        }

        .booking-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .booking-footer {
          flex-direction: column;
          gap: 16px;
          align-items: stretch;
        }

        .booking-actions {
          justify-content: space-between;
        }

        .bookings-title {
          font-size: 24px;
        }

        .price-tag {
          position: static;
          display: inline-block;
          margin-top: 12px;
        }
      }
    </style>

    <div class="popup-overlay" id="demoVideoPopup">
      <div class="popup-content">
        <button class="close-popup" onclick="closeDemoPopup()">
          <i class="fas fa-times"></i>
        </button>
        <h3>Our Service Demo</h3>
        <p>See how our professional car wash service works at your doorstep.</p>

        <div class="demo-video-popup">
          <lite-youtube
            videoid="vxPuivTAHlY"
            playlabel="Car18 Service Demo"
          ></lite-youtube>
        </div>
      </div>
    </div>

    <!-- iOS App Popup -->
    <div class="popup-overlay" id="iosPopup">
      <div class="popup-content">
        <button class="close-popup" onclick="closePopup()">
          <i class="fas fa-times"></i>
        </button>
        <h3>Apologies</h3>
        <p>
          We are not currently available on the iOS App Store. Please call us at
          <a
            href="tel:8005003533"
            style="color: var(--primary); text-decoration: none"
            >800 500 3533</a
          >
          to schedule your booking.
        </p>
        <a href="tel:8005003533" class="btn btn-primary">
          <i class="fas fa-phone"></i> Call Now
        </a>
      </div>
    </div>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
      <div class="container">
        <h2 class="section-title">Top Google Reviews</h2>
        <p class="section-subtitle">
          Don't just take our word for it - hear from our satisfied customers
        </p>

        <!-- Desktop Grid View -->
        <div class="testimonial-grid">
          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                At just ₹495, they wash my car at home and make it look like
                new!
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/man_user1.jpg"
                  alt="Akash Verma"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Akash Verma</h4>
                <p>Gomti Nagar, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                I was getting ready for a party and had no time, so I booked a
                car wash at home. Quick and super helpful!
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/woman_user2.jpg"
                  alt="Neetu"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Neetu</h4>
                <p>Hazratganj, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>Good service, polite staff, and my car always looks shiny.</p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="https://i.ibb.co/xq0b47Zt/1661970709423.jpg"
                  alt="Vishal"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Vishal</h4>
                <p>Alambagh, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                They wash my car at home. Super easy and no need to go anywhere.
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/man_user3.jpg"
                  alt="Ravi Sharma"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Ravi Sharma</h4>
                <p>Indira Nagar, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                The service is always on time. My car looks clean and fresh
                every time.
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/woman_user4.jpg"
                  alt="Priya Singh"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Priya Singh</h4>
                <p>Aliganj, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                Very helpful for busy people. I book and they come to my
                doorstep.
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/man_user5.jpg"
                  alt="Amit Tiwari"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Amit Tiwari</h4>
                <p>Hazratganj, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                Affordable and clean work. I don't have to worry about anything.
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/woman_user6.jpg"
                  alt="Neha Verma"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Neha Verma</h4>
                <p>Rajajipuram, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                  <i class="far fa-star"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>Good service, polite staff, and my car always looks shiny.</p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/man_user7.jpg"
                  alt="Saurabh Mishra"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Saurabh Mishra</h4>
                <p>Telibagh, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="testimonial-card">
            <div class="testimonial-content">
              <p>
                No tension of waiting in line. Car gets cleaned while I relax at
                home.
              </p>
            </div>
            <div class="testimonial-author">
              <div class="author-img">
                <img
                  src="./reviewers/woman_user9.jpg"
                  alt="Divya Kapoor"
                  loading="lazy"
                />
              </div>
              <div class="author-info">
                <h4>Divya Kapoor</h4>
                <p>Jankipuram, Lucknow</p>
                <div class="rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                  <i class="far fa-star"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mobile Carousel View -->
        <div class="testimonials-carousel">
          <div class="glide">
            <div class="glide__track" data-glide-el="track">
              <ul class="glide__slides">
                <li class="glide__slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p>
                        At just ₹495, they wash my car at home and make it look
                        like new!
                      </p>
                    </div>
                    <div class="testimonial-author">
                      <div class="author-img">
                        <img
                          src="./reviewers/man_user1.jpg"
                          alt="Akash Verma"
                          loading="lazy"
                        />
                      </div>
                      <div class="author-info">
                        <h4>Akash Verma</h4>
                        <p>Gomti Nagar, Lucknow</p>
                        <div class="rating">
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p>
                        I was getting ready for a party and had no time, so I
                        booked a car wash at home. Quick and super helpful!
                      </p>
                    </div>
                    <div class="testimonial-author">
                      <div class="author-img">
                        <img
                          src="./reviewers/woman_user2.jpg"
                          alt="Neetu"
                          loading="lazy"
                        />
                      </div>
                      <div class="author-info">
                        <h4>Neetu</h4>
                        <p>Hazratganj, Lucknow</p>
                        <div class="rating">
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star-half-alt"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p>
                        Good service, polite staff, and my car always looks
                        shiny.
                      </p>
                    </div>
                    <div class="testimonial-author">
                      <div class="author-img">
                        <img
                          src="https://i.ibb.co/xq0b47Zt/1661970709423.jpg"
                          alt="Vishal"
                          loading="lazy"
                        />
                      </div>
                      <div class="author-info">
                        <h4>Vishal</h4>
                        <p>Alambagh, Lucknow</p>
                        <div class="rating">
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p>
                        They wash my car at home. Super easy and no need to go
                        anywhere.
                      </p>
                    </div>
                    <div class="testimonial-author">
                      <div class="author-img">
                        <img
                          src="./reviewers/man_user3.jpg"
                          alt="Ravi Sharma"
                          loading="lazy"
                        />
                      </div>
                      <div class="author-info">
                        <h4>Ravi Sharma</h4>
                        <p>Indira Nagar, Lucknow</p>
                        <div class="rating">
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p>
                        The service is always on time. My car looks clean and
                        fresh every time.
                      </p>
                    </div>
                    <div class="testimonial-author">
                      <div class="author-img">
                        <img
                          src="./reviewers/woman_user4.jpg"
                          alt="Priya Singh"
                          loading="lazy"
                        />
                      </div>
                      <div class="author-info">
                        <h4>Priya Singh</h4>
                        <p>Aliganj, Lucknow</p>
                        <div class="rating">
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star-half-alt"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="glide__slide">
                  <div class="testimonial-card">
                    <div class="testimonial-content">
                      <p>
                        Very helpful for busy people. I book and they come to my
                        doorstep.
                      </p>
                    </div>
                    <div class="testimonial-author">
                      <div class="author-img">
                        <img
                          src="./reviewers/man_user5.jpg"
                          alt="Amit Tiwari"
                          loading="lazy"
                        />
                      </div>
                      <div class="author-info">
                        <h4>Amit Tiwari</h4>
                        <p>Hazratganj, Lucknow</p>
                        <div class="rating">
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                          <i class="fas fa-star"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="glide__arrows" data-glide-el="controls">
              <button
                class="glide__arrow glide__arrow--left"
                data-glide-dir="<"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              <button
                class="glide__arrow glide__arrow--right"
                data-glide-dir=">"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Partner Section -->
    <section class="partner-section" id="partner">
      <div class="container">
        <div class="partner-container">
          <h2 class="section-title">Become Our Partner</h2>
          <p class="section-subtitle">
            Join our network of professional car care providers and grow your
            business with us.
          </p>

          <div class="partner-content">
            <p>
              We're looking for passionate professionals to join our team of
              mobile car care experts. If you're skilled in car detailing and
              want to be part of a growing service network, we'd love to hear
              from you.
            </p>
            <a
              href="https://forms.fillout.com/t/3mxA6QbpN2us"
              class="btn btn-primary"
            >
              <i class="fas fa-handshake"></i> Partner With Us
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Proudly Indian Section -->
    <section class="proudly-indian-section" id="proudly-indian">
      <div class="container">
        <h2 class="section-title">Proudly Indian</h2>
        <p class="section-subtitle">
          Supporting India's vision of self-reliance and contributing to
          national initiatives for a cleaner, better tomorrow.
        </p>

        <!-- Desktop Grid View -->
        <div class="indian-grid">
          <div class="indian-item">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQHzKXPjwIln0lhF0eY_Dy4h_vexVNG_u8h2w&s"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2ZmNjYwMCIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE4IiBmb250LWZhbWlseT0iQXJpYWwiPkJTdGFydHVwIEluZGlhPC90ZXh0Pgo8L3N2Zz4K'"
              alt="Startup India"
              loading="lazy"
            />
          </div>
          <div class="indian-item">
            <img
              src="https://images.seeklogo.com/logo-png/37/1/make-in-india-logo-png_seeklogo-379725.png"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwODBmZiIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE4IiBmb250LWZhbWlseT0iQXJpYWwiPk1ha2UgaW4gSW5kaWE8L3RleHQ+Cjwvc3ZnPgo='"
              alt="Make in India"
              loading="lazy"
            />
          </div>
          <div class="indian-item">
            <img
              src="https://www.uxdt.nic.in/wp-content/uploads/2020/06/Swach-Bharat_Preview.png?x84154"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwODA0MiIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE2IiBmb250LWZhbWlseT0iQXJpYWwiPlN3YWNoaCBCaGFyYXQ8L3RleHQ+Cjwvc3ZnPgo='"
              alt="Swachh Bharat Mission"
              loading="lazy"
            />
          </div>
          <div class="indian-item">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRuWCOQ7lQ0OkqzcHY_OPBXVSTmvbnzhzKCdA&s"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwN2NmZiIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE4IiBmb250LWZhbWlseT0iQXJpYWwiPkRpZ2l0YWwgSW5kaWE8L3RleHQ+Cjwvc3ZnPgo='"
              alt="Digital India"
              loading="lazy"
            />
          </div>
        </div>

        <!-- Mobile Carousel View -->
        <div class="indian-carousel">
          <div class="glide" id="indianGlide">
            <div class="glide__track" data-glide-el="track">
              <ul class="glide__slides">
                <li class="glide__slide">
                  <div class="indian-item">
                    <img
                      src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQHzKXPjwIln0lhF0eY_Dy4h_vexVNG_u8h2w&s"
                      onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2ZmNjYwMCIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE4IiBmb250LWZhbWlseT0iQXJpYWwiPkJTdGFydHVwIEluZGlhPC90ZXh0Pgo8L3N2Zz4K'"
                      alt="Startup India"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="indian-item">
                    <img
                      src="https://images.seeklogo.com/logo-png/37/1/make-in-india-logo-png_seeklogo-379725.png"
                      onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwODBmZiIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE4IiBmb250LWZhbWlseT0iQXJpYWwiPk1ha2UgaW4gSW5kaWE8L3RleHQ+Cjwvc3ZnPgo='"
                      alt="Make in India"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="indian-item">
                    <img
                      src="https://www.uxdt.nic.in/wp-content/uploads/2020/06/Swach-Bharat_Preview.png?x84154"
                      onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwODA0MiIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE2IiBmb250LWZhbWlseT0iQXJpYWwiPlN3YWNoaCBCaGFyYXQ8L3RleHQ+Cjwvc3ZnPgo='"
                      alt="Swachh Bharat Mission"
                      loading="lazy"
                    />
                  </div>
                </li>
                <li class="glide__slide">
                  <div class="indian-item">
                    <img
                      src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRuWCOQ7lQ0OkqzcHY_OPBXVSTmvbnzhzKCdA&s"
                      onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwN2NmZiIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IndoaXRlIiBmb250LXNpemU9IjE4IiBmb250LWZhbWlseT0iQXJpYWwiPkRpZ2l0YWwgSW5kaWE8L3RleHQ+Cjwvc3ZnPgo='"
                      alt="Digital India"
                      loading="lazy"
                    />
                  </div>
                </li>
              </ul>
            </div>
            <div class="glide__arrows" data-glide-el="controls">
              <button
                class="glide__arrow glide__arrow--left"
                data-glide-dir="<"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              <button
                class="glide__arrow glide__arrow--right"
                data-glide-dir=">"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq">
      <div class="container">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <p class="section-subtitle">
          Find answers to common questions about our car wash services
        </p>

        <div class="faq-container">
          <!-- FAQ Item 1 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>1. What is Car18?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Car18 is a professional doorstep car washing service in Lucknow.
                We bring high-quality car wash and detailing services right to
                your home or office, saving you time and effort.
              </p>
            </div>
          </div>

          <!-- FAQ Item 2 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>2. Where does Car18 operate?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Currently, Car18 operates exclusively in Lucknow, Uttar Pradesh.
                We are constantly expanding and will soon launch in more cities.
              </p>
            </div>
          </div>

          <!-- FAQ Item 3 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>3. How do I book a car wash with Car18?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                You can easily book a wash through our Car18 mobile app
                (available on the Play Store). Just select your location, choose
                a wash plan, pick a time slot, and confirm your booking.
              </p>
            </div>
          </div>

          <!-- FAQ Item 4 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>4. What types of car wash services does Car18 offer?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>We offer:</p>
              <ul>
                <li>Basic Wash – Exterior cleaning</li>
                <li>Standard Wash – Interior & exterior</li>
                <li>Super Wash – Full detailing for showroom-like shine</li>
                <li>
                  Monthly Plans – Regular scheduled washes at discounted rates
                </li>
              </ul>
            </div>
          </div>

          <!-- FAQ Item 5 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>5. Are your services eco-friendly?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Yes, we use eco-friendly cleaning solutions and minimal water
                usage. Our process is designed to clean your car efficiently
                while protecting the environment.
              </p>
            </div>
          </div>

          <!-- FAQ Item 6 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>6. What payment methods are accepted?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>We accept:</p>
              <ul>
                <li>UPI</li>
                <li>Debit/Credit Cards</li>
                <li>Wallets (Paytm, PhonePe, etc.)</li>
                <li>Cash (only if confirmed with the executive)</li>
              </ul>
            </div>
          </div>

          <!-- FAQ Item 7 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>7. Do I need to be present during the car wash?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Not necessarily. If your car is accessible and unlocked (for
                interior services), our professionals can clean it without your
                presence. You'll get real-time updates and photos after service
                completion.
              </p>
            </div>
          </div>

          <!-- FAQ Item 8 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>8. Is Car18 reliable and safe?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Absolutely. All our washers are background-verified
                professionals, and your vehicle is handled with utmost care. We
                ensure quality and safety on every job.
              </p>
            </div>
          </div>

          <!-- FAQ Item 9 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>9. Can I reschedule or cancel a booking?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Yes. You can easily reschedule or cancel from the Car18 app up
                to 1 hour before the scheduled time.
              </p>
            </div>
          </div>

          <!-- FAQ Item 10 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>10. Do you offer discounts or membership plans?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>
                Yes, we offer discounts on subscription plans, festive offers,
                and refer-a-friend rewards. Download our app to check current
                deals.
              </p>
            </div>
          </div>

          <!-- FAQ Item 11 -->
          <div class="faq-item">
            <div class="faq-question">
              <span>11. How can I contact Car18 support?</span>
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>You can reach us via:</p>
              <ul>
                <li>In-app chat support</li>
                <li>Call/WhatsApp at 800 500 3533</li>
                <li>Email: support@car18.in</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- My Bookings Section -->
    <section class="my-bookings-section" id="myBookings" style="display: none">
      <div class="container">
        <div class="bookings-header">
          <button class="back-btn" onclick="hideMyBookings()">
            <i class="fas fa-arrow-left"></i>
            <span>Back</span>
          </button>
          <h2 class="bookings-title">My Bookings</h2>
          <button class="refresh-btn" onclick="refreshBookings()">
            <i class="fas fa-sync-alt"></i>
            <span>Refresh</span>
          </button>
        </div>

        <div class="bookings-content">
          <div class="bookings-loader" id="bookingsLoader">
            <div class="loader-spinner"></div>
            <p>Loading bookings...</p>
          </div>

          <div class="no-bookings" id="noBookings" style="display: none">
            <div class="no-bookings-icon">
              <i class="fas fa-calendar-times"></i>
            </div>
            <h3>No Bookings Made Yet</h3>
            <p>
              You haven't made any bookings yet. Start by booking a service!
            </p>
            <button
              class="btn-primary"
              onclick="hideMyBookings(); document.getElementById('services').scrollIntoView({behavior: 'smooth'});"
            >
              Book a Service
            </button>
          </div>

          <div class="bookings-list" id="bookingsList">
            <!-- Booking cards will be dynamically inserted here -->
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-container">
          <div class="footer-about">
            <a
              href="#"
              class="logo"
              aria-label="Car18 - Professional Car Wash Services"
            >
              <span class="logo-text">Car18</span>
            </a>
            <p>
              Professional doorstep car wash services in Lucknow. We bring the
              shine to your location with premium car care solutions.
            </p>
            <div class="social-links">
              <a
                href="https://www.facebook.com/profile.php?id=61575191421458"
                class="social-link"
                target="_blank"
                aria-label="Facebook"
              >
                <i class="fab fa-facebook-f"></i>
              </a>
              <a
                href="https://www.instagram.com/car18_official/"
                class="social-link"
                target="_blank"
                aria-label="Instagram"
              >
                <i class="fab fa-instagram"></i>
              </a>
              <a
                href="https://x.com/car18_official"
                class="social-link"
                target="_blank"
                aria-label="Twitter"
              >
                <i class="fab fa-twitter"></i>
              </a>
              <a
                href="https://www.youtube.com/@car18_official"
                class="social-link"
                target="_blank"
                aria-label="YouTube"
              >
                <i class="fab fa-youtube"></i>
              </a>
              <a
                href="https://wa.me/918005003533"
                class="social-link"
                target="_blank"
                aria-label="WhatsApp"
              >
                <i class="fab fa-whatsapp"></i>
              </a>
            </div>
          </div>

          <div class="footer-links">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="#home">Home</a></li>
              <li><a href="#services">Services</a></li>
              <li><a href="#brands">Brands</a></li>
              <!-- <li><a href="#proudly-indian">Proudly Indian</a></li> -->
              <li><a href="#app">App</a></li>
              <li><a href="#testimonials">Reviews</a></li>
              <li><a href="#contact">Contact</a></li>
              <li><a href="#faq">FAQs</a></li>
              <li><a href="./blogs/index.html">Blogs</a></li>
              <li><a href="#partner">Partner</a></li>
            </ul>
          </div>

          <div class="footer-links">
            <h3>Services</h3>
            <ul>
              <li><a href="#services">Smart Wash</a></li>
              <li><a href="#services">Power Wash</a></li>
              <li><a href="#services">Interior Detailing</a></li>
              <li><a href="#services">Exterior Protection</a></li>
            </ul>
          </div>

          <div class="footer-links">
            <h3>Company</h3>
            <ul>
              <li><a href="#about">About Us</a></li>
              <li><a href="#partner">Careers</a></li>
              <li><a href="#contact">Contact Us</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <p>&copy; 2025 Car18. All Rights Reserved.</p>
        </div>
      </div>
    </footer>

    <!-- All external scripts loaded with defer to prevent render blocking -->
    <script
      defer
      src="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.6.0/glide.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/lite-youtube-embed/src/lite-yt-embed.js"
    ></script>

    <!-- Firebase Initialization - deferred and loaded after page is interactive -->
    <script type="module">
      // Defer Firebase initialization until after page is interactive
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(async function () {
          try {
            const { initializeApp } = await import(
              "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js"
            );
            const { getAnalytics } = await import(
              "https://www.gstatic.com/firebasejs/11.6.0/firebase-analytics.js"
            );
            const { getPerformance } = await import(
              "https://www.gstatic.com/firebasejs/11.6.0/firebase-performance.js"
            );

            const firebaseConfig = {
              apiKey: "AIzaSyAYgZJO9iZ5PXzwfe26ejyskWmbpuwSfuk",
              authDomain: "website-4124f.firebaseapp.com",
              projectId: "website-4124f",
              storageBucket: "website-4124f.firebasestorage.app",
              messagingSenderId: "395371737034",
              appId: "1:395371737034:web:4130f3c40cdf1f58f06933",
              measurementId: "G-MK6VYYR3B5",
            };

            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            // Initialize Performance Monitoring and get a reference to the service
            const perf = getPerformance(app);
          } catch (e) {
            console.log("Firebase initialization deferred", e);
          }
        }, 3000); // Load Firebase 3 seconds after DOMContentLoaded
      });
    </script>

    <!-- Append the `?module` param to load the module version of `web-vitals` -->
    <script type="module">
      import {
        onCLS,
        onINP,
        onLCP,
      } from "https://unpkg.com/web-vitals@5?module";

      onCLS(console.log);
      onINP(console.log);
      onLCP(console.log);
    </script>

    <script>
      // Device Detection Function
      function getDeviceType() {
        const ua = navigator.userAgent;

        if (/iPad|iPhone|iPod/.test(ua)) return "iOS";
        if (/Android/.test(ua)) return "Android";
        return "Desktop";
      }

      // PWA Installation Functions
      let deferredPrompt;

      // Listen for the beforeinstallprompt event
      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
      });

      // Function to install PWA
      async function installPWA() {
        const deviceType = getDeviceType();

        if (deviceType === "iOS") {
          // Show iOS installation instructions
          showIOSInstallInstructions();
        } else if (deferredPrompt) {
          // For Desktop and other browsers that support the install prompt
          deferredPrompt.prompt();
          const { outcome } = await deferredPrompt.userChoice;
          console.log(`User response to install prompt: ${outcome}`);
          deferredPrompt = null;
        } else {
          // Fallback: Show manual installation instructions
          showManualInstallInstructions();
        }
      }

      // Show iOS installation instructions
      function showIOSInstallInstructions() {
        const modal = document.createElement("div");
        modal.innerHTML = `
          <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; padding: 20px;">
            <div style="background: white; border-radius: 15px; padding: 30px; max-width: 400px; text-align: center;">
              <h3 style="margin: 0 0 20px 0; color: #333;">Install Car18 App</h3>
              <p style="margin: 0 0 20px 0; color: #666; line-height: 1.5;">
                To install Car18 on your iPhone/iPad:<br><br>
                1. Tap the <strong>Share</strong> button <span style="font-size: 20px;">⎙</span><br>
                2. Scroll down and tap <strong>"Add to Home Screen"</strong><br>
                3. Tap <strong>"Add"</strong> to confirm
              </p>
              <button onclick="this.closest('div').remove()" style="background: #0066ff; color: white; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer;">
                Got it!
              </button>
            </div>
          </div>
        `;
        document.body.appendChild(modal);
      }

      // Show manual installation instructions for other browsers
      function showManualInstallInstructions() {
        alert(
          'To install Car18 app, look for the "Install" or "Add to Home Screen" option in your browser menu.'
        );
      }

      // Update app download buttons - now simply ensures buttons are present
      function updateDownloadButtons() {
        // All buttons are now static HTML with fixed functionality
        // - Android buttons always go to Play Store
        // - iOS buttons always trigger PWA installation
        // No device-specific logic needed
        console.log(
          "Download buttons initialized - showing both Android and iOS options"
        );
      }

      // Initialize download buttons on page load
      document.addEventListener("DOMContentLoaded", function () {
        updateDownloadButtons();
      });

      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const navLinks = document.getElementById("navLinks");

      mobileMenuBtn.addEventListener("click", () => {
        navLinks.classList.toggle("active");
      });

      // Close mobile menu when clicking on a link
      const navItems = document.querySelectorAll(".nav-links a");
      navItems.forEach((item) => {
        item.addEventListener("click", (e) => {
          navLinks.classList.remove("active");

          // Handle smooth scroll with header offset for anchor links
          const href = item.getAttribute("href");
          if (href && href.startsWith("#")) {
            e.preventDefault();
            const targetId = href.substring(1);
            const targetElement = document.getElementById(targetId);

            if (targetElement) {
              const headerHeight =
                document.getElementById("header").offsetHeight;
              const targetPosition =
                targetElement.offsetTop - headerHeight - 20; // 20px extra padding

              window.scrollTo({
                top: targetPosition,
                behavior: "smooth",
              });
            }
          }
        });
      });

      // Header scroll effect - Change styles when leaving the hero section
      const header = document.getElementById("header");
      const hero = document.querySelector(".hero");

      function updateHeaderState() {
        if (!hero) return;

        const heroBottom = hero.offsetTop + hero.offsetHeight;
        const scrolled = window.pageYOffset > heroBottom - 100; // 100px buffer

        if (scrolled) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      }

      // Initial check and scroll listener
      window.addEventListener("scroll", updateHeaderState);
      window.addEventListener("load", updateHeaderState);

      // Initialize Glide.js carousels with proper event handling
      document.addEventListener("DOMContentLoaded", function () {
        // Function to safely initialize Glide carousels
        const initGlideCarousels = () => {
          // Check if Glide.js is loaded
          if (typeof Glide !== "undefined") {
            // Brands carousel
            if (document.querySelector(".brands-carousel .glide")) {
              try {
                const brandsGlide = new Glide(".brands-carousel .glide", {
                  type: "carousel",
                  perView: 3,
                  gap: 20,
                  autoplay: 3000,
                  dragThreshold: 50,
                  swipeThreshold: 50,
                  rewind: true,
                  animationDuration: 400,
                  breakpoints: {
                    768: {
                      perView: 2,
                    },
                    576: {
                      perView: 1,
                    },
                  },
                });

                // Add event listeners for mobile swipe
                const brandsElement = document.querySelector(
                  ".brands-carousel .glide"
                );
                if (brandsElement) {
                  brandsElement.addEventListener("touchstart", function () {
                    // Pause autoplay on touch
                    brandsGlide.pause();
                  });

                  brandsElement.addEventListener("touchend", function () {
                    // Resume autoplay after touch
                    setTimeout(() => brandsGlide.play(), 1000);
                  });
                }

                brandsGlide.mount();
              } catch (e) {
                console.error("Error initializing brands carousel:", e);
              }
            }

            // Proudly Indian carousel
            if (document.querySelector("#indianGlide")) {
              try {
                const indianGlide = new Glide("#indianGlide", {
                  type: "carousel",
                  perView: 3,
                  gap: 20,
                  autoplay: 3000,
                  dragThreshold: 50,
                  swipeThreshold: 50,
                  rewind: true,
                  animationDuration: 400,
                  breakpoints: {
                    768: {
                      perView: 2,
                    },
                    576: {
                      perView: 1,
                    },
                  },
                });

                // Add event listeners for mobile swipe
                const indianElement = document.querySelector("#indianGlide");
                if (indianElement) {
                  indianElement.addEventListener("touchstart", function () {
                    // Pause autoplay on touch
                    indianGlide.pause();
                  });

                  indianElement.addEventListener("touchend", function () {
                    // Resume autoplay after touch
                    setTimeout(() => indianGlide.play(), 1000);
                  });
                }

                indianGlide.mount();
              } catch (e) {
                console.error("Error initializing indian carousel:", e);
              }
            }

            // Testimonials carousel
            if (document.querySelector(".testimonials-carousel .glide")) {
              try {
                const testimonialsGlide = new Glide(
                  ".testimonials-carousel .glide",
                  {
                    type: "carousel",
                    perView: 3,
                    gap: 30,
                    autoplay: 5000,
                    dragThreshold: 50,
                    swipeThreshold: 50,
                    rewind: true,
                    animationDuration: 400,
                    breakpoints: {
                      1024: {
                        perView: 2,
                      },
                      768: {
                        perView: 1,
                      },
                    },
                  }
                );

                // Add event listeners for mobile swipe
                const testimonialsElement = document.querySelector(
                  ".testimonials-carousel .glide"
                );
                if (testimonialsElement) {
                  testimonialsElement.addEventListener(
                    "touchstart",
                    function () {
                      // Pause autoplay on touch
                      testimonialsGlide.pause();
                    }
                  );

                  testimonialsElement.addEventListener("touchend", function () {
                    // Resume autoplay after touch
                    setTimeout(() => testimonialsGlide.play(), 1000);
                  });
                }

                testimonialsGlide.mount();
              } catch (e) {
                console.error("Error initializing testimonials carousel:", e);
              }
            }

            // Videos carousel
            if (document.querySelector("#videosGlide")) {
              try {
                const videosGlide = new Glide("#videosGlide", {
                  type: "carousel",
                  perView: 1,
                  gap: 20,
                  autoplay: 5000,
                  dragThreshold: 50,
                  swipeThreshold: 50,
                  rewind: true,
                  animationDuration: 400,
                });

                // Add event listeners for mobile swipe
                const videosElement = document.querySelector("#videosGlide");
                if (videosElement) {
                  videosElement.addEventListener("touchstart", function () {
                    // Pause autoplay on touch
                    videosGlide.pause();
                  });

                  videosElement.addEventListener("touchend", function () {
                    // Resume autoplay after touch
                    setTimeout(() => videosGlide.play(), 1000);
                  });
                }

                videosGlide.mount();
              } catch (e) {
                console.error("Error initializing videos carousel:", e);
              }
            }

            // Gallery carousel
            if (document.querySelector("#galleryGlide")) {
              try {
                const galleryGlide = new Glide("#galleryGlide", {
                  type: "carousel",
                  perView: 1,
                  gap: 30,
                  autoplay: 8000,
                  dragThreshold: 50,
                  swipeThreshold: 50,
                  rewind: true,
                  animationDuration: 600,
                  animationTimingFunc: "ease-in-out",
                });

                // Store instance globally for before/after slider access
                document.querySelector("#galleryGlide").__glideInstance =
                  galleryGlide;

                // Add event listeners for mobile swipe
                const galleryElement = document.querySelector("#galleryGlide");
                if (galleryElement) {
                  galleryElement.addEventListener("touchstart", function () {
                    // Pause autoplay on touch
                    galleryGlide.pause();
                  });

                  galleryElement.addEventListener("touchend", function () {
                    // Resume autoplay after touch
                    setTimeout(() => galleryGlide.play(), 2000);
                  });
                }

                galleryGlide.mount();
              } catch (e) {
                console.error("Error initializing gallery carousel:", e);
              }
            }
          } else {
            // If Glide.js isn't loaded yet, try again after a short delay
            setTimeout(initGlideCarousels, 500);
          }
        };

        // Initialize carousels
        initGlideCarousels();
      });

      // iOS App Store Popup
      document.addEventListener("DOMContentLoaded", function () {
        const iosBtn = document.getElementById("iosAppBtn");
        const iosPopup = document.getElementById("iosPopup");

        if (iosBtn) {
          iosBtn.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();
            iosPopup.style.display = "flex";
            document.body.style.overflow = "hidden";
          });
        }
      });

      function closePopup() {
        const popup = document.getElementById("iosPopup");
        if (popup) {
          popup.style.display = "none";
          document.body.style.overflow = "";
        }
      }

      // Demo Video Popup
      function showDemoPopup(videoId) {
        const popup = document.getElementById("demoVideoPopup");
        const videoContainer = popup.querySelector(".demo-video-popup");

        // Clear existing lite-youtube element
        videoContainer.innerHTML = "";

        // Create a new lite-youtube element with the specified videoId
        const liteYoutube = document.createElement("lite-youtube");
        liteYoutube.setAttribute("videoid", videoId);
        liteYoutube.setAttribute("playlabel", "Car18 Service Demo");

        // Append the new element to the container
        videoContainer.appendChild(liteYoutube);

        // Show the popup
        popup.style.display = "flex";
      }

      function closeDemoPopup() {
        const popup = document.getElementById("demoVideoPopup");
        const videoContainer = popup.querySelector(".demo-video-popup");

        // Clear the video container to prevent memory leaks
        videoContainer.innerHTML = "";

        // Hide the popup
        popup.style.display = "none";
      }

      // Close popup when clicking outside
      document
        .querySelector(".popup-overlay")
        .addEventListener("click", (e) => {
          if (e.target === document.querySelector(".popup-overlay")) {
            closePopup();
            closeDemoPopup();
          }
        });

      // Know More toggle functionality
      document.querySelectorAll(".know-more-btn").forEach((button) => {
        button.addEventListener("click", function () {
          this.classList.toggle("active");
          const includesSection = this.nextElementSibling;
          includesSection.classList.toggle("active");
        });
      });

      // FAQ toggle functionality - fixed implementation
      document.addEventListener("DOMContentLoaded", function () {
        const faqQuestions = document.querySelectorAll(".faq-question");

        if (faqQuestions.length > 0) {
          faqQuestions.forEach((question) => {
            question.addEventListener("click", function (e) {
              e.preventDefault();
              const faqItem = this.parentElement;

              // Toggle the active class
              faqItem.classList.toggle("active");

              // Get the answer element
              const answer = this.nextElementSibling;

              // Toggle visibility with proper height transition
              if (faqItem.classList.contains("active")) {
                answer.style.maxHeight = answer.scrollHeight + "px";
              } else {
                answer.style.maxHeight = "0";
              }
            });
          });
        }
      });

      // App Modal Functions

      // Performance optimizations
      document.addEventListener("DOMContentLoaded", function () {
        // Lazy load non-critical elements
        const lazyElements = document.querySelectorAll("[loading=lazy]");

        const lazyLoad = (target) => {
          const io = new IntersectionObserver((entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const img = entry.target;
                if (img.dataset.src) {
                  img.src = img.dataset.src;
                }
                observer.unobserve(img);
              }
            });
          });

          io.observe(target);
        };

        lazyElements.forEach(lazyLoad);
      });

      // Advanced performance optimizations
      // Execute this early to optimize image loading
      (function () {
        // Optimize image loading with priority hints
        const optimizeImages = () => {
          // Find all images
          const allImages = document.querySelectorAll("img");

          allImages.forEach((img) => {
            // Add decoding async to all images
            img.decoding = "async";

            // Check if image is in viewport or close to it
            const rect = img.getBoundingClientRect();
            const isNearViewport = rect.top < window.innerHeight * 1.5; // 1.5x viewport height

            if (isNearViewport && !img.hasAttribute("loading")) {
              // For images near viewport that don't have loading attribute
              // Add fetchpriority=high for important images
              if (img.classList.contains("hero-fallback")) {
                img.setAttribute("fetchpriority", "high");
              }
            } else if (!img.hasAttribute("loading")) {
              // For images far from viewport without loading attribute
              img.loading = "lazy";
            }
          });
        };

        // Run image optimization immediately
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", optimizeImages);
        } else {
          optimizeImages();
        }

        // Intersection Observer for lazy loading in browsers without native support
        if (!("loading" in HTMLImageElement.prototype)) {
          const lazyElements = document.querySelectorAll('[loading="lazy"]');

          if (lazyElements.length > 0 && "IntersectionObserver" in window) {
            const lazyObserver = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.dataset.src) {
                      img.src = img.dataset.src;
                    }
                    lazyObserver.unobserve(img);
                  }
                });
              },
              { rootMargin: "200px 0px" }
            ); // Start loading 200px before entering viewport

            lazyElements.forEach((el) => lazyObserver.observe(el));
          }
        }

        // Font loading optimization
        if ("fonts" in document) {
          // Add a class when fonts are loaded
          document.fonts.ready.then(() => {
            document.documentElement.classList.add("fonts-loaded");
          });

          // Timeout to prevent waiting too long for fonts
          setTimeout(() => {
            document.documentElement.classList.add("fonts-loaded");
          }, 2000);
        } else {
          // Fallback for browsers without font loading API
          document.documentElement.classList.add("fonts-loaded");
        }
      })();

      // Modal functionality
      function showPopup() {
        const popup = document.getElementById("iosPopup");
        if (popup) {
          popup.style.display = "flex";
          document.body.style.overflow = "hidden";
        }
      }

      function closePopup() {
        const popup = document.getElementById("iosPopup");
        if (popup) {
          popup.style.display = "none";
          document.body.style.overflow = "";
        }
      }

      // Close popup when clicking outside
      document.addEventListener("click", function (event) {
        const popup = document.getElementById("iosPopup");
        if (event.target === popup) {
          closePopup();
        }
      });
    </script>

    <!-- Talk to Expert Modal -->
    <div class="expert-modal-overlay" id="expertModal">
      <div class="expert-modal">
        <button class="expert-close-btn" onclick="closeExpertModal()">
          <i class="fas fa-times"></i>
        </button>

        <div class="expert-modal-header">
          <div class="expert-modal-icon">
            <i class="fas fa-headset"></i>
          </div>
          <h3 class="expert-modal-title">Talk to Our Expert</h3>
          <p class="expert-modal-subtitle">
            Need personalized advice? Our car care experts are here to help you
            choose the perfect service for your vehicle.
          </p>
        </div>

        <form class="expert-modal-form" onsubmit="handleExpertCallback(event)">
          <div class="phone-input-container">
            <div class="phone-prefix">+91</div>
            <input
              type="tel"
              class="expert-input phone-input"
              placeholder="Enter 10-digit mobile number"
              name="phone"
              maxlength="10"
              pattern="[6-9][0-9]{9}"
              title="Enter a valid 10-digit mobile number starting with 6, 7, 8, or 9"
              oninput="formatPhoneInput(this)"
              onkeypress="return isNumberKey(event)"
              required
            />
            <div class="input-status" id="phoneStatus"></div>
          </div>
          <button type="submit" class="expert-btn" id="submitBtn" disabled>
            <span class="btn-icon">📞</span>
            <span class="btn-text">Request Callback</span>
            <div class="btn-loader" id="btnLoader"></div>
          </button>
        </form>

        <div class="trust-indicators">
          <div class="trust-item">
            <span class="trust-icon">⚡</span>
            <span>2-min response</span>
          </div>
          <div class="trust-item">
            <span class="trust-icon">🔒</span>
            <span>100% secure</span>
          </div>
          <div class="trust-item">
            <span class="trust-icon">✅</span>
            <span>No spam calls</span>
          </div>
        </div>

        <p class="callback-promise">
          🕐 <strong>Quick callback guarantee:</strong> Our expert will call you
          within 2 minutes during business hours (9 AM - 9 PM)
        </p>

        <!-- Success State Content -->
        <div class="success-content">
          <div class="success-icon">
            <i class="fas fa-check"></i>
          </div>
          <h3 class="success-title">Request Submitted!</h3>
          <p class="success-message">
            Our expert will call you within 2 minutes!
          </p>
          <button class="success-close-btn" onclick="closeExpertModal()">
            Continue Browsing
          </button>
        </div>
      </div>
    </div>

    <script>
      // Talk to Expert Modal Functionality
      let expertModalShown = false;
      let userInteractionDetected = false;
      let inactivityTimer = null;
      let exitIntentDetected = false;
      let pageLoadTime = Date.now();
      const MINIMUM_TIME_BEFORE_MODAL = 15000; // 15 seconds minimum

      // Track user interaction
      function trackUserInteraction() {
        if (!userInteractionDetected) {
          userInteractionDetected = true;
          // Start inactivity timer only after first user interaction
          startInactivityTimer();
        }
        // Reset inactivity timer on subsequent interactions
        clearTimeout(inactivityTimer);
        startInactivityTimer();
      }

      // Start inactivity timer (45 seconds)
      function startInactivityTimer() {
        inactivityTimer = setTimeout(() => {
          if (!expertModalShown && userInteractionDetected) {
            showExpertModal("inactivity");
          }
        }, 45000); // 45 seconds
      }

      // Exit intent detection
      function handleMouseLeave(e) {
        // Check if mouse is leaving from the top of the page
        // Add minimum time requirement (10 seconds) and user interaction check
        if (
          e.clientY <= 0 &&
          !exitIntentDetected &&
          !expertModalShown &&
          userInteractionDetected
        ) {
          // Add a small delay to prevent accidental triggers
          setTimeout(() => {
            if (!expertModalShown) {
              exitIntentDetected = true;
              showExpertModal("exit-intent");
            }
          }, 500); // 500ms delay
        }
      }

      // Show expert modal
      function showExpertModal(trigger) {
        if (expertModalShown) return;

        // Don't show expert modal if user is already logged in
        const authToken = localStorage.getItem("authToken");
        const userData = localStorage.getItem("userData");
        if (authToken && userData) {
          console.log("Expert modal blocked - user is already authenticated");
          return;
        }

        // Check if OTP modal is currently open
        const otpModal = document.getElementById("otpModal");
        if (otpModal && otpModal.classList.contains("show")) {
          console.log("Expert modal blocked - OTP modal is open");
          return;
        }

        // Check minimum time requirement
        const timeElapsed = Date.now() - pageLoadTime;
        if (timeElapsed < MINIMUM_TIME_BEFORE_MODAL) {
          console.log(
            "Modal blocked - minimum time not met:",
            timeElapsed,
            "ms"
          );
          return;
        }

        // Require user interaction for all triggers
        if (!userInteractionDetected) {
          console.log("Modal blocked - no user interaction detected");
          return;
        }

        expertModalShown = true;
        const modal = document.getElementById("expertModal");
        if (modal) {
          modal.style.display = "flex";
          document.body.style.overflow = "hidden";

          // Track the trigger for analytics (if needed)
          console.log("Expert modal triggered by:", trigger);
        }
      }

      // Close expert modal
      function closeExpertModal() {
        const modal = document.getElementById("expertModal");
        if (modal) {
          modal.style.display = "none";
          document.body.style.overflow = "";

          // Reset modal state
          modal.classList.remove("success-state");

          // Reset form
          const form = modal.querySelector(".expert-modal-form");
          if (form) {
            form.reset();
          }
        }
      }

      // Handle callback form submission
      function handleExpertCallback(event) {
        event.preventDefault();

        const formData = new FormData(event.target);
        const phoneNumber = formData.get("phone");
        const submitBtn = document.getElementById("submitBtn");
        const btnText = submitBtn.querySelector(".btn-text");
        const btnLoader = document.getElementById("btnLoader");

        // Show loading state
        submitBtn.disabled = true;
        submitBtn.classList.add("loading");
        btnLoader.classList.add("show");

        // Basic phone validation
        if (!/^[6-9]\d{9}$/.test(phoneNumber)) {
          alert(
            "Please enter a valid 10-digit mobile number starting with 6, 7, 8, or 9"
          );
          resetButton();
          return;
        }

        const data = {
          mobile: phoneNumber,
        };

        // Make POST request to the callback API
        fetch("https://savecallbackrequest-gkxyfzqeca-el.a.run.app", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        })
          .then((response) => response.json())
          .then((result) => {
            console.log("API Response:", result);

            // Show success state instead of alert
            showSuccessState(
              phoneNumber,
              result.requestId || generateRequestId()
            );
            resetButton();
          })
          .catch((error) => {
            console.error("Network Error:", error);
            alert(
              "Sorry, there was a connection error. Please check your internet connection and try again, or call us directly at +91 8005003533."
            );
            resetButton();
          });

        function resetButton() {
          submitBtn.disabled = false;
          submitBtn.classList.remove("loading");
          btnLoader.classList.remove("show");
        }
      }

      // Success state functions
      function showSuccessState(phone, requestId) {
        const modal = document.getElementById("expertModal");

        // Show success state
        modal.classList.add("success-state");
      }

      function generateRequestId() {
        return "REQ" + Date.now().toString().slice(-6);
      }

      // Enhanced phone input functions
      function isNumberKey(evt) {
        const charCode = evt.which ? evt.which : evt.keyCode;
        // Allow backspace, delete, tab, escape, enter
        if (
          charCode === 8 ||
          charCode === 9 ||
          charCode === 27 ||
          charCode === 13 ||
          charCode === 46
        ) {
          return true;
        }
        // Allow numbers 0-9
        if (charCode >= 48 && charCode <= 57) {
          return true;
        }
        return false;
      }

      function formatPhoneInput(input) {
        // Remove any non-digit characters
        let value = input.value.replace(/\D/g, "");

        // Limit to 10 digits
        if (value.length > 10) {
          value = value.substring(0, 10);
        }

        input.value = value;

        const container = input.closest(".phone-input-container");
        const status = document.getElementById("phoneStatus");
        const submitBtn = document.getElementById("submitBtn");

        // Reset classes
        container.classList.remove("valid", "invalid");
        status.classList.remove("show");

        if (value.length === 0) {
          submitBtn.disabled = true;
        } else if (value.length === 10 && /^[6-9]/.test(value)) {
          // Valid Indian mobile number
          container.classList.add("valid");
          status.textContent = "✅";
          status.classList.add("show");
          submitBtn.disabled = false;
        } else if (value.length === 10) {
          // 10 digits but invalid start
          container.classList.add("invalid");
          status.textContent = "❌";
          status.classList.add("show");
          submitBtn.disabled = true;
        } else if (value.length > 0) {
          // Typing in progress
          status.textContent = "⏳";
          status.classList.add("show");
          submitBtn.disabled = true;
        }
      }

      // Initialize expert modal functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Track various user interactions
        const interactionEvents = [
          "mousedown",
          "mousemove",
          "keypress",
          "scroll",
          "touchstart",
        ];

        interactionEvents.forEach((event) => {
          document.addEventListener(event, trackUserInteraction, {
            once: true,
          });
        });

        // Exit intent detection (desktop only)
        if (window.innerWidth > 768) {
          document.addEventListener("mouseleave", handleMouseLeave);
        }

        // Mobile-specific: detect page visibility change (tab switching, app switching)
        document.addEventListener("visibilitychange", function () {
          if (document.hidden && !expertModalShown && userInteractionDetected) {
            // Small delay to avoid showing immediately
            setTimeout(() => {
              if (document.hidden && !expertModalShown) {
                showExpertModal("page-hidden");
              }
            }, 1000);
          }
        });

        // Close modal when clicking outside
        document
          .getElementById("expertModal")
          .addEventListener("click", function (e) {
            if (e.target === this) {
              closeExpertModal();
            }
          });

        // Close modal with Escape key
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape" && expertModalShown) {
            closeExpertModal();
          }
        });

        // Timer will start automatically when user first interacts with the page
      });

      // Before/After Gallery Functionality
      document.addEventListener("DOMContentLoaded", function () {
        initBeforeAfterGallery();
      });

      function initBeforeAfterGallery() {
        const beforeAfterItems =
          document.querySelectorAll(".before-after-item");
        let galleryGlide = null;

        // Get gallery glide instance if it exists
        if (window.Glide && document.querySelector("#galleryGlide")) {
          try {
            galleryGlide =
              document.querySelector("#galleryGlide").__glideInstance;
          } catch (e) {
            // Glide instance not available yet
          }
        }

        beforeAfterItems.forEach((item) => {
          const comparisonImage = item.querySelector(".comparison-image");
          const slider = item.querySelector(".comparison-slider");
          const afterImage = item.querySelector(".after-image");

          let isMouseDown = false;
          let isTouchActive = false;

          // Mouse events
          slider.addEventListener("mousedown", startDrag);
          document.addEventListener("mousemove", onDrag);
          document.addEventListener("mouseup", stopDrag);

          // Touch events for mobile
          slider.addEventListener("touchstart", startTouchDrag, {
            passive: false,
          });
          comparisonImage.addEventListener("touchstart", startTouchDrag, {
            passive: false,
          });
          document.addEventListener("touchmove", onTouchDrag, {
            passive: false,
          });
          document.addEventListener("touchend", stopTouchDrag);

          // Click to move slider
          comparisonImage.addEventListener("click", moveSliderToClick);

          function startDrag(e) {
            isMouseDown = true;
            comparisonImage.style.cursor = "col-resize";
            e.preventDefault();
            e.stopPropagation();

            // Pause carousel autoplay temporarily
            if (galleryGlide && galleryGlide.pause) {
              galleryGlide.pause();
            }
          }

          function startTouchDrag(e) {
            isTouchActive = true;
            e.preventDefault();
            e.stopPropagation();

            // Pause carousel autoplay temporarily
            if (galleryGlide && galleryGlide.pause) {
              galleryGlide.pause();
            }
          }

          function onDrag(e) {
            if (!isMouseDown) return;
            e.preventDefault();
            e.stopPropagation();
            updateSliderPosition(e.clientX);
          }

          function onTouchDrag(e) {
            if (!isTouchActive) return;
            e.preventDefault();
            e.stopPropagation();
            const touch = e.touches[0];
            updateSliderPosition(touch.clientX);
          }

          function stopDrag() {
            isMouseDown = false;
            comparisonImage.style.cursor = "col-resize";

            // Resume carousel autoplay
            if (galleryGlide && galleryGlide.play) {
              setTimeout(() => {
                galleryGlide.play();
              }, 1000);
            }
          }

          function stopTouchDrag() {
            isTouchActive = false;

            // Resume carousel autoplay
            if (galleryGlide && galleryGlide.play) {
              setTimeout(() => {
                galleryGlide.play();
              }, 1000);
            }
          }

          function moveSliderToClick(e) {
            if (isMouseDown || isTouchActive) return;
            e.stopPropagation();
            updateSliderPosition(e.clientX);
          }

          function updateSliderPosition(clientX) {
            const rect = comparisonImage.getBoundingClientRect();
            const x = clientX - rect.left;
            const percentage = Math.max(
              0,
              Math.min(100, (x / rect.width) * 100)
            );

            // Update slider position
            slider.style.left = percentage + "%";

            // Update after image clipping
            afterImage.style.clipPath = `polygon(${percentage}% 0%, 100% 0%, 100% 100%, ${percentage}% 100%)`;
          }

          // Auto-animate on scroll (Intersection Observer)
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  // Wait 2 seconds, then start the auto-reveal animation
                  setTimeout(() => {
                    animateReveal(item);
                  }, 2000);
                }
              });
            },
            { threshold: 0.5 }
          );

          observer.observe(item);
        });
      }

      function animateReveal(item) {
        const slider = item.querySelector(".comparison-slider");
        const afterImage = item.querySelector(".after-image");

        // Animate from 90% to 10% to show transformation while keeping slider visible
        let currentPosition = 90;
        const targetPosition = 10;
        const duration = 4000; // 4 seconds for slower animation
        const startTime = Date.now();

        function animate() {
          const elapsed = Date.now() - startTime;
          const progress = Math.min(elapsed / duration, 1);

          // Easing function for smooth animation
          const easeInOutQuad =
            progress < 0.5
              ? 2 * progress * progress
              : 1 - Math.pow(-2 * progress + 2, 2) / 2;

          currentPosition = 90 + (targetPosition - 90) * easeInOutQuad;

          slider.style.left = currentPosition + "%";
          afterImage.style.clipPath = `polygon(${currentPosition}% 0%, 100% 0%, 100% 100%, ${currentPosition}% 100%)`;

          if (progress < 1) {
            requestAnimationFrame(animate);
          }
        }

        requestAnimationFrame(animate);
      }
    </script>

    <!-- WhatsApp Float Button -->
    <a
      href="https://wa.me/918005003533?text=Hi%20Car18!%20I%20need%20help%20with%20car%20wash%20services."
      class="whatsapp-float"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Chat with us on WhatsApp"
      title="Chat with Car18 Expert"
    >
      <i class="fab fa-whatsapp"></i>
      <div class="whatsapp-tooltip">Chat with Expert</div>
    </a>

    <!-- OTP Modal JavaScript -->
    <script>
      // API Configuration
      const API_CONFIG = {
        // Working Cloud Run endpoints (Google Cloud Platform)
        SEND_OTP: "https://sendotp-gkxyfzqeca-el.a.run.app/",
        VERIFY_OTP: "https://handleotplogin-gkxyfzqeca-el.a.run.app/",

        // Backend API endpoints - Update these with your actual backend URLs
        SAVE_ADDRESS: "https://addaddress-gkxyfzqeca-el.a.run.app/",
        GET_TIME_SLOTS: "https://getavailableslots-gkxyfzqeca-el.a.run.app/",
        CREATE_BOOKING: "https://createbooking-gkxyfzqeca-el.a.run.app/",
        GET_BOOKINGS: "https://getbookings-gkxyfzqeca-el.a.run.app/",
        GET_USER_BOOKINGS: "https://getuserbookings-gkxyfzqeca-el.a.run.app/",
        CANCEL_BOOKING: "https://cancelbooking-gkxyfzqeca-el.a.run.app/",

        // Specific token for bookings API (from curl command)
        BOOKINGS_TOKEN:
          "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiIiwidXNlcklkIjoiQm1iVXY1Sk5iVktnNnhsU1RBR2oiLCJtb2JpbGUiOiI5NTU5OTM4NjY5IiwiaWF0IjoxNzU4MTM5MDgwfQ.SgIq30af4G55KLXTSoA29A5UrDdW05fJncXPDqMQw_w",

        // Service configuration with numeric IDs
        SERVICES: {
          1: {
            id: 1,
            name: "Smart Wash",
            price: 495,
            description: "Basic car washing service",
          },
          2: {
            id: 2,
            name: "Deep Clean",
            price: 1549,
            description: "Comprehensive cleaning and detailing",
          },
          3: {
            id: 3,
            name: "Power Wash",
            price: 2049,
            description: "Premium wash with advanced treatments",
          },
        },
        DEFAULT_SERVICE_ID: 1, // Smart Wash as default

        // API Headers template - Updated for CORS compatibility
        getHeaders: (includeAuth = true, isFormData = false) => {
          const headers = {};

          // Only set Content-Type for JSON requests, not for FormData
          if (!isFormData) {
            headers["Content-Type"] = "application/json";
          }

          // Basic headers that work with CORS
          headers["Accept"] = "application/json";

          // Add auth token if needed and available
          if (includeAuth) {
            const authToken = localStorage.getItem("authToken");
            if (authToken) {
              headers["Authorization"] = `Bearer ${authToken}`;
            }
          }

          return headers;
        },

        // CORS-friendly fetch options
        getFetchOptions: (method = "GET", body = null, includeAuth = true) => {
          const options = {
            method: method,
            headers: API_CONFIG.getHeaders(includeAuth),
            mode: "cors", // Explicitly set CORS mode
            credentials: "omit", // Don't send credentials to avoid CORS issues
            cache: "no-cache",
          };

          if (body) {
            options.body =
              typeof body === "string" ? body : JSON.stringify(body);
          }

          return options;
        },

        // Feature flags
        DEMO_MODE: false, // Set to true for demo mode
        FALLBACK_TO_DEMO: true, // Whether to fallback to demo data if API fails

        // Common API options
        DEFAULT_TIMEOUT: 30000, // 30 seconds
        RETRY_ATTEMPTS: 3,
      };

      // Wait for DOM to be fully loaded before initializing OTP modal
      document.addEventListener("DOMContentLoaded", function () {
        // OTP Modal Management
        class OTPModal {
          constructor() {
            this.modal = document.getElementById("otpModal");
            this.mobileStep = document.getElementById("mobileStep");
            this.otpStep = document.getElementById("otpStep");
            this.locationStep = document.getElementById("locationStep");
            this.dateTimeStep = document.getElementById("dateTimeStep");
            this.mobileInput = document.getElementById("mobileNumber");
            this.otpInput = document.getElementById("otpInput");
            this.sendOtpBtn = document.getElementById("sendOtpBtn");
            this.verifyOtpBtn = document.getElementById("verifyOtpBtn");
            this.resendOtpBtn = document.getElementById("resendOtp");
            this.closeBtn = document.querySelector(".otp-close");
            this.editMobileBtn = document.getElementById("editMobile");
            this.displayMobile = document.getElementById("displayMobile");
            this.timerElement = document.getElementById("timer");
            this.timerText = document.getElementById("timerText");
            this.mobileError = document.getElementById("mobileError");

            // Location form elements
            this.houseNumberInput = document.getElementById("houseNumber");
            this.continueLocationBtn = document.getElementById(
              "continueLocationBtn"
            );
            this.mapLoader = document.getElementById("mapLoader");
            this.mapElement = document.getElementById("mapElement");
            this.houseNumberError = document.getElementById("houseNumberError");

            // Date/Time form elements
            this.serviceDateInput = document.getElementById("serviceDate");
            this.timeSlotsContainer = document.getElementById("timeSlots");
            this.slotsLoader = document.getElementById("slotsLoader");
            this.backToLocationBtn =
              document.getElementById("backToLocationBtn");
            this.continueBookingBtn =
              document.getElementById("continueBookingBtn");
            this.dateError = document.getElementById("dateError");
            this.timeError = document.getElementById("timeError");

            // Confirmation form elements
            this.confirmationStep = document.getElementById("confirmationStep");
            this.confirmServiceName =
              document.getElementById("confirmServiceName");
            this.confirmDate = document.getElementById("confirmDate");
            this.confirmTime = document.getElementById("confirmTime");
            this.confirmAddress = document.getElementById("confirmAddress");
            this.confirmPrice = document.getElementById("confirmPrice");
            this.backToDateTimeBtn =
              document.getElementById("backToDateTimeBtn");
            this.confirmBookingBtn =
              document.getElementById("confirmBookingBtn");

            // Confirmation modal elements
            this.confirmationModal =
              document.getElementById("confirmationModal");
            this.confirmationTitle =
              document.getElementById("confirmationTitle");
            this.confirmationMessage = document.getElementById(
              "confirmationMessage"
            );
            this.cancelConfirmationBtn = document.getElementById(
              "cancelConfirmationBtn"
            );
            this.proceedConfirmationBtn = document.getElementById(
              "proceedConfirmationBtn"
            );

            this.timer = 0;
            this.timerInterval = null;
            this.currentLocation = null;
            this.map = null;
            this.isGettingLocation = false;
            this.selectedDate = null;
            this.selectedTime = null;
            this.availableSlots = ["08:00", "10:00", "12:00", "14:00", "16:00"];
            this.bookingData = null;

            this.initializeEventListeners();
          }

          initializeEventListeners() {
            // Close modal events
            this.closeBtn.addEventListener("click", () => this.closeModal());
            this.modal.addEventListener("click", (e) => {
              if (e.target === this.modal) this.closeModal();
            });

            // Mobile input validation
            this.mobileInput.addEventListener("input", (e) => {
              e.target.value = e.target.value
                .replace(/[^0-9]/g, "")
                .substring(0, 10);
              this.clearError();
            });

            // OTP input validation and auto-verify
            this.otpInput.addEventListener("input", (e) => {
              e.target.value = e.target.value
                .replace(/[^0-9]/g, "")
                .substring(0, 4);
              if (e.target.value.length === 4) {
                this.verifyOTP();
              }
            });

            // Handle pasted OTP values
            this.otpInput.addEventListener("paste", (e) => {
              e.preventDefault();
              const pastedText = (
                e.clipboardData || window.clipboardData
              ).getData("text");

              // Use the same OTP extraction logic as WebOTP API
              let otpMatch = null;

              // Pattern 1: Look for OTP at start of message after "Dear User,"
              otpMatch = pastedText.match(/Dear User,\s*(\d{4})/i);

              // Pattern 2: Look for "#### is your OTP" pattern
              if (!otpMatch) {
                otpMatch = pastedText.match(/(\d{4})\s+is your OTP/i);
              }

              // Pattern 3: Generic 4-digit number (fallback)
              if (!otpMatch) {
                otpMatch = pastedText.match(/\b(\d{4})\b/);
              }

              if (otpMatch) {
                this.otpInput.value = otpMatch[1];
                this.otpInput.dispatchEvent(
                  new Event("input", { bubbles: true })
                );
                console.log("✅ OTP extracted from pasted text:", otpMatch[1]);
              }
            });

            // Initialize OTP autofill when OTP step is shown
            this.setupOTPAutofill();

            // Button events
            this.sendOtpBtn.addEventListener("click", () => this.sendOTP());
            this.verifyOtpBtn.addEventListener("click", () => this.verifyOTP());
            this.resendOtpBtn.addEventListener("click", () => this.sendOTP());
            this.editMobileBtn.addEventListener("click", () =>
              this.editMobile()
            );

            // Location form events
            this.continueLocationBtn.addEventListener("click", () =>
              this.handleLocationSubmit()
            );
            this.houseNumberInput.addEventListener("input", () =>
              this.clearLocationError()
            );

            // Enter key events
            this.mobileInput.addEventListener("keypress", (e) => {
              if (e.key === "Enter") this.sendOTP();
            });
            this.otpInput.addEventListener("keypress", (e) => {
              if (e.key === "Enter") this.verifyOTP();
            });
            this.houseNumberInput.addEventListener("keypress", (e) => {
              if (e.key === "Enter") this.handleLocationSubmit();
            });

            // Date/Time form events
            this.serviceDateInput.addEventListener("change", () =>
              this.handleDateChange()
            );
            this.backToLocationBtn.addEventListener("click", () =>
              this.showLocationStep()
            );
            this.continueBookingBtn.addEventListener("click", () =>
              this.handleBookingSubmit()
            );

            // Confirmation form events
            this.backToDateTimeBtn.addEventListener("click", () =>
              this.showDateTimeStep()
            );
            this.confirmBookingBtn.addEventListener("click", () =>
              this.handleFinalBookingSubmit()
            );

            // Confirmation modal events
            this.cancelConfirmationBtn.addEventListener("click", () =>
              this.hideConfirmationModal()
            );
            this.proceedConfirmationBtn.addEventListener("click", () =>
              this.handleFinalBookingSubmit()
            );
            this.confirmationModal.addEventListener("click", (e) => {
              if (e.target === this.confirmationModal)
                this.hideConfirmationModal();
            });
          }

          openModal() {
            this.modal.classList.add("show");

            // Check if user has valid token in localStorage
            const authToken = localStorage.getItem("authToken");
            const userData = localStorage.getItem("userData");

            if (authToken && userData) {
              console.log("Valid token found, skipping OTP verification");
              // Skip OTP step and go directly to location/address step
              this.resetForm();
              this.showLocationStep();
              return;
            }

            // No token found - start from OTP step
            this.resetForm();
            setTimeout(() => this.mobileInput.focus(), 100);
          }

          closeModal() {
            this.modal.classList.remove("show");
            this.resetForm();
            this.clearTimer();
          }

          resetForm() {
            this.mobileInput.value = "";
            this.otpInput.value = "";
            this.houseNumberInput.value = "";
            this.serviceDateInput.value = "";
            this.selectedDate = null;
            this.selectedTime = null;
            this.bookingData = null;
            this.clearError();
            this.clearLocationError();
            this.clearDateTimeErrors();
            this.showMobileStep();
            this.resetButtons();

            // Only clear location data if user is not authenticated with saved address
            if (!this.isUserAuthenticated || !this.hasExistingAddress) {
              this.currentLocation = null;
              this.savedAddressData = null;
            }
          }

          showMobileStep() {
            this.mobileStep.classList.add("active");
            this.otpStep.classList.remove("active");
            this.locationStep.classList.remove("active");
            this.dateTimeStep.classList.remove("active");
            this.confirmationStep.classList.remove("active");
          }

          showOTPStep() {
            this.mobileStep.classList.remove("active");
            this.otpStep.classList.add("active");
            this.locationStep.classList.remove("active");
            this.dateTimeStep.classList.remove("active");
            this.confirmationStep.classList.remove("active");
            this.displayMobile.textContent = this.mobileInput.value;
            setTimeout(() => this.otpInput.focus(), 100);

            // Immediately start listening for SMS OTP
            this.setupOTPAutofill();
            setTimeout(() => {
              this.requestOTPFromSMS();
            }, 1000); // Start listening after 1 second
          }

          showLocationStep() {
            this.mobileStep.classList.remove("active");
            this.otpStep.classList.remove("active");
            this.locationStep.classList.add("active");
            this.dateTimeStep.classList.remove("active");
            this.confirmationStep.classList.remove("active");
            this.clearTimer();

            // Initialize location after a short delay
            setTimeout(() => {
              this.initializeLocationForm();
            }, 300);
          }

          editMobile() {
            this.otpInput.value = "";
            this.showMobileStep();
            this.clearTimer();
            setTimeout(() => this.mobileInput.focus(), 100);
          }

          validateMobile() {
            const mobile = this.mobileInput.value.trim();
            if (!mobile) {
              this.showError("Oops! Please enter your mobile number.");
              return false;
            }
            if (!/^\d{10}$/.test(mobile)) {
              this.showError("Please enter a valid 10-digit mobile number.");
              return false;
            }
            return true;
          }

          showError(message) {
            this.mobileError.textContent = message;
            this.mobileError.classList.add("show");
            this.mobileInput.parentElement.classList.add("error");
          }

          clearError() {
            this.mobileError.classList.remove("show");
            this.mobileInput.parentElement.classList.remove("error");
          }

          setButtonLoading(button, loading) {
            if (loading) {
              button.classList.add("loading");
              button.disabled = true;
            } else {
              button.classList.remove("loading");
              button.disabled = false;
            }
          }

          resetButtons() {
            this.setButtonLoading(this.sendOtpBtn, false);
            this.setButtonLoading(this.verifyOtpBtn, false);
          }

          startTimer() {
            this.timer = 30;
            this.timerText.style.display = "block";
            this.resendOtpBtn.style.display = "none";

            this.timerInterval = setInterval(() => {
              this.timer--;
              this.timerElement.textContent = this.timer;

              if (this.timer <= 0) {
                this.clearTimer();
                this.timerText.style.display = "none";
                this.resendOtpBtn.style.display = "block";
              }
            }, 1000);
          }

          clearTimer() {
            if (this.timerInterval) {
              clearInterval(this.timerInterval);
              this.timerInterval = null;
            }
          }

          // OTP Autofill functionality using Web OTP API
          setupOTPAutofill() {
            // Check if Web OTP API is supported
            if ("OTPCredential" in window) {
              console.log("✅ Web OTP API supported - autofill enabled");
              console.log(
                "📱 OTP will be automatically filled when SMS is received"
              );

              // Show a visual indicator that we're listening for SMS
              this.showSMSListeningIndicator();
            } else {
              console.log("❌ Web OTP API not supported in this browser");
              console.log(
                "💡 Autofill works in Chrome/Edge on Android, Safari on iOS"
              );
            }
          }

          // Show visual indicator for SMS listening
          showSMSListeningIndicator() {
            const indicator = document.createElement("div");
            indicator.className = "sms-listening-indicator";
            indicator.innerHTML = "📱 Listening for SMS...";
            indicator.style.cssText = `
            position: absolute;
            top: -30px;
            right: 0;
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            animation: pulse 2s infinite;
            z-index: 10;
          `;

            const inputContainer = this.otpInput.parentElement;
            inputContainer.style.position = "relative";
            inputContainer.appendChild(indicator);

            // Remove indicator after 30 seconds
            setTimeout(() => {
              if (indicator.parentElement) {
                indicator.remove();
              }
            }, 30000);
          }

          // Request OTP from SMS using Web OTP API
          async requestOTPFromSMS() {
            if (!("OTPCredential" in window)) {
              console.log("Web OTP API not supported");
              return;
            }

            try {
              console.log("🔍 Listening for SMS OTP...");

              // Create an AbortController for timeout
              const abortController = new AbortController();
              const timeoutId = setTimeout(() => {
                abortController.abort();
                console.log("⏰ OTP request timed out after 60 seconds");
              }, 60000); // 60 seconds timeout

              // Request OTP credential with timeout
              const otpCredential = await navigator.credentials.get({
                otp: { transport: ["sms"] },
                signal: abortController.signal,
              });

              clearTimeout(timeoutId);

              if (otpCredential && otpCredential.code) {
                console.log("📱 OTP received from SMS:", otpCredential.code);

                // Extract 4-digit OTP - handle multiple patterns
                let otpMatch = null;

                // Pattern 1: Look for OTP at start of message after "Dear User,"
                otpMatch = otpCredential.code.match(/Dear User,\s*(\d{4})/i);

                // Pattern 2: Look for "#### is your OTP" pattern
                if (!otpMatch) {
                  otpMatch = otpCredential.code.match(/(\d{4})\s+is your OTP/i);
                }

                // Pattern 3: Generic 4-digit number (fallback)
                if (!otpMatch) {
                  otpMatch = otpCredential.code.match(/\b(\d{4})\b/);
                }

                if (otpMatch) {
                  const otp = otpMatch[1]; // Get the captured group
                  this.otpInput.value = otp;
                  console.log("✅ OTP auto-filled from SMS:", otp);

                  // Dispatch input event to trigger any listeners
                  this.otpInput.dispatchEvent(
                    new Event("input", { bubbles: true })
                  );

                  // Auto-verify if we have a complete 4-digit OTP
                  if (otp.length === 4) {
                    setTimeout(() => {
                      this.verifyOTP();
                    }, 800); // Slightly longer delay for better UX
                  }
                } else {
                  console.log(
                    "❌ Could not extract 4-digit OTP from SMS:",
                    otpCredential.code
                  );
                }
              }
            } catch (error) {
              if (error.name === "AbortError") {
                console.log("⏰ OTP request was cancelled due to timeout");
              } else if (error.name === "NotSupportedError") {
                console.log("📵 SMS OTP not available on this device");
              } else {
                console.log("❌ Failed to get OTP from SMS:", error.message);
              }
              // Not critical errors - user can still enter OTP manually
            }
          }

          // Enhanced show OTP step with autofill
          showOTPStepWithAutofill() {
            this.showOTPStep();

            // Check if Web OTP API is supported
            if ("OTPCredential" in window) {
              console.log("Web OTP API supported - SMS autofill enabled");
            } else {
              console.log("Web OTP API not supported - manual OTP entry only");
            }

            // Start listening for OTP SMS after a short delay
            setTimeout(() => {
              this.requestOTPFromSMS();
            }, 1000);
          }

          async sendOTP() {
            if (!this.validateMobile()) return;

            this.setButtonLoading(this.sendOtpBtn, true);

            try {
              // API call to send OTP with proper headers
              const response = await fetch(
                API_CONFIG.SEND_OTP,
                API_CONFIG.getFetchOptions(
                  "POST",
                  { mobile: this.mobileInput.value.trim() },
                  false
                )
              );

              if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
              }

              const result = await response.json();
              console.log("Send OTP response:", result);

              if (
                result.success ||
                result.status === "success" ||
                result.message === "OTP sent successfully"
              ) {
                this.showOTPStepWithAutofill();
                this.startTimer();
                console.log("OTP sent successfully!");
              } else {
                console.error(
                  "Failed to send OTP:",
                  result.message || "Please try again."
                );
              }
            } catch (error) {
              console.error("Send OTP error:", error);
              console.error(
                "Network error. Please check your connection and try again."
              );
            } finally {
              this.setButtonLoading(this.sendOtpBtn, false);
            }
          }

          async verifyOTP() {
            const otp = this.otpInput.value.trim();
            if (!otp || otp.length !== 4) {
              console.error("Please enter a valid 4-digit OTP.");
              return;
            }

            this.setButtonLoading(this.verifyOtpBtn, true);

            try {
              // API call to verify OTP with proper headers
              const response = await fetch(
                API_CONFIG.VERIFY_OTP,
                API_CONFIG.getFetchOptions(
                  "POST",
                  {
                    mobile: this.mobileInput.value.trim(),
                    otp: otp.trim(),
                  },
                  false
                )
              );

              if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
              }

              const result = await response.json();
              console.log("Verify OTP response:", result);

              if (
                result.success ||
                result.status === "success" ||
                result.message === "User logged in successfully"
              ) {
                console.log("Phone number verified successfully!");

                // Store user authentication data - handle both token formats
                if (result.authToken) {
                  localStorage.setItem("authToken", result.authToken);
                  console.log("Auth token stored:", result.authToken);
                } else if (result.token) {
                  localStorage.setItem("authToken", result.token);
                  console.log("Token stored:", result.token);
                }

                if (result.user) {
                  localStorage.setItem("userData", JSON.stringify(result.user));
                  console.log("User data stored:", result.user);
                }

                // Store mobile number for future use
                localStorage.setItem(
                  "userMobile",
                  this.mobileInput.value.trim()
                );

                // Show location form instead of closing modal
                setTimeout(() => {
                  this.showLocationStep();
                }, 1000);
              } else {
                console.error(
                  "Invalid OTP:",
                  result.message || "Please try again."
                );
                this.otpInput.value = "";
                this.otpInput.focus();
              }
            } catch (error) {
              console.error("Verify OTP error:", error);
              console.error(
                "Network error. Please check your connection and try again."
              );
            } finally {
              this.setButtonLoading(this.verifyOtpBtn, false);
            }
          }

          // Location Form Methods
          initializeLocationForm() {
            this.getCurrentLocation();
          }

          async getCurrentLocation() {
            if (this.isGettingLocation) return;

            this.isGettingLocation = true;

            try {
              // Check if geolocation is supported
              if (!navigator.geolocation) {
                throw new Error("Geolocation is not supported by this browser");
              }

              const position = await new Promise((resolve, reject) => {
                navigator.geolocation.getCurrentPosition(resolve, reject, {
                  enableHighAccuracy: true,
                  timeout: 10000,
                  maximumAge: 60000,
                });
              });

              this.currentLocation = {
                lat: position.coords.latitude,
                lng: position.coords.longitude,
              };

              // Hide loader and show map
              this.mapLoader.style.display = "none";
              this.mapElement.style.display = "block";

              // Initialize simple map (using a basic approach for now)
              this.initializeSimpleMap();

              // Get address from coordinates
              await this.getAddressFromCoordinates(this.currentLocation);
            } catch (error) {
              console.error("Location error:", error);
              console.error(
                "Could not get your location. Please enter address manually."
              );

              // Show a simple address input fallback
              this.showAddressInputFallback();
            } finally {
              this.isGettingLocation = false;
            }
          }

          initializeSimpleMap() {
            console.log("Starting map initialization...");

            // Load Google Maps API with callback
            this.loadGoogleMapsAPI()
              .then(() => {
                console.log(
                  "Google Maps API loaded via callback, initializing map..."
                );
                this.initializeGoogleMap();
              })
              .catch((error) => {
                console.error("Failed to load Google Maps API:", error);
                this.showMapFallback();
              });
          }

          waitForGoogleMapsReady() {
            return new Promise((resolve, reject) => {
              let attempts = 0;
              const maxAttempts = 100; // 10 seconds maximum wait

              const checkReady = () => {
                if (
                  typeof google !== "undefined" &&
                  google.maps &&
                  google.maps.Map &&
                  google.maps.ControlPosition &&
                  google.maps.ControlPosition.RIGHT_BOTTOM &&
                  google.maps.marker &&
                  google.maps.marker.AdvancedMarkerElement
                ) {
                  console.log("Google Maps API fully loaded and ready");
                  resolve();
                } else if (attempts < maxAttempts) {
                  attempts++;
                  console.log(
                    `Waiting for Google Maps API... Attempt ${attempts}/${maxAttempts}`
                  );
                  setTimeout(checkReady, 100);
                } else {
                  console.error(
                    "Google Maps API failed to load completely after 10 seconds"
                  );
                  reject(
                    new Error("Google Maps API failed to load completely")
                  );
                }
              };

              checkReady();
            });
          }

          loadGoogleMapsAPI() {
            return new Promise((resolve, reject) => {
              if (
                typeof google !== "undefined" &&
                google.maps &&
                google.maps.ControlPosition &&
                google.maps.marker &&
                google.maps.marker.AdvancedMarkerElement
              ) {
                resolve();
                return;
              }

              const script = document.createElement("script");
              script.src = `https://maps.googleapis.com/maps/api/js?key=AIzaSyBJQJbbH9s5XhZsmwxRDahEjOf8-iSNkUE&libraries=places,marker&loading=async`;
              script.async = true;
              script.defer = true;

              script.onload = () => {
                // Wait a bit for all components to be ready
                setTimeout(() => {
                  if (
                    google &&
                    google.maps &&
                    google.maps.ControlPosition &&
                    google.maps.marker &&
                    google.maps.marker.AdvancedMarkerElement
                  ) {
                    console.log("Google Maps API loaded successfully");
                    resolve();
                  } else {
                    console.error(
                      "Google Maps API loaded but AdvancedMarkerElement not ready"
                    );
                    reject(new Error("AdvancedMarkerElement not ready"));
                  }
                }, 500); // Wait 500ms for components to initialize
              };

              script.onerror = () => {
                reject(new Error("Failed to load Google Maps API"));
              };

              document.head.appendChild(script);
            });
          }

          initializeGoogleMap() {
            try {
              console.log("Initializing Google Map...");

              // Final check for Google Maps API
              if (!google || !google.maps || !google.maps.Map) {
                throw new Error("Google Maps API not available");
              }

              // Clear the map element
              this.mapElement.innerHTML =
                '<div id="googleMap" style="width: 100%; height: 100%;"></div>';

              const mapDiv = document.getElementById("googleMap");
              if (!mapDiv) {
                throw new Error("Map container element not found");
              }

              // Prepare basic map options (minimal to avoid errors)
              const mapOptions = {
                center: this.currentLocation,
                zoom: 16,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: false,
                gestureHandling: "cooperative",
                clickableIcons: false,
                mapId: "f8c943e6bca2e6c7f57d15d4", // Your custom Map ID for AdvancedMarkerElement
              };

              // Only add control positioning if available
              try {
                if (
                  google.maps.ControlPosition &&
                  google.maps.ControlPosition.RIGHT_BOTTOM
                ) {
                  mapOptions.zoomControlOptions = {
                    position: google.maps.ControlPosition.RIGHT_BOTTOM,
                  };
                  console.log("Using positioned zoom controls");
                }
              } catch (e) {
                console.log(
                  "Control positioning not available, using defaults"
                );
              }

              // Note: Styles are controlled via Google Cloud Console when using mapId
              console.log(
                "Using Map ID: f8c943e6bca2e6c7f57d15d4 - styles managed in Cloud Console"
              );

              // Initialize Google Map
              this.map = new google.maps.Map(mapDiv, mapOptions);
              console.log("Google Map initialized successfully");

              // Use AdvancedMarkerElement (modern API) - your Map ID supports this
              let marker;

              if (
                google.maps.marker &&
                google.maps.marker.AdvancedMarkerElement
              ) {
                marker = new google.maps.marker.AdvancedMarkerElement({
                  position: this.currentLocation,
                  map: this.map,
                  title: "Your Location",
                  gmpDraggable: true,
                });
                console.log("Using AdvancedMarkerElement (modern API)");
              } else {
                console.error(
                  "AdvancedMarkerElement not available - please ensure marker library is loaded"
                );
                throw new Error("AdvancedMarkerElement not available");
              }

              // Update location when marker is dragged (AdvancedMarkerElement)
              marker.addListener("dragend", async (event) => {
                // AdvancedMarkerElement: get position from marker.position
                const newPosition = {
                  lat: marker.position.lat,
                  lng: marker.position.lng,
                };

                this.currentLocation = newPosition;
                await this.getAddressFromCoordinates(this.currentLocation);
              });

              // Update location when map is clicked
              this.map.addListener("click", async (event) => {
                const clickedLocation = {
                  lat: event.latLng.lat(),
                  lng: event.latLng.lng(),
                };
                this.currentLocation = clickedLocation;

                // Update marker position (AdvancedMarkerElement)
                marker.position = clickedLocation;

                await this.getAddressFromCoordinates(this.currentLocation);
              });
            } catch (error) {
              console.error("Error initializing Google Map:", error);
              this.showMapFallback();
            }
          }

          showMapFallback() {
            // Fallback if Google Maps fails to load
            this.mapElement.innerHTML = `
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: linear-gradient(45deg, #e8f5e8, #f0f8ff); color: #666; text-align: center; padding: 20px;">
              <h4 style="margin: 0 0 10px 0; color: #333;">Location Selected</h4>
              <p style="margin: 0; font-size: 14px;">Lat: ${this.currentLocation.lat.toFixed(
                6
              )}</p>
              <p style="margin: 0; font-size: 14px;">Lng: ${this.currentLocation.lng.toFixed(
                6
              )}</p>
              <p style="margin-top: 15px; font-size: 13px; color: #888;">Map service temporarily unavailable</p>
            </div>
          `;
          }

          showAddressInputFallback() {
            this.mapLoader.style.display = "none";
            this.mapElement.style.display = "block";
            this.mapElement.innerHTML = `
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: #f8f9fa; padding: 20px; text-align: center;">
              <p style="margin: 0; color: #666; font-size: 14px;">Location detection disabled. Please enable location access to continue.</p>
            </div>
          `;
          }

          async getAddressFromCoordinates(coords) {
            return new Promise((resolve, reject) => {
              try {
                // Use Google Maps Geocoding API if available
                if (
                  typeof google !== "undefined" &&
                  google.maps &&
                  google.maps.Geocoder
                ) {
                  const geocoder = new google.maps.Geocoder();

                  geocoder.geocode({ location: coords }, (results, status) => {
                    if (status === "OK" && results[0]) {
                      const address = results[0].formatted_address;
                      console.log("Google address found:", address);
                      // Store the address for later use
                      this.selectedAddress = address;
                      resolve(address);
                    } else {
                      console.log("Geocoder failed due to:", status);
                      this.createMockAddress(coords);
                      resolve(this.selectedAddress);
                    }
                  });
                } else {
                  // Fallback to mock address
                  console.log("Google Maps not available, using mock address");
                  this.createMockAddress(coords);
                  resolve(this.selectedAddress);
                }
              } catch (error) {
                console.error("Reverse geocoding error:", error);
                this.createMockAddress(coords);
                resolve(this.selectedAddress);
              }
            });
          }

          createMockAddress(coords) {
            // If Google geocoding failed, set coordinates as fallback address
            console.log(
              "Google geocoding failed, using coordinates as address"
            );

            if (!this.selectedAddress) {
              this.selectedAddress = `Location: ${coords.lat}, ${coords.lng}`;
            }
          }

          clearLocationError() {
            this.houseNumberError.classList.remove("show");
            this.houseNumberInput.classList.remove("error");
          }

          showLocationError(message) {
            this.houseNumberError.textContent = message;
            this.houseNumberError.classList.add("show");
            this.houseNumberInput.classList.add("error");
          }

          async handleLocationSubmit() {
            // Validate house number
            const houseNumber = this.houseNumberInput.value.trim();
            if (!houseNumber) {
              this.showLocationError("Please enter your house/flat number");
              this.houseNumberInput.focus();
              return;
            }

            // Check if we have location data
            if (!this.currentLocation) {
              console.error("Please allow location access to continue");
              return;
            }

            this.setButtonLoading(this.continueLocationBtn, true);

            try {
              // Get authentication token
              const authToken = localStorage.getItem("authToken");

              // If we have coordinates but no proper address, try to get address again
              if (
                this.currentLocation &&
                (!this.selectedAddress ||
                  this.selectedAddress.includes("Sample Area") ||
                  this.selectedAddress.includes("Location:"))
              ) {
                console.log("No proper address found, fetching from Google...");
                await this.getAddressFromCoordinates(this.currentLocation);
              }

              // Use Google-detected address
              let finalAddress;
              let coordinates = null;

              if (
                this.selectedAddress &&
                !this.selectedAddress.includes("Sample Area") &&
                !this.selectedAddress.includes("Location:")
              ) {
                // Use Google-detected address
                finalAddress = this.selectedAddress;
                coordinates = {
                  latitude: this.currentLocation.lat,
                  longitude: this.currentLocation.lng,
                };
                console.log("Using Google-detected address:", finalAddress);
              } else {
                // Fallback to coordinates if Google detection failed
                finalAddress = `Location: ${this.currentLocation.lat}, ${this.currentLocation.lng}`;
                coordinates = {
                  latitude: this.currentLocation.lat,
                  longitude: this.currentLocation.lng,
                };
                console.log("Using coordinates as address");
              }

              // Store the final address for use in booking confirmation
              this.selectedAddress = finalAddress;
              console.log("Final address stored:", this.selectedAddress);

              // Prepare address data
              const addressData = {
                address: finalAddress,
                houseNumber: houseNumber,
                coordinates: coordinates,
              };

              let response, result;

              try {
                // Try normal API call first
                response = await fetch(
                  API_CONFIG.SAVE_ADDRESS,
                  API_CONFIG.getFetchOptions("POST", addressData, true)
                );

                if (!response.ok) {
                  throw new Error(`HTTP error! status: ${response.status}`);
                }

                result = await response.json();
              } catch (corsError) {
                console.log(
                  "Standard API call failed, trying simple CORS method:",
                  corsError
                );

                try {
                  // Fallback to simple CORS call
                  result = await this.makeSimpleCORSCall(
                    API_CONFIG.SAVE_ADDRESS,
                    addressData
                  );
                } catch (simpleCorsError) {
                  console.log(
                    "Simple CORS call failed, trying basic CORS method:",
                    simpleCorsError
                  );

                  try {
                    // Last resort - ultra basic call
                    result = await this.makeBasicCORSCall(
                      API_CONFIG.SAVE_ADDRESS,
                      addressData
                    );
                  } catch (basicCorsError) {
                    console.log(
                      "All API calls failed, using demo mode:",
                      basicCorsError
                    );
                    throw basicCorsError;
                  }
                }
              }

              if (result.success || result.status === "success") {
                console.log("Address saved successfully!");

                // Store address data locally for booking, including the address ID from API
                this.savedAddressData = {
                  ...addressData,
                  addressId: result.addressId || result.id, // Store the address ID returned by API
                };

                console.log(
                  "Address saved with ID:",
                  this.savedAddressData.addressId
                );

                // Move to date/time selection
                setTimeout(() => {
                  this.showDateTimeStep();
                }, 1000);
              } else {
                console.error(
                  "Failed to save address:",
                  result.message || "Please try again."
                );
              }
            } catch (error) {
              console.error("Error saving address:", error);

              // Provide detailed CORS error information
              if (
                error.message.includes("CORS") ||
                error.message.includes("fetch") ||
                error.name === "TypeError"
              ) {
                console.log("=== CORS Error Debug Info ===");
                console.log("Error details:", error);
                console.log("Current origin:", window.location.origin);
                console.log("Target URL:", API_CONFIG.SAVE_ADDRESS);
                console.log(
                  "Tip: The server may need to add CORS headers for origin:",
                  window.location.origin
                );
                console.log("=== End CORS Debug Info ===");

                console.log(
                  "CORS restriction detected - using offline mode. Check console for details."
                );
              } else if (error.message.includes("HTTP 405")) {
                console.log("Server method not allowed - using offline mode");
              } else if (error.message.includes("HTTP 404")) {
                console.log("Address service not found - using offline mode");
              } else {
                console.log("Other API error, continuing in demo mode:", error);
                console.log("API temporarily unavailable - using demo mode");
              }

              // Continue with demo mode fallback
              this.savedAddressData = {
                address:
                  this.selectedAddress ||
                  `Location: ${this.currentLocation.lat.toFixed(
                    6
                  )}, ${this.currentLocation.lng.toFixed(6)}`,
                houseNumber: houseNumber,
                coordinates: {
                  latitude: this.currentLocation.lat,
                  longitude: this.currentLocation.lng,
                },
                addressId: "demo_address_" + Date.now(), // Generate demo address ID
              };

              setTimeout(() => {
                this.showDateTimeStep();
              }, 1000);
            } finally {
              this.setButtonLoading(this.continueLocationBtn, false);
            }
          }

          // Enhanced utility function for API calls with retry logic
          async makeAPICall(url, options = {}, retryCount = 0) {
            const defaultOptions = {
              method: "GET",
              headers: API_CONFIG.getHeaders(true),
              timeout: API_CONFIG.DEFAULT_TIMEOUT,
            };

            const finalOptions = { ...defaultOptions, ...options };

            try {
              // Create AbortController for timeout
              const controller = new AbortController();
              const timeoutId = setTimeout(
                () => controller.abort(),
                finalOptions.timeout
              );

              const response = await fetch(url, {
                ...finalOptions,
                signal: controller.signal,
              });

              clearTimeout(timeoutId);

              if (!response.ok) {
                // Handle different HTTP error statuses
                if (response.status === 401) {
                  // Unauthorized - clear stored auth data
                  localStorage.removeItem("authToken");
                  localStorage.removeItem("userData");
                  throw new Error("Session expired. Please login again.");
                } else if (response.status === 403) {
                  throw new Error(
                    "Access denied. Please check your permissions."
                  );
                } else if (response.status === 404) {
                  throw new Error("Service not found. Please try again later.");
                } else if (response.status === 429) {
                  // Rate limiting - wait and retry
                  if (retryCount < API_CONFIG.RETRY_ATTEMPTS) {
                    const delay = Math.pow(2, retryCount) * 1000; // Exponential backoff
                    await new Promise((resolve) => setTimeout(resolve, delay));
                    return this.makeAPICall(url, options, retryCount + 1);
                  }
                  throw new Error("Too many requests. Please try again later.");
                } else if (response.status >= 500) {
                  // Server error - retry if possible
                  if (retryCount < API_CONFIG.RETRY_ATTEMPTS) {
                    const delay = Math.pow(2, retryCount) * 1000; // Exponential backoff
                    await new Promise((resolve) => setTimeout(resolve, delay));
                    return this.makeAPICall(url, options, retryCount + 1);
                  }
                  throw new Error("Server error. Please try again later.");
                } else {
                  throw new Error(
                    `Request failed with status ${response.status}`
                  );
                }
              }

              const result = await response.json();
              return result;
            } catch (error) {
              // Handle network errors and timeouts
              if (error.name === "AbortError") {
                throw new Error(
                  "Request timeout. Please check your connection and try again."
                );
              } else if (
                error.name === "TypeError" &&
                error.message.includes("fetch")
              ) {
                // Network error - retry if possible
                if (retryCount < API_CONFIG.RETRY_ATTEMPTS) {
                  const delay = Math.pow(2, retryCount) * 1000; // Exponential backoff
                  await new Promise((resolve) => setTimeout(resolve, delay));
                  return this.makeAPICall(url, options, retryCount + 1);
                }
                throw new Error(
                  "Network error. Please check your internet connection."
                );
              }
              throw error;
            }
          }

          // Check if user is authenticated
          isUserAuthenticated() {
            const authToken = localStorage.getItem("authToken");
            const userData = localStorage.getItem("userData");
            return !!(authToken && userData);
          }

          // Test CORS compatibility for endpoints
          async testCORSCompatibility(endpoint) {
            try {
              const response = await fetch(endpoint, {
                method: "OPTIONS",
                mode: "cors",
                headers: {
                  Origin: window.location.origin,
                  "Access-Control-Request-Method": "POST",
                  "Access-Control-Request-Headers": "Content-Type",
                },
              });
              return response.ok;
            } catch (error) {
              console.log(`CORS preflight failed for ${endpoint}:`, error);
              return false;
            }
          }

          // Alternative API call method for CORS issues
          async makeSimpleCORSCall(url, data) {
            try {
              // Try with minimal but essential headers
              const response = await fetch(url, {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                headers: {
                  "Content-Type": "application/json",
                  Accept: "application/json",
                },
                body: JSON.stringify(data),
              });

              if (response.ok) {
                return await response.json();
              }
              throw new Error(`HTTP ${response.status}`);
            } catch (error) {
              console.log("Simple CORS call failed:", error);
              throw error;
            }
          }

          // Ultra-simple CORS call without any headers (last resort)
          async makeBasicCORSCall(url, data) {
            try {
              // Absolute minimal request
              const response = await fetch(url, {
                method: "POST",
                body: JSON.stringify(data),
              });

              if (response.ok) {
                return await response.json();
              }
              throw new Error(`HTTP ${response.status}`);
            } catch (error) {
              console.log("Basic CORS call failed:", error);
              throw error;
            }
          }

          // Simple GET request for CORS fallback
          async makeSimpleGETCall(url) {
            try {
              // Get auth token
              const authToken = localStorage.getItem("authToken");

              // Try with minimal headers
              const headers = {
                Accept: "application/json",
              };

              if (authToken) {
                headers["Authorization"] = `Bearer ${authToken}`;
              }

              const response = await fetch(url, {
                method: "GET",
                mode: "cors",
                cache: "no-cache",
                headers: headers,
              });

              if (response.ok) {
                return await response.json();
              }
              throw new Error(`HTTP ${response.status}`);
            } catch (error) {
              console.log("Simple GET CORS call failed:", error);
              throw error;
            }
          }

          // Debug CORS configuration and test different approaches
          async debugCORSCall(url, data) {
            console.log("=== CORS Debug Information ===");
            console.log("URL:", url);
            console.log("Data:", data);
            console.log("Origin:", window.location.origin);

            // Check auth token
            const authToken = localStorage.getItem("authToken");
            console.log("Auth token available:", !!authToken);

            // Test 1: Preflight check
            try {
              const preflightResponse = await fetch(url, {
                method: "OPTIONS",
                mode: "cors",
                headers: {
                  Origin: window.location.origin,
                  "Access-Control-Request-Method": "POST",
                  "Access-Control-Request-Headers": authToken
                    ? "Content-Type,Authorization"
                    : "Content-Type",
                },
              });
              console.log(
                "Preflight response:",
                preflightResponse.status,
                preflightResponse.headers
              );
            } catch (preflightError) {
              console.log("Preflight failed:", preflightError);
            }

            // Test 2: POST request with auth token (if available)
            if (authToken) {
              try {
                const authResponse = await fetch(url, {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/json",
                    Authorization: `Bearer ${authToken}`,
                  },
                  body: JSON.stringify(data),
                });
                console.log("Auth POST response:", authResponse.status);
                if (authResponse.ok) {
                  const result = await authResponse.json();
                  console.log("Auth POST result:", result);
                  return result;
                } else {
                  const errorText = await authResponse.text();
                  console.log("Auth POST error:", errorText);
                }
              } catch (authError) {
                console.log("Auth POST failed:", authError);
              }
            }

            // Test 3: Minimal POST request without auth
            try {
              const minimalResponse = await fetch(url, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
              });
              console.log("Minimal POST response:", minimalResponse.status);
              if (minimalResponse.ok) {
                const result = await minimalResponse.json();
                console.log("Minimal POST result:", result);
                return result;
              } else {
                const errorText = await minimalResponse.text();
                console.log("Minimal POST error:", errorText);
              }
            } catch (minimalError) {
              console.log("Minimal POST failed:", minimalError);
            }

            console.log("=== End CORS Debug ===");
            throw new Error("All CORS debug attempts failed");
          }

          // Get user data from storage
          getUserData() {
            try {
              const userData = localStorage.getItem("userData");
              return userData ? JSON.parse(userData) : null;
            } catch (error) {
              console.error("Error parsing user data:", error);
              return null;
            }
          }

          // Clear authentication data
          clearAuthData() {
            localStorage.removeItem("authToken");
            localStorage.removeItem("userData");
          }

          handleSuccessfulVerification(data) {
            // Handle successful verification with location data
            console.log("User verified with data:", data);

            if (data.address && data.houseNumber) {
              // Location data is available, redirect to services
              if (
                confirm(
                  "Great! Your details have been saved. Would you like to browse our services or download our app?"
                )
              ) {
                // Scroll to services section
                const servicesSection = document.getElementById("services");
                if (servicesSection) {
                  servicesSection.scrollIntoView({ behavior: "smooth" });
                }
              }
            } else {
              // Only phone verification completed, offer app download
              if (
                confirm(
                  "Phone number verified! Would you like to download our app for the complete booking experience?"
                )
              ) {
                window.open(
                  "https://play.google.com/store/apps/details?id=com.car18.snack753985e771e84fa9aac46646cf34d465",
                  "_blank"
                );
              }
            }
          }

          // Date & Time Methods
          showDateTimeStep() {
            this.mobileStep.classList.remove("active");
            this.otpStep.classList.remove("active");
            this.locationStep.classList.remove("active");
            this.dateTimeStep.classList.add("active");
            this.confirmationStep.classList.remove("active");

            // If using saved address, set current location from coordinates
            if (this.savedAddressData && this.savedAddressData.coordinates) {
              this.currentLocation = {
                lat: this.savedAddressData.coordinates.latitude,
                lng: this.savedAddressData.coordinates.longitude,
              };
              console.log(
                "Set location from saved address:",
                this.currentLocation
              );
            }

            // Initialize date picker with minimum date
            this.initializeDatePicker();
            this.loadAvailableSlots();
          }

          initializeDatePicker() {
            const today = new Date();
            // If current time is after 4 PM (16:00), set minimum date to tomorrow
            if (today.getHours() >= 16) {
              today.setDate(today.getDate() + 1);
              console.log(
                "After 4 PM, setting minimum date to tomorrow:",
                today.toISOString().split("T")[0]
              );
            } else {
              console.log(
                "Before 4 PM, today is available:",
                today.toISOString().split("T")[0]
              );
            }

            // Set minimum and maximum dates
            const minDate = today.toISOString().split("T")[0];
            const maxDate = new Date();
            maxDate.setDate(today.getDate() + 7);
            const maxDateStr = maxDate.toISOString().split("T")[0];

            this.serviceDateInput.min = minDate;
            this.serviceDateInput.max = maxDateStr;
            this.serviceDateInput.value = minDate;
            this.selectedDate = minDate;

            console.log(
              "Date picker initialized - Min date:",
              minDate,
              "Selected date:",
              this.selectedDate
            );
          }

          async loadAvailableSlots() {
            this.slotsLoader.style.display = "flex";
            this.timeSlotsContainer.style.display = "none";

            console.log("Loading slots for date:", this.selectedDate);

            try {
              // Get authentication token
              const authToken = localStorage.getItem("authToken");

              // Build URL with query parameters for GET request
              const urlParams = new URLSearchParams({
                date: this.selectedDate,
              });

              // Add optional location parameters if available
              if (this.currentLocation?.lat && this.currentLocation?.lng) {
                urlParams.append("latitude", this.currentLocation.lat);
                urlParams.append("longitude", this.currentLocation.lng);
              }

              const slotsUrl = `${
                API_CONFIG.GET_TIME_SLOTS
              }?${urlParams.toString()}`;
              console.log("Fetching slots from URL:", slotsUrl);
              console.log("Fetching slots from:", slotsUrl);

              let response, result;

              try {
                // Try normal API call first (GET request)
                response = await fetch(
                  slotsUrl,
                  API_CONFIG.getFetchOptions("GET", null, true)
                );

                if (!response.ok) {
                  throw new Error(`HTTP error! status: ${response.status}`);
                }

                result = await response.json();
              } catch (corsError) {
                console.log(
                  "Standard time slots API call failed, trying simple CORS method:",
                  corsError
                );

                try {
                  // Fallback to simple CORS call (GET)
                  result = await this.makeSimpleGETCall(slotsUrl);
                } catch (simpleCorsError) {
                  console.log("Simple CORS GET call failed:", simpleCorsError);
                  throw simpleCorsError;
                }
              }

              if (result.success || result.status === "success") {
                // Handle the new API response format
                const availableSlots =
                  result.availableSlots || result.slots || result.data || [];
                console.log("✅ API response received:", result);
                console.log("Available slots received:", availableSlots);

                if (availableSlots.length > 0) {
                  console.log(
                    `${availableSlots.length} slots available for ${this.selectedDate}`
                  );
                } else {
                  console.log("No slots available for selected date");
                }

                this.renderTimeSlots(availableSlots);
              } else {
                throw new Error(result.message || "Failed to load slots");
              }
            } catch (error) {
              console.error("Error loading slots:", error);

              // Check if it's a CORS error
              if (
                error.message.includes("CORS") ||
                error.message.includes("fetch") ||
                error.name === "TypeError"
              ) {
                console.log(
                  "CORS error detected for time slots, using demo slots"
                );
                console.log("Using offline slots - limited availability");
              } else {
                console.log("API error for time slots, using demo slots");
                console.log("Slot service temporarily unavailable");
              }

              // Fallback to demo slots
              const demoSlots = this.availableSlots.filter((slot, index) => {
                // Randomly make some slots unavailable for demo
                return Math.random() > 0.3;
              });

              this.renderTimeSlots(demoSlots);
            } finally {
              this.slotsLoader.style.display = "none";
              this.timeSlotsContainer.style.display = "block";
            }
          }

          renderTimeSlots(availableSlots) {
            this.timeSlotsContainer.innerHTML = "";

            console.log("Rendering time slots:");
            console.log("All possible slots:", this.availableSlots);
            console.log("Available slots from API:", availableSlots);

            this.availableSlots.forEach((slot) => {
              const isAvailable = availableSlots.includes(slot);
              const slotElement = document.createElement("div");
              slotElement.className = `time-slot ${
                !isAvailable ? "disabled" : ""
              }`;
              slotElement.textContent = this.formatTimeSlot(slot);

              console.log(
                `Slot ${slot}: ${isAvailable ? "Available" : "Disabled"}`
              );

              if (isAvailable) {
                slotElement.addEventListener("click", () =>
                  this.selectTimeSlot(slot, slotElement)
                );
              }

              this.timeSlotsContainer.appendChild(slotElement);
            });
          }

          formatTimeSlot(slot) {
            const [hour, minute] = slot.split(":");
            const period = hour >= 12 ? "PM" : "AM";
            const formattedHour = hour % 12 || 12;
            return `${formattedHour}:${minute} ${period}`;
          }

          selectTimeSlot(time, element) {
            // Remove previous selection
            document.querySelectorAll(".time-slot.selected").forEach((slot) => {
              slot.classList.remove("selected");
            });

            // Add selection to clicked slot
            element.classList.add("selected");
            this.selectedTime = time;
            this.clearDateTimeErrors();
          }

          handleDateChange() {
            this.selectedDate = this.serviceDateInput.value;
            this.selectedTime = null; // Reset selected time when date changes
            this.clearDateTimeErrors();
            this.loadAvailableSlots(); // Reload slots for new date
          }

          clearDateTimeErrors() {
            this.dateError.classList.remove("show");
            this.timeError.classList.remove("show");
            this.serviceDateInput.classList.remove("error");
          }

          // Get service information for booking
          getSelectedService(serviceId = null) {
            const selectedId =
              serviceId ||
              this.selectedServiceId ||
              API_CONFIG.DEFAULT_SERVICE_ID;
            const service = API_CONFIG.SERVICES[selectedId];

            if (!service) {
              console.warn(`Service ID ${selectedId} not found, using default`);
              return API_CONFIG.SERVICES[API_CONFIG.DEFAULT_SERVICE_ID];
            }

            return service;
          }

          // Set selected service
          setSelectedService(serviceId) {
            this.selectedServiceId = serviceId;
            console.log("Selected service:", this.getSelectedService());
          }

          showDateTimeError(field, message) {
            if (field === "date") {
              this.dateError.textContent = message;
              this.dateError.classList.add("show");
              this.serviceDateInput.classList.add("error");
            } else if (field === "time") {
              this.timeError.textContent = message;
              this.timeError.classList.add("show");
            }
          }

          async handleBookingSubmit() {
            // Validate date and time
            let hasError = false;

            if (!this.selectedDate) {
              this.showDateTimeError("date", "Please select a date");
              hasError = true;
            }

            if (!this.selectedTime) {
              this.showDateTimeError("time", "Please select a time slot");
              hasError = true;
            }

            if (hasError) return;

            // Prepare booking data for confirmation using form inputs
            this.bookingData = {
              mobile: this.mobileInput.value,
              address: this.selectedAddress,
              houseNumber: this.houseNumberInput.value,
              coordinates: this.currentLocation,
              date: this.selectedDate,
              time: this.selectedTime,
            };

            // Show confirmation step
            this.showConfirmationStep();
          }

          handleSuccessfulBooking(data) {
            console.log("Booking confirmed:", data);

            // Extract data from API response
            const bookingId = data.bookingId || "N/A";
            const completionCode = data.completionCode || "N/A";
            const selectedService = this.getSelectedService();

            console.log("API booking response:", {
              bookingId,
              completionCode,
              selectedService,
              success: data.success,
              message: data.message,
            });

            // Show confirmation screen with API response data
            this.showBookingConfirmationScreen({
              ...this.bookingData,
              ...this.savedAddressData,
              bookingId,
              completionCode,
              selectedService,
              total: selectedService.price,
              success: data.success,
              message: data.message,
            });
          }

          generateBookingId() {
            const timestamp = Date.now().toString();
            const random = Math.floor(Math.random() * 1000)
              .toString()
              .padStart(3, "0");
            return `CAR${timestamp.slice(-6)}${random}`;
          }

          generateCompletionCode() {
            return Math.floor(1000 + Math.random() * 9000).toString();
          }

          showBookingConfirmationScreen(bookingData) {
            console.log(
              "showBookingConfirmationScreen called with:",
              bookingData
            );

            // Create confirmation screen overlay
            const confirmationScreen = document.createElement("div");
            confirmationScreen.className = "booking-confirmation-screen";
            confirmationScreen.innerHTML = `
            <div class="confirmation-content">
              <div class="confirmation-header">
                <div class="success-icon">
                  <svg width="100" height="100" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="12" r="10" fill="#28a745"/>
                    <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <h2 class="confirmation-title">Booking Confirmed!</h2>
                <div class="booking-id-display">
                  <span class="booking-id-label">Booking ID:</span>
                  <span class="booking-id-value">${bookingData.bookingId}</span>
                </div>
                <p class="confirmation-subtitle">Our expert will contact you soon.</p>
              </div>
              
              <div class="booking-details-card">
                <div class="detail-row">
                  <div class="detail-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path d="M9 12l2 2 4-4" stroke="#0066ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M21 12c.552 0 1-.448 1-1s-.448-1-1-1h-1v-1c0-.552-.448-1-1-1s-1 .448-1 1v1h-1c-.552 0-1 .448-1 1s.448 1 1 1h1v1c0 .552.448 1 1 1s1-.448 1-1v-1h1z" stroke="#0066ff" stroke-width="2"/>
                    </svg>
                  </div>
                  <span class="detail-text">Id: ${bookingData.bookingId}</span>
                </div>
                
                <div class="detail-row">
                  <div class="detail-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path d="M19 7l-3 3-3-3" stroke="#0066ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 3v11" stroke="#0066ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M5 17h14" stroke="#0066ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                  <span class="detail-text">Service: ${
                    bookingData.selectedService.name
                  }</span>
                </div>
                
                <div class="detail-row">
                  <div class="detail-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="#0066ff" stroke-width="2" fill="none"/>
                      <line x1="16" y1="2" x2="16" y2="6" stroke="#0066ff" stroke-width="2" stroke-linecap="round"/>
                      <line x1="8" y1="2" x2="8" y2="6" stroke="#0066ff" stroke-width="2" stroke-linecap="round"/>
                      <line x1="3" y1="10" x2="21" y2="10" stroke="#0066ff" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </div>
                  <span class="detail-text">Date: ${this.formatDateLong(
                    bookingData.date
                  )}</span>
                </div>
                
                <div class="detail-row">
                  <div class="detail-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="#0066ff" stroke-width="2" fill="none"/>
                      <polyline points="12,6 12,12 16,14" stroke="#0066ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                  <span class="detail-text">Time: ${this.formatTimeSlot(
                    bookingData.time
                  )}</span>
                </div>
                
                <div class="detail-row">
                  <div class="detail-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" stroke="#0066ff" stroke-width="2" fill="none"/>
                      <circle cx="12" cy="10" r="3" stroke="#0066ff" stroke-width="2" fill="none"/>
                    </svg>
                  </div>
                  <span class="detail-text">Address: ${
                    bookingData.houseNumber
                      ? `${bookingData.houseNumber}, `
                      : ""
                  }${
              bookingData.address || bookingData.actualAddress || "N/A"
            }</span>
                </div>
                
                <div class="detail-row">
                  <div class="detail-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="#0066ff" stroke-width="2" fill="none"/>
                      <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="#0066ff" stroke-width="2" fill="none"/>
                    </svg>
                  </div>
                  <span class="detail-text">Completion Code: ${
                    bookingData.completionCode
                  }</span>
                </div>
                
                <div class="detail-row total-row">
                  <div class="detail-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 100 100" role="img" aria-label="Rupee symbol" style="color: #0066ff;">
                      <text x="50" y="55"
                            font-family="Noto Sans, 'Segoe UI Symbol', 'DejaVu Sans', Arial, sans-serif"
                            font-size="72"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            fill="currentColor">₹</text>
                    </svg>
                  </div>
                  <span class="detail-text total-text">Price: ₹${
                    bookingData.selectedService.price
                  }</span>
                </div>
              </div>
              
              <div class="confirmation-actions">
                <button class="otp-btn" onclick="window.otpModal.closeConfirmationScreen(); window.otpModal.navigateToBookings();">
                  <span class="btn-text">Show Bookings</span>
                  <div class="btn-loader"></div>
                </button>
                <a
                  href="https://play.google.com/store/apps/details?id=com.car18.snack753985e771e84fa9aac46646cf34d465"
                  class="app-btn play-store-btn confirmation-app-btn"
                  aria-label="Download Car18 App on Google Play"
                  target="_blank"
                  rel="noopener noreferrer"
                  onclick="window.otpModal.closeConfirmationScreen();"
                >
                  <i class="fab fa-android"></i>
                  <div>
                    <small>Install on</small>
                    <div>Android</div>
                  </div>
                </a>
                <a
                  class="app-btn ios-app-btn confirmation-app-btn"
                  aria-label="Install Car18 PWA App"
                  href="#"
                  onclick="event.preventDefault(); window.otpModal.closeConfirmationScreen(); installPWA();"
                >
                  <i class="fab fa-apple"></i>
                  <div>
                    <small>Install on</small>
                    <div>iOS/iPhone</div>
                  </div>
                </a>
              </div>
              
              <button class="close-confirmation" onclick="window.otpModal.closeConfirmationScreen();">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <line x1="18" y1="6" x2="6" y2="18" stroke="#666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <line x1="6" y1="6" x2="18" y2="18" stroke="#666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
          `;

            // Add styles for confirmation screen
            if (!document.querySelector("#confirmation-screen-styles")) {
              const style = document.createElement("style");
              style.id = "confirmation-screen-styles";
              style.textContent = `
              .booking-confirmation-screen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(5px);
                z-index: 10003;
                display: flex !important;
                align-items: center;
                justify-content: center;
                padding: 20px;
                animation: fadeIn 0.3s ease-out;
              }
              
              .confirmation-content {
                background: white;
                border-radius: 16px;
                max-width: 500px;
                width: 100%;
                max-height: 90vh;
                overflow-y: auto;
                position: relative;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
                animation: slideInUp 0.3s ease-out;
              }
              
              .confirmation-header {
                text-align: center;
                padding: 40px 24px 24px;
                background: linear-gradient(135deg, #f8f9ff 0%, #e8f5e8 100%);
                border-radius: 16px 16px 0 0;
              }
              
              .success-icon {
                margin-bottom: 20px;
                animation: bounceIn 0.6s ease-out 0.3s both;
              }
              
              .confirmation-title {
                margin: 0 0 8px 0;
                font-size: 28px;
                font-weight: bold;
                color: #333;
              }
              
              .booking-id-display {
                background: linear-gradient(135deg, #0066ff, #0052cc);
                color: white;
                padding: 12px 20px;
                border-radius: 12px;
                margin: 16px auto 8px;
                display: inline-block;
                box-shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
              }
              
              .booking-id-label {
                font-size: 14px;
                opacity: 0.9;
                display: block;
                margin-bottom: 4px;
              }
              
              .booking-id-value {
                font-size: 20px;
                font-weight: bold;
                font-family: 'Courier New', monospace;
              }
              
              .confirmation-subtitle {
                margin: 0;
                font-size: 16px;
                color: #666;
              }
              
              .booking-details-card {
                padding: 24px;
                background: white;
              }
              
              .detail-row {
                display: flex;
                align-items: center;
                padding: 16px 0;
                border-bottom: 1px solid #f0f0f0;
                animation: slideInRight 0.4s ease-out;
              }
              
              .detail-row:last-child {
                border-bottom: none;
              }
              
              .total-row {
                border-top: 2px solid #f0f0f0;
                margin-top: 8px;
                padding-top: 20px;
              }
              
              .detail-icon {
                margin-right: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 32px;
                height: 32px;
                background: #f8f9ff;
                border-radius: 8px;
              }
              
              .detail-text {
                font-size: 16px;
                color: #333;
                flex: 1;
              }
              
              .total-text {
                font-size: 18px;
                font-weight: bold;
                color: #0066ff;
              }
              
              .confirmation-actions {
                padding: 24px;
                background: #f8f9fa;
                border-radius: 0 0 16px 16px;
                display: flex;
                gap: 12px;
                flex-wrap: wrap;
              }
              
              .confirmation-actions .otp-btn {
                flex: 1;
                margin-bottom: 0;
                min-width: 120px;
              }

              .confirmation-actions .confirmation-app-btn {
                flex: 1;
                min-width: 120px;
                max-width: 150px;
                padding: 8px 12px;
                font-size: 0.8rem;
              }

              .confirmation-actions .confirmation-app-btn i {
                font-size: 1.1em;
              }

              .confirmation-actions .confirmation-app-btn div {
                font-size: 0.75rem;
              }

              .confirmation-actions .confirmation-app-btn small {
                font-size: 0.6rem;
              }
              
              /* Confirmation buttons for modals and My Bookings section */
              .confirmation-btn {
                flex: 1;
                height: 50px;
                border: none;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                padding: 0 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
              }
              
              .confirmation-btn.primary,
              .confirmation-btn.confirm-btn {
                background: #0066ff;
                color: white;
              }
              
              .confirmation-btn.primary:hover,
              .confirmation-btn.confirm-btn:hover {
                background: #0052cc;
                transform: translateY(-2px);
              }
              
              .confirmation-btn.secondary,
              .confirmation-btn.cancel-btn {
                background: white;
                color: #0066ff;
                border: 2px solid #0066ff;
              }
              
              .confirmation-btn.secondary:hover,
              .confirmation-btn.cancel-btn:hover {
                background: #f8f9ff;
                transform: translateY(-2px);
              }
              
              .close-confirmation {
                position: absolute;
                top: 16px;
                right: 16px;
                background: rgba(255, 255, 255, 0.9);
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: all 0.3s ease;
              }
              
              .close-confirmation:hover {
                background: white;
                transform: scale(1.1);
              }
              
              @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
              }
              
              @keyframes slideInUp {
                from { 
                  opacity: 0; 
                  transform: translateY(30px) scale(0.95); 
                }
                to { 
                  opacity: 1; 
                  transform: translateY(0) scale(1); 
                }
              }
              
              @keyframes slideInRight {
                from { 
                  opacity: 0; 
                  transform: translateX(-20px); 
                }
                to { 
                  opacity: 1; 
                  transform: translateX(0); 
                }
              }
              
              @keyframes bounceIn {
                0% { 
                  opacity: 0; 
                  transform: scale(0.3); 
                }
                50% { 
                  opacity: 1; 
                  transform: scale(1.05); 
                }
                70% { 
                  transform: scale(0.9); 
                }
                100% { 
                  opacity: 1; 
                  transform: scale(1); 
                }
              }
              
              @media (max-width: 768px) {
                .booking-confirmation-screen {
                  padding: 10px;
                }
                
                .confirmation-content {
                  max-height: 95vh;
                }
                
                .confirmation-header {
                  padding: 30px 20px 20px;
                }
                
                .confirmation-title {
                  font-size: 24px;
                }
                
                .booking-details-card {
                  padding: 20px;
                }
                
                .confirmation-actions {
                  flex-direction: column;
                  padding: 20px;
                }
                
                .confirmation-btn {
                  width: 100%;
                }
              }
            `;
              document.head.appendChild(style);
            }

            // Add to DOM and show
            document.body.appendChild(confirmationScreen);
            document.body.style.overflow = "hidden";

            console.log("Confirmation screen added to DOM");

            // Store reference for cleanup
            this.confirmationScreenElement = confirmationScreen;

            // Force display with higher z-index if needed
            setTimeout(() => {
              confirmationScreen.style.display = "flex";
              confirmationScreen.style.zIndex = "10003";
              console.log("Confirmation screen should be visible now");
            }, 100);
          }

          formatDateLong(dateString) {
            return new Date(dateString).toLocaleDateString("en-US", {
              weekday: "long",
              year: "numeric",
              month: "long",
              day: "numeric",
            });
          }

          closeConfirmationScreen() {
            if (this.confirmationScreenElement) {
              this.confirmationScreenElement.remove();
              this.confirmationScreenElement = null;
              document.body.style.overflow = "";
            }
          }

          navigateToBookings() {
            // Navigate to My Bookings page
            if (window.showMyBookings) {
              window.showMyBookings();
            } else {
              // Fallback to services section if My Bookings is not available
              const servicesSection = document.getElementById("services");
              if (servicesSection) {
                servicesSection.scrollIntoView({ behavior: "smooth" });
              }
            }
          }

          downloadApp() {
            const deviceType = getDeviceType();
            const playStoreUrl =
              "https://play.google.com/store/apps/details?id=com.car18.snack753985e771e84fa9aac46646cf34d465";

            if (deviceType === "Android") {
              window.open(playStoreUrl, "_blank");
            } else {
              // For iOS and Desktop, trigger PWA installation
              installPWA();
            }
          }

          // Test function to verify confirmation screen works
          testConfirmationScreen() {
            const testData = {
              mobile: "9876543210",
              address: "Test Address, Test City",
              houseNumber: "123",
              date: new Date().toISOString().split("T")[0],
              time: "10:00",
              bookingId: "CAR123456789",
              completionCode: "1234",
              selectedService: { name: "Smart Wash" },
              total: 299,
            };

            console.log("Testing confirmation screen with:", testData);
            this.showBookingConfirmationScreen(testData);
          }

          // Test CORS endpoints - can be called from console
          async testCORSEndpoints() {
            console.log("=== Testing CORS Endpoints ===");

            // Check if auth token is available
            const authToken = localStorage.getItem("authToken");
            console.log("Auth token available:", !!authToken);
            if (authToken) {
              console.log(
                "Auth token (first 20 chars):",
                authToken.substring(0, 20) + "..."
              );
            } else {
              console.log(
                "❌ No auth token found. Please complete OTP verification first."
              );
              return;
            }

            const testData = {
              address:
                "Near 26.8459, 80.8659, Sample Area, Your City, State - 123456",
              houseNumber: "123",
              coordinates: {
                latitude: 26.84586,
                longitude: 80.865944,
              },
            };

            console.log("Testing save address endpoint...");
            try {
              const result = await this.debugCORSCall(
                API_CONFIG.SAVE_ADDRESS,
                testData
              );
              console.log("✅ Save address endpoint working:", result);
            } catch (error) {
              console.log("❌ Save address endpoint failed:", error);
            }

            const slotsData = {
              date: new Date().toISOString().split("T")[0],
              latitude: 26.84586,
              longitude: 80.865944,
              serviceType: "car-wash",
            };

            console.log("Testing time slots endpoint...");
            try {
              // Build URL with query parameters for GET request
              const urlParams = new URLSearchParams({
                date: new Date().toISOString().split("T")[0],
              });
              const slotsUrl = `${
                API_CONFIG.GET_TIME_SLOTS
              }?${urlParams.toString()}`;

              console.log("GET request URL:", slotsUrl);
              const result = await this.makeSimpleGETCall(slotsUrl);
              console.log("✅ Time slots endpoint working:", result);
            } catch (error) {
              console.log("❌ Time slots endpoint failed:", error);
            }

            console.log("=== CORS Testing Complete ===");
          }

          // Quick method to check authentication status
          checkAuthStatus() {
            const authToken = localStorage.getItem("authToken");
            const userData = localStorage.getItem("userData");
            const userMobile = localStorage.getItem("userMobile");

            console.log("=== Authentication Status ===");
            console.log("Auth Token:", !!authToken ? "Present" : "Missing");
            console.log("User Data:", !!userData ? "Present" : "Missing");
            console.log("User Mobile:", userMobile || "Missing");

            if (authToken) {
              console.log(
                "Token (first 20 chars):",
                authToken.substring(0, 20) + "..."
              );
            }

            if (userData) {
              try {
                const user = JSON.parse(userData);
                console.log("User ID:", user.id);
                console.log("User Mobile:", user.mobile);
                console.log("Verification Status:", user.verificationStatus);
              } catch (e) {
                console.log("Error parsing user data:", e);
              }
            }

            console.log("=== End Auth Status ===");
            return !!authToken;
          }

          // Test the new booking flow - can be called from console
          async testNewBookingFlow() {
            console.log("=== Testing New Booking Flow ===");

            // Check authentication
            if (!this.checkAuthStatus()) {
              console.log("❌ Please complete OTP verification first");
              return;
            }

            // Check if address is saved
            if (!this.savedAddressData?.addressId) {
              console.log(
                "❌ No address data found. Please save address first."
              );
              console.log("Current saved address data:", this.savedAddressData);
              return;
            }

            console.log(
              "✅ Address ID available:",
              this.savedAddressData.addressId
            );

            // Test booking data format
            const testBookingData = {
              addressId: this.savedAddressData.addressId,
              date: new Date().toISOString().split("T")[0],
              time: "14:00",
              serviceId: API_CONFIG.DEFAULT_SERVICE_ID,
              price: API_CONFIG.DEFAULT_SERVICE_PRICE,
            };

            console.log("Test booking data:", testBookingData);
            console.log("=== Booking Flow Test Complete ===");

            return testBookingData;
          }

          // Confirmation Step Methods
          showConfirmationStep() {
            this.mobileStep.classList.remove("active");
            this.otpStep.classList.remove("active");
            this.locationStep.classList.remove("active");
            this.dateTimeStep.classList.remove("active");
            this.confirmationStep.classList.add("active");

            // Populate confirmation details
            this.populateConfirmationDetails();
          }

          populateConfirmationDetails() {
            // Get selected service information
            const selectedService = this.getSelectedService();

            // Populate Service Details Section
            this.confirmServiceName.textContent = selectedService.name;
            this.confirmDate.textContent = new Date(
              this.bookingData.date
            ).toLocaleDateString("en-IN", {
              weekday: "long",
              year: "numeric",
              month: "long",
              day: "numeric",
            });
            this.confirmTime.textContent = this.formatTimeSlot(
              this.bookingData.time
            );

            // Populate Address Section
            const houseNumber = this.bookingData.houseNumber;
            const address =
              this.bookingData.address || "Location provided via GPS";

            // Clean the address by removing unwanted prefixes and coordinates
            let cleanAddress = address;

            // Remove Google Plus codes (like "RVW7+XJ5,")
            if (cleanAddress.includes(",")) {
              cleanAddress = cleanAddress.replace(/^[A-Z0-9+]+,\s*/, "");
            }

            // Remove "Location:" prefix and coordinates if present
            if (cleanAddress.includes("Location:")) {
              cleanAddress = cleanAddress.replace(/^Location:\s*/, "");
              // If it's just coordinates, replace with a friendly message
              if (/^[\d\.-]+,\s*[\d\.-]+$/.test(cleanAddress.trim())) {
                cleanAddress = "GPS Location";
              }
            }

            // Remove standalone coordinates pattern (like "26.847400, 75.847400")
            if (/^[\d\.-]+,\s*[\d\.-]+$/.test(cleanAddress.trim())) {
              cleanAddress = "GPS Location";
            }

            // Remove "Near" prefix if it exists
            cleanAddress = cleanAddress.replace(/^Near\s+/, "");

            // Combine house number with cleaned address
            const combinedAddress = houseNumber
              ? `${houseNumber}, ${cleanAddress}`
              : cleanAddress;
            this.confirmAddress.textContent = combinedAddress;

            // Populate Price Section
            this.confirmPrice.textContent = `₹${selectedService.price.toLocaleString(
              "en-IN"
            )}`;
          }

          showConfirmationModal() {
            this.confirmationTitle.textContent = "Confirm Your Booking";
            this.confirmationMessage.textContent =
              "Are you sure you want to proceed with this booking? Once confirmed, you will receive a confirmation message.";
            this.proceedConfirmationBtn.querySelector(".btn-text").textContent =
              "Yes, Confirm";
            this.confirmationModal.style.display = "block";
            document.body.style.overflow = "hidden";
          }

          hideConfirmationModal() {
            this.confirmationModal.style.display = "none";
            document.body.style.overflow = "";
            this.resetConfirmationButton();
          }

          resetConfirmationButton() {
            this.proceedConfirmationBtn.classList.remove("loading");
            this.proceedConfirmationBtn.disabled = false;
          }

          async handleFinalBookingSubmit() {
            this.proceedConfirmationBtn.classList.add("loading");
            this.proceedConfirmationBtn.disabled = true;

            try {
              // Get authentication token
              const authToken = localStorage.getItem("authToken");

              // Get selected service information
              const selectedService = this.getSelectedService();

              // Prepare booking data using form inputs and saved address ID
              const bookingData = {
                mobile: this.bookingData.mobile,
                address: this.bookingData.address,
                houseNumber: this.bookingData.houseNumber,
                coordinates: this.bookingData.coordinates,
                date: this.bookingData.date,
                time: this.bookingData.time,
                serviceId: selectedService.id,
                price: selectedService.price,
                addressId: this.savedAddressData?.addressId, // Include the address ID from address creation
              };

              console.log("Submitting booking data:", bookingData);
              console.log("Selected service:", selectedService);
              console.log("Address ID:", this.savedAddressData?.addressId);

              // Validate required fields
              if (!bookingData.address) {
                console.error(
                  "Address is required. Please go back and enter your address."
                );
                throw new Error("Address is required.");
              }

              if (!bookingData.serviceId) {
                console.error("Service not selected. Please try again.");
                throw new Error("Service ID is required.");
              }

              if (!bookingData.addressId) {
                console.error(
                  "Address ID not found. Please go back and re-enter your address."
                );
                throw new Error("Address ID is required.");
              }

              // API call to submit booking
              const response = await fetch(
                API_CONFIG.CREATE_BOOKING,
                API_CONFIG.getFetchOptions("POST", bookingData, true)
              );

              // Parse the response regardless of HTTP status
              let result;
              try {
                result = await response.json();
              } catch (parseError) {
                console.error("Error parsing response:", parseError);
                throw new Error("Invalid response from server");
              }

              console.log("Booking API response:", result);

              // Check if booking was successful
              if (result.success === true || result.status === "success") {
                this.hideConfirmationModal();
                console.log("Booking confirmed successfully!");

                // Get actual selected service data
                const selectedService = this.getSelectedService();

                // Use real booking data from API response
                const confirmedBookingData = {
                  ...this.bookingData,
                  bookingId: result.bookingId || this.generateBookingId(),
                  completionCode:
                    result.completionCode || this.generateCompletionCode(),
                  selectedService: selectedService,
                  total: selectedService.price,
                };

                console.log(
                  "Confirmed booking with correct service and price:",
                  confirmedBookingData
                );

                // Handle successful booking
                this.handleSuccessfulBooking(confirmedBookingData);

                // Close the OTP modal after showing confirmation screen
                setTimeout(() => {
                  this.closeModal();
                }, 500);
              } else if (result.success === false) {
                // Handle API errors (like pending booking)
                this.hideConfirmationModal();
                console.error(
                  "Failed to create booking:",
                  result.message || "Unknown error"
                );

                console.log("Booking failed:", result.message);

                // If it's a pending booking error, show specific guidance
                if (
                  result.message &&
                  result.message.toLowerCase().includes("ongoing booking")
                ) {
                  setTimeout(() => {
                    if (
                      confirm("Would you like to view your existing bookings?")
                    ) {
                      this.navigateToBookings();
                    }
                  }, 2000);
                }
                return;
              } else {
                // Unknown response format
                throw new Error(result.message || "Unexpected response format");
              }
            } catch (error) {
              console.error("Error confirming booking:", error);

              // Fallback to demo mode if API is not available
              console.log("API not available, using demo booking confirmation");

              this.hideConfirmationModal();
              console.log("Booking confirmed successfully! (Demo mode)");

              // Generate demo booking data with correct service
              const selectedService = this.getSelectedService();
              const demoBookingData = {
                ...this.bookingData,
                bookingId: this.generateBookingId(),
                completionCode: this.generateCompletionCode(),
                selectedService: selectedService,
                total: selectedService.price,
              };

              console.log(
                "Demo booking with correct service and price:",
                demoBookingData
              );

              // Handle successful booking with demo data
              this.handleSuccessfulBooking(demoBookingData);

              // Close the OTP modal after showing confirmation screen
              setTimeout(() => {
                this.closeModal();
              }, 500);
            } finally {
              this.resetConfirmationButton();
            }
          }
        }

        // Initialize OTP Modal
        const otpModal = new OTPModal();

        // Make otpModal globally available for confirmation screen
        window.otpModal = otpModal;

        // Global function to open OTP modal (called by Book Now buttons)
        window.openOTPModal = function (serviceId = null) {
          if (serviceId) {
            otpModal.setSelectedService(serviceId);
          }
          otpModal.openModal();
        };

        // Global test function for debugging
        window.testConfirmation = function () {
          otpModal.testConfirmationScreen();
        };
      }); // End DOMContentLoaded event listener
    </script>

    <!-- My Bookings JavaScript -->
    <script>
      // Booking Management System
      class BookingManager {
        constructor() {
          this.bookings = [];
          this.loading = false;
          this.authToken = null;
          this.mobileNumber = null;
        }

        // Format time slot into AM/PM
        formatTimeSlot(slot) {
          if (!slot) return "";
          const [hour, minute] = slot.split(":");
          const period = hour >= 12 ? "PM" : "AM";
          const formattedHour = hour % 12 || 12;
          return `${formattedHour}:${minute} ${period}`;
        }

        // Format date concisely
        formatDate(dateString) {
          const options = {
            weekday: "short",
            year: "numeric",
            month: "short",
            day: "numeric",
          };
          return new Date(dateString).toLocaleDateString("en-US", options);
        }

        // Get status style class
        getStatusClass(status) {
          switch (status) {
            case "completed":
            case "accepted":
            case "active":
              return "status-completed";
            case "cancelled":
            case "expired":
              return "status-cancelled";
            case "pending":
              return "status-pending";
            case "in-progress":
              return "status-in-progress";
            default:
              return "status-pending";
          }
        }

        // Get service name from serviceId
        getServiceName(serviceId) {
          const service = API_CONFIG.SERVICES[serviceId];
          return service ? service.name : "Unknown Service";
        }

        // Format Firestore timestamp to readable date
        formatFirestoreDate(firestoreDate) {
          if (!firestoreDate || !firestoreDate._seconds) {
            return "Date not available";
          }

          const date = new Date(firestoreDate._seconds * 1000);
          return date.toLocaleDateString("en-IN", {
            weekday: "short",
            year: "numeric",
            month: "short",
            day: "numeric",
          });
        }

        // Truncate address for display
        truncateAddress(address, maxLength = 40) {
          if (!address) return "Address not available";
          if (address.length <= maxLength) return address;
          return address.substring(0, maxLength) + "...";
        }

        // Show bookings section
        showBookings() {
          // Hide all other sections
          document
            .querySelectorAll("section:not(.my-bookings-section)")
            .forEach((section) => {
              section.style.display = "none";
            });
          document.querySelector("footer").style.display = "none";

          // Show bookings section
          const bookingsSection = document.getElementById("myBookings");
          bookingsSection.style.display = "block";

          // Scroll to top
          window.scrollTo({ top: 0, behavior: "smooth" });

          // Load bookings
          this.loadBookings();
        }

        // Hide bookings section
        hideBookings() {
          // Show all other sections
          document
            .querySelectorAll("section:not(.my-bookings-section)")
            .forEach((section) => {
              section.style.display = "block";
            });
          document.querySelector("footer").style.display = "block";

          // Hide bookings section
          const bookingsSection = document.getElementById("myBookings");
          bookingsSection.style.display = "none";

          // Scroll to top
          window.scrollTo({ top: 0, behavior: "smooth" });
        }

        // Show loading state
        showLoader() {
          document.getElementById("bookingsLoader").style.display = "flex";
          document.getElementById("noBookings").style.display = "none";
          document.getElementById("bookingsList").style.display = "none";
        }

        // Hide loading state
        hideLoader() {
          document.getElementById("bookingsLoader").style.display = "none";
        }

        // Show no bookings message
        showNoBookings() {
          this.hideLoader();
          document.getElementById("noBookings").style.display = "block";
          document.getElementById("bookingsList").style.display = "none";
        }

        // Show bookings list
        showBookingsList() {
          this.hideLoader();
          document.getElementById("noBookings").style.display = "none";
          document.getElementById("bookingsList").style.display = "block";
        }

        // Check if user is authenticated
        isAuthenticated() {
          // For demo purposes, we'll assume user is authenticated if they have a mobile number
          // In production, check for valid JWT token
          const savedMobile = localStorage.getItem("userMobile");
          return !!savedMobile;
        }

        // Get user mobile from storage
        getUserMobile() {
          return localStorage.getItem("userMobile") || "Guest User";
        }

        // Load bookings
        async loadBookings() {
          if (!this.isAuthenticated()) {
            this.showAuthRequired();
            return;
          }

          this.showLoader();

          try {
            // Get authentication token
            const authToken = localStorage.getItem("authToken");
            const userData = localStorage.getItem("userData");

            if (!authToken) {
              throw new Error("Authentication required");
            }

            // API call to get user bookings using the specific token
            const bookingsHeaders = {
              Authorization: `Bearer ${API_CONFIG.BOOKINGS_TOKEN}`,
              Accept: "application/json",
              "Content-Type": "application/json",
              Referer: window.location.origin,
              "User-Agent":
                "Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1",
            };

            const response = await fetch(API_CONFIG.GET_BOOKINGS, {
              method: "GET",
              headers: bookingsHeaders,
              mode: "cors",
              credentials: "omit",
              cache: "no-cache",
            });

            if (!response.ok) {
              if (response.status === 401) {
                // Token expired, clear auth data
                localStorage.removeItem("authToken");
                localStorage.removeItem("userData");
                this.showAuthRequired();
                return;
              }
              throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();

            if (result.success || result.status === "success") {
              const bookings = result.bookings || result.data || [];

              if (bookings.length === 0) {
                this.showNoBookings();
              } else {
                this.bookings = bookings;
                this.renderBookings(bookings);
                this.showBookingsList();
              }
            } else {
              throw new Error(result.message || "Failed to load bookings");
            }
          } catch (error) {
            console.error("Error loading bookings:", error);

            // Fallback to demo data if API is not available
            console.log("API not available, loading demo bookings");

            // Mock booking data for demo
            const mockBookings = [
              {
                bookingId: "CAR123456789",
                serviceName: "Smart Wash",
                date: new Date().toISOString(),
                time: "10:00",
                status: "completed",
                address: "123, Sample Street, City",
                amount: 299,
                completionCode: "1234",
                vendorPhone: "+918005003533",
              },
              {
                bookingId: "CAR987654321",
                serviceName: "Premium Wash",
                date: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
                time: "14:00",
                status: "confirmed",
                address: "456, Another Street, City",
                amount: 499,
                completionCode: "5678",
                vendorPhone: "+918005003533",
              },
            ];

            if (mockBookings.length === 0) {
              this.showNoBookings();
            } else {
              this.bookings = mockBookings;
              this.renderBookings(mockBookings);
              this.showBookingsList();
            }
          }
        }

        // Show authentication required message
        showAuthRequired() {
          this.hideLoader();
          const bookingsList = document.getElementById("bookingsList");
          bookingsList.innerHTML = `
            <div class="no-bookings">
              <div class="no-bookings-icon">
                <i class="fas fa-user-lock"></i>
              </div>
              <h3>Authentication Required</h3>
              <p>Please complete the booking process or log in to view your bookings.</p>
              <button class="btn-primary" onclick="window.openOTPModal && window.openOTPModal(); window.bookingManager.hideBookings();">
                Sign In
              </button>
            </div>
          `;
          bookingsList.style.display = "block";
        }

        // Show error message
        showError(message) {
          this.hideLoader();
          const bookingsList = document.getElementById("bookingsList");
          bookingsList.innerHTML = `
            <div class="no-bookings">
              <div class="no-bookings-icon">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <h3>Error Loading Bookings</h3>
              <p>${message}</p>
              <button class="btn-primary" onclick="window.bookingManager.loadBookings();">
                Try Again
              </button>
            </div>
          `;
          bookingsList.style.display = "block";
        }

        // Render bookings
        renderBookings() {
          const bookingsList = document.getElementById("bookingsList");

          if (this.bookings.length === 0) {
            this.showNoBookings();
            return;
          }

          bookingsList.innerHTML = this.bookings
            .map((booking) => this.renderBookingCard(booking))
            .join("");
        }

        // Render individual booking card
        renderBookingCard(booking) {
          const isCancelled =
            booking.status === "cancelled" || booking.status === "expired";
          const cardClass = "";
          const statusClass = this.getStatusClass(booking.status);

          // Get service name from serviceId
          const serviceName = this.getServiceName(booking.serviceId);

          // Format the timestamp date
          const formattedDate = this.formatFirestoreDate(booking.date);

          // Get address from nested address object
          const address = booking.address
            ? booking.address.address
            : "Address not available";
          const houseNumber = booking.address
            ? booking.address.houseNumber
            : "";
          const fullAddress = houseNumber
            ? `${houseNumber}, ${address}`
            : address;

          return `
            <div class="booking-card ${cardClass} ${
            isCancelled ? "cancelled" : ""
          }">
              ${
                isCancelled
                  ? `
                <div class="cancel-stamp">
                  <div class="cancel-stamp-text">${booking.status}</div>
                </div>
              `
                  : ""
              }
              
              <div class="booking-header">
                <h3 class="service-name ${
                  isCancelled ? "cancelled-text" : ""
                }">${serviceName}</h3>
                <span class="booking-status ${statusClass}">
                  ${
                    booking.status.charAt(0).toUpperCase() +
                    booking.status.slice(1)
                  }
                </span>
              </div>
              
              <div class="booking-info">
                <div class="info-row">
                  <i class="fas fa-receipt info-icon"></i>
                  <span ${
                    isCancelled ? 'class="cancelled-text"' : ""
                  }>Booking ID: ${booking.bookingId}</span>
                </div>
                
                <div class="info-row datetime">
                  <div class="date-time-item">
                    <i class="fas fa-calendar info-icon"></i>
                    <span ${
                      isCancelled ? 'class="cancelled-text"' : ""
                    }>${formattedDate}</span>
                  </div>
                  ${
                    booking.time
                      ? `
                    <div class="date-time-item">
                      <i class="fas fa-clock info-icon"></i>
                      <span ${
                        isCancelled ? 'class="cancelled-text"' : ""
                      }>${this.formatTimeSlot(booking.time)}</span>
                    </div>
                  `
                      : ""
                  }
                </div>
                
                <div class="info-row">
                  <i class="fas fa-rupee-sign info-icon"></i>
                  <span ${
                    isCancelled ? 'class="cancelled-text"' : ""
                  }>Amount: ₹${booking.price}</span>
                </div>
                
                <div class="info-row">
                  <i class="fas fa-map-marker-alt info-icon"></i>
                  <span ${
                    isCancelled ? 'class="cancelled-text"' : ""
                  } title="${fullAddress}">${this.truncateAddress(
            fullAddress
          )}</span>
                </div>
                
                ${
                  booking.completionCode
                    ? `
                  <div class="info-row">
                    <i class="fas fa-key info-icon"></i>
                    <span ${
                      isCancelled ? 'class="cancelled-text"' : ""
                    }>Start Code: ${booking.completionCode}</span>
                  </div>
                `
                    : ""
                }
                
                <div class="info-row">
                  <i class="fas fa-credit-card info-icon"></i>
                  <span ${
                    isCancelled ? 'class="cancelled-text"' : ""
                  }>Payment: ${
            booking.status === "completed" ? "Paid" : "Pending"
          }</span>
                </div>
              </div>
              
              <div class="booking-actions">
                ${
                  booking.status === "completed"
                    ? `
                  <button class="action-btn download-btn" onclick="window.bookingManager.downloadReceipt('${booking.bookingId}')">
                    <i class="fas fa-download"></i>
                    Download Invoice
                  </button>
                `
                    : ""
                }
              </div>
            </div>
          `;
        }

        // Call vendor
        callVendor(mobile) {
          window.open(`tel:${mobile}`, "_self");
        }

        // Cancel booking
        async cancelBooking(bookingId) {
          if (!confirm("Are you sure you want to cancel this booking?")) {
            return;
          }

          try {
            // Show loading state
            const cancelBtn = event.target.closest(".cancel-btn");
            const originalContent = cancelBtn.innerHTML;
            cancelBtn.innerHTML =
              '<div class="loading-spinner"></div> Cancelling...';
            cancelBtn.disabled = true;

            // Simulate API call
            await new Promise((resolve) => setTimeout(resolve, 2000));

            // Update booking status
            const booking = this.bookings.find((b) => b.id === bookingId);
            if (booking) {
              booking.status = "cancelled";
              this.renderBookings();
            }

            alert("Booking cancelled successfully");
          } catch (error) {
            console.error("Error cancelling booking:", error);
            alert("Failed to cancel booking. Please try again.");
          }
        }

        // Download receipt
        downloadReceipt(bookingId) {
          const booking = this.bookings.find((b) => b.bookingId === bookingId);
          if (!booking) return;

          const isPlan = !!booking.time;
          const receiptData = {
            invoiceNumber: booking.bookingId,
            phone: this.getUserMobile(),
            address:
              isPlan && booking.address
                ? `${booking.address.houseNumber}, ${booking.address.address}`
                : "",
            service: booking.serviceName,
            date: this.formatDate(booking.date),
            time: isPlan ? this.formatTimeSlot(booking.time) : "",
            cost: isPlan ? 549 : booking.amount,
            discount: isPlan ? 549 - booking.price : 0,
            total: booking.price,
          };

          const queryString = Object.keys(receiptData)
            .map(
              (key) =>
                `${encodeURIComponent(key)}=${encodeURIComponent(
                  receiptData[key]
                )}`
            )
            .join("&");

          const receiptUrl = `https://car18.in/download-receipt.html?${queryString}`;
          window.open(receiptUrl, "_blank");
        }

        // Refresh bookings
        refreshBookings() {
          this.loadBookings();
        }
      }

      // Initialize booking manager
      window.bookingManager = new BookingManager();

      // Function to update navigation based on authentication status
      window.updateNavigation = function () {
        const myBookingsNav = document.getElementById("myBookingsNav");
        if (myBookingsNav) {
          if (
            window.bookingManager &&
            window.bookingManager.isAuthenticated()
          ) {
            myBookingsNav.style.display = "block";
          } else {
            myBookingsNav.style.display = "none";
          }
        }
      };

      // Update navigation on page load
      window.updateNavigation();

      // Global functions for navigation
      window.showMyBookings = function () {
        window.bookingManager.showBookings();
      };

      window.hideMyBookings = function () {
        window.bookingManager.hideBookings();
      };

      window.refreshBookings = function () {
        window.bookingManager.refreshBookings();
      };

      // Function to handle user logout
      window.handleLogout = function () {
        // Clear authentication data
        localStorage.removeItem("userMobile");
        localStorage.removeItem("authToken");
        localStorage.removeItem("userData");
        // Update navigation to hide My Bookings
        if (window.updateNavigation) {
          window.updateNavigation();
        }
      };

      // Store user mobile when booking is completed (for demo purposes)
      if (window.otpModal) {
        const originalHandleSuccessfulBooking =
          window.otpModal.handleSuccessfulBooking;
        window.otpModal.handleSuccessfulBooking = function (data) {
          // Store mobile number for bookings
          if (data.mobile) {
            localStorage.setItem("userMobile", data.mobile);
          }
          // Update navigation to show My Bookings
          if (window.updateNavigation) {
            window.updateNavigation();
          }
          // Call original function
          originalHandleSuccessfulBooking.call(this, data);
        };
      }
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
      // Register Service Worker
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("./sw.js")
            .then((registration) => {
              console.log("SW registered: ", registration);

              // Check for updates
              registration.addEventListener("updatefound", () => {
                const newWorker = registration.installing;
                if (newWorker) {
                  newWorker.addEventListener("statechange", () => {
                    if (
                      newWorker.state === "installed" &&
                      navigator.serviceWorker.controller
                    ) {
                      // New content available
                      if (confirm("New version available! Reload to update?")) {
                        window.location.reload();
                      }
                    }
                  });
                }
              });
            })
            .catch((registrationError) => {
              console.log("SW registration failed: ", registrationError);
            });
        });
      }

      // PWA Install Prompt
      /* Commented out floating install button
      let deferredPrompt;
      const installButton = document.createElement('button');
      installButton.textContent = 'Install Cat18 Lite App';
      installButton.style.cssText = `
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 1000;
        background: #0066ff;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        display: none;
        transition: all 0.3s ease;
      `;

      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        
        // Show install button
        installButton.style.display = 'block';
        document.body.appendChild(installButton);
      });

      installButton.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt();
          const { outcome } = await deferredPrompt.userChoice;
          console.log(`User response to install prompt: ${outcome}`);
          
          if (outcome === 'accepted') {
            installButton.style.display = 'none';
          }
          
          deferredPrompt = null;
        }
      });

      // Hide install button if app is already installed
      window.addEventListener('appinstalled', () => {
        installButton.style.display = 'none';
        console.log('PWA was installed');
      });
      */

      // Add to Home Screen for iOS
      function isIos() {
        return /iPad|iPhone|iPod/.test(navigator.userAgent);
      }

      function isInStandaloneMode() {
        return (
          window.matchMedia("(display-mode: standalone)").matches ||
          window.navigator.standalone === true
        );
      }

      if (isIos() && !isInStandaloneMode()) {
        const iosInstallPrompt = document.createElement("div");
        iosInstallPrompt.innerHTML = `
          <div style="position: fixed; bottom: 0; left: 0; right: 0; background: #0066ff; color: white; padding: 15px; text-align: center; z-index: 1000;">
            <p style="margin: 0 0 10px 0;">Install Car18 app: Tap <span style="font-size: 18px;">⎙</span> then "Add to Home Screen"</p>
            <button onclick="this.parentElement.parentElement.remove()" style="background: white; color: #0066ff; border: none; padding: 8px 16px; border-radius: 15px; font-weight: 600; cursor: pointer;">Close</button>
          </div>
        `;
        document.body.appendChild(iosInstallPrompt);

        // Auto-hide after 10 seconds
        setTimeout(() => {
          if (iosInstallPrompt.parentElement) {
            iosInstallPrompt.remove();
          }
        }, 10000);
      }
    </script>

    <!-- OTP Verification Modal -->
    <div id="otpModal" class="otp-modal">
      <div class="otp-modal-content">
        <div class="otp-modal-header">
          <span class="otp-close">&times;</span>
        </div>

        <div class="otp-content">
          <!-- Mobile Input Step -->
          <div id="mobileStep" class="otp-step active">
            <h2 class="otp-title">Let's Get Started</h2>
            <p class="otp-subtitle">
              We'll send a 4-digit code to your phone to verify your number.
            </p>

            <div class="otp-input-container">
              <div class="mobile-input-wrapper">
                <svg
                  class="input-icon"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"
                    fill="#0066ff"
                  />
                </svg>
                <input
                  type="tel"
                  id="mobileNumber"
                  placeholder="Enter your mobile number"
                  maxlength="10"
                  autocomplete="tel"
                />
              </div>
              <div id="mobileError" class="error-text"></div>
              <button id="sendOtpBtn" class="otp-btn primary">
                <span class="btn-text">Send OTP</span>
                <div class="btn-loader"></div>
              </button>
            </div>
          </div>

          <!-- OTP Verification Step -->
          <div id="otpStep" class="otp-step">
            <h2 class="otp-title">Verify Your Number</h2>
            <div class="otp-subtitle">
              <span>We've sent a 4-digit code to </span>
              <span id="displayMobile" class="mobile-text"></span>
              <button id="editMobile" class="edit-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
                    fill="#0066ff"
                  />
                </svg>
              </button>
            </div>

            <div class="otp-autofill-hint">
              <span
                style="
                  font-size: 13px;
                  color: #666;
                  display: flex;
                  align-items: center;
                  gap: 6px;
                  margin-bottom: 12px;
                "
              >
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                    fill="#4CAF50"
                  />
                </svg>
                Code will be auto-filled from SMS when received
              </span>
            </div>

            <div class="otp-input-container">
              <input
                type="tel"
                id="otpInput"
                name="one-time-code"
                placeholder="••••"
                maxlength="4"
                minlength="4"
                class="otp-code-input"
                autocomplete="one-time-code"
                autocorrect="off"
                autocapitalize="off"
                spellcheck="false"
                inputmode="numeric"
                pattern="[0-9]*"
                aria-label="Enter 4-digit OTP code"
              />
              <button id="verifyOtpBtn" class="otp-btn primary">
                <span class="btn-text">Verify OTP</span>
                <div class="btn-loader"></div>
              </button>

              <div class="resend-container">
                <div id="timerText" class="timer-text">
                  Resend OTP in <span id="timer">30</span>s
                </div>
                <button id="resendOtp" class="resend-btn" style="display: none">
                  Resend OTP
                </button>
              </div>
            </div>
          </div>

          <!-- Location Form Step -->
          <div id="locationStep" class="otp-step">
            <h2 class="otp-title">Add Your Address</h2>
            <div class="otp-subtitle">
              Please provide your location for service
            </div>

            <div class="location-form-container">
              <!-- Map Container -->
              <div class="map-container">
                <div id="mapLoader" class="map-loader">
                  <div class="loader-spinner"></div>
                  <p>Getting your location...</p>
                </div>
                <div id="mapElement" class="map-element" style="display: none">
                  <!-- Map will be inserted here -->
                </div>
              </div>

              <!-- House Number Input -->
              <div class="location-input-group">
                <label for="houseNumber" class="location-label"
                  >House Number / Flat Number</label
                >
                <input
                  type="text"
                  id="houseNumber"
                  placeholder="Enter your house/flat number"
                  class="location-input"
                />
                <div id="houseNumberError" class="location-error-text"></div>
              </div>

              <!-- Continue Button -->
              <button id="continueLocationBtn" class="otp-btn primary">
                <span class="btn-text">Continue</span>
                <div class="btn-loader"></div>
              </button>
            </div>
          </div>

          <!-- Date & Time Selection Step -->
          <div id="dateTimeStep" class="otp-step">
            <h2 class="otp-title">Schedule Service</h2>
            <div class="otp-subtitle">
              Select your preferred date and time slot
            </div>

            <div class="datetime-form-container">
              <!-- Date Selection -->
              <div class="datetime-input-group">
                <label class="datetime-label">Select Date *</label>
                <div class="date-input-container">
                  <input
                    type="date"
                    id="serviceDate"
                    class="datetime-input date-input"
                  />
                  <div id="dateError" class="datetime-error-text">
                    Please select a date
                  </div>
                </div>
              </div>

              <!-- Time Slot Selection -->
              <div class="datetime-input-group">
                <label class="datetime-label">Select Time Slot *</label>
                <div class="time-slots-container">
                  <div
                    id="slotsLoader"
                    class="slots-loader"
                    style="display: none"
                  >
                    <div class="loader-spinner"></div>
                    <p>Loading available slots...</p>
                  </div>
                  <div id="timeSlots" class="time-slots">
                    <!-- Time slots will be populated here -->
                  </div>
                  <div id="timeError" class="datetime-error-text">
                    Please select a time slot
                  </div>
                </div>
              </div>

              <div class="datetime-buttons">
                <button id="continueBookingBtn" class="otp-btn">
                  <span class="btn-text">Continue</span>
                  <div class="btn-loader"></div>
                </button>
                <button id="backToLocationBtn" class="otp-btn secondary">
                  <span class="btn-text">Back</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Confirmation Step -->
          <div id="confirmationStep" class="otp-step">
            <h2 class="otp-title">Review & Confirm</h2>
            <div class="otp-subtitle">
              Please review your service details before confirming your booking
            </div>

            <div class="confirmation-container">
              <!-- Service Details Section -->
              <div class="confirmation-section">
                <h3 class="section-title">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    style="color: var(--primary)"
                  >
                    <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                    <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                    <path
                      d="M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m-6 -9h8m-8 -2h8"
                    ></path>
                  </svg>
                  Service Details
                </h3>
                <div class="section-content">
                  <div class="summary-item">
                    <span class="summary-label">Selected Service</span>
                    <span id="confirmServiceName" class="summary-value">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Service Date</span>
                    <span id="confirmDate" class="summary-value">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="summary-label">Time Slot</span>
                    <span id="confirmTime" class="summary-value">-</span>
                  </div>
                </div>
              </div>

              <!-- Address Section -->
              <div class="confirmation-section">
                <h3 class="section-title">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    style="color: var(--primary)"
                  >
                    <path
                      d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
                    ></path>
                    <circle cx="12" cy="10" r="3"></circle>
                  </svg>
                  Service Address
                </h3>
                <div class="section-content">
                  <div class="summary-item">
                    <span id="confirmAddress" class="summary-value">-</span>
                  </div>
                </div>
              </div>

              <!-- Price Section -->
              <div class="confirmation-section">
                <h3 class="section-title">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 100 100"
                    role="img"
                    aria-label="Rupee symbol"
                    style="color: var(--secondary)"
                  >
                    <text
                      x="50"
                      y="55"
                      font-family="Noto Sans, 'Segoe UI Symbol', 'DejaVu Sans', Arial, sans-serif"
                      font-size="72"
                      text-anchor="middle"
                      dominant-baseline="middle"
                      fill="currentColor"
                    >
                      ₹
                    </text>
                  </svg>
                  Total Amount
                </h3>
                <div class="section-content">
                  <div class="summary-item">
                    <span class="summary-label">Service Charge</span>
                    <span
                      id="confirmPrice"
                      class="summary-value price-highlight"
                      >-</span
                    >
                  </div>
                </div>
              </div>

              <div class="confirmation-buttons">
                <button id="confirmBookingBtn" class="otp-btn">
                  <span class="btn-text">Continue</span>
                  <div class="btn-loader"></div>
                </button>
              </div>

              <div class="confirmation-buttons" style="margin-top: 20px">
                <button id="backToDateTimeBtn" class="otp-btn secondary">
                  <span class="btn-text">Back</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <div
      id="confirmationModal"
      class="confirmation-modal"
      style="display: none"
    >
      <div class="confirmation-modal-overlay">
        <div class="confirmation-modal-content">
          <h3 id="confirmationTitle" class="confirmation-title">
            Confirm Booking Cancellation
          </h3>
          <p id="confirmationMessage" class="confirmation-message">
            Are you sure you want to cancel this booking? This action cannot be
            undone.
          </p>
          <div class="confirmation-modal-buttons">
            <button
              id="cancelConfirmationBtn"
              class="confirmation-btn cancel-btn"
            >
              <span class="btn-text">No</span>
            </button>
            <button
              id="proceedConfirmationBtn"
              class="confirmation-btn confirm-btn"
            >
              <span class="btn-text">Yes, Cancel</span>
              <div class="btn-loader"></div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
